\doxysection{Multi\+Body\+Tree\+Impl.\+hpp}
\hypertarget{_multi_body_tree_impl_8hpp_source}{}\label{_multi_body_tree_impl_8hpp_source}\index{C:/Users/Usuario/Documents/pruebas-\/c/Practica Animación/libraries/bullet-\/3.17/src/BulletInverseDynamics/details/MultiBodyTreeImpl.hpp@{C:/Users/Usuario/Documents/pruebas-\/c/Practica Animación/libraries/bullet-\/3.17/src/BulletInverseDynamics/details/MultiBodyTreeImpl.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ The\ structs\ and\ classes\ defined\ here\ provide\ a\ basic\ inverse\ fynamics\ implementation\ used}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ by\ MultiBodyTree}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ User\ interaction\ should\ be\ through\ MultiBodyTree}}
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#ifndef\ MULTI\_BODY\_REFERENCE\_IMPL\_HPP\_}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#define\ MULTI\_BODY\_REFERENCE\_IMPL\_HPP\_}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ "{}../IDConfig.hpp"{}}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ "{}../MultiBodyTree.hpp"{}}}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{keyword}{namespace\ }btInverseDynamics}
\DoxyCodeLine{00012\ \{}
\DoxyCodeLine{00016\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structbt_inverse_dynamics_1_1_rigid_body}{RigidBody}}}
\DoxyCodeLine{00017\ \{}
\DoxyCodeLine{00018\ \ \ \ \ ID\_DECLARE\_ALIGNED\_ALLOCATOR();}
\DoxyCodeLine{00019\ \ \ \ \ \textcolor{comment}{//\ 1\ Inertial\ properties}}
\DoxyCodeLine{00021\ \ \ \ \ idScalar\ \mbox{\hyperlink{structbt_inverse_dynamics_1_1_rigid_body_a9c2c26d13a5bfceeb1c936830ef98d75}{m\_mass}};}
\DoxyCodeLine{00023\ \ \ \ \ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vec3}{vec3}}\ \mbox{\hyperlink{structbt_inverse_dynamics_1_1_rigid_body_a0fec2613f8d67563ae5450af75558832}{m\_body\_mass\_com}};}
\DoxyCodeLine{00025\ \ \ \ \ \mbox{\hyperlink{classbt_inverse_dynamics_1_1mat33}{mat33}}\ \mbox{\hyperlink{structbt_inverse_dynamics_1_1_rigid_body_adc6f5a9cc20ea241416a56839010c461}{m\_body\_I\_body}};}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \ \ \ \ \textcolor{comment}{//\ 2\ dynamic\ properties}}
\DoxyCodeLine{00029\ \ \ \ \ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vec3}{vec3}}\ \mbox{\hyperlink{structbt_inverse_dynamics_1_1_rigid_body_aba23569b6f1234b68eaaa8adc9bdbdd6}{m\_eom\_lhs\_translational}};}
\DoxyCodeLine{00031\ \ \ \ \ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vec3}{vec3}}\ \mbox{\hyperlink{structbt_inverse_dynamics_1_1_rigid_body_ae9529f5eab0aada265b62815c12dcaaf}{m\_eom\_lhs\_rotational}};}
\DoxyCodeLine{00036\ \ \ \ \ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vec3}{vec3}}\ \mbox{\hyperlink{structbt_inverse_dynamics_1_1_rigid_body_a00b16b69c8a91774162c934ca8ec1e2c}{m\_force\_at\_joint}};}
\DoxyCodeLine{00040\ \ \ \ \ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vec3}{vec3}}\ \mbox{\hyperlink{structbt_inverse_dynamics_1_1_rigid_body_ae72019499bdedb8dc12131a48b3a243c}{m\_moment\_at\_joint}};}
\DoxyCodeLine{00043\ \ \ \ \ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vec3}{vec3}}\ \mbox{\hyperlink{structbt_inverse_dynamics_1_1_rigid_body_ac0d70c45cc5e1876fb7aba320293a7fb}{m\_body\_force\_user}};}
\DoxyCodeLine{00046\ \ \ \ \ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vec3}{vec3}}\ \mbox{\hyperlink{structbt_inverse_dynamics_1_1_rigid_body_a2525b72b49dff7c73e9d4056e6e13411}{m\_body\_moment\_user}};}
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{comment}{//\ 3\ absolute\ kinematic\ properties}}
\DoxyCodeLine{00050\ \ \ \ \ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vec3}{vec3}}\ \mbox{\hyperlink{structbt_inverse_dynamics_1_1_rigid_body_abe1a189ee858529b691fe72beb819e5f}{m\_body\_pos}};}
\DoxyCodeLine{00052\ \ \ \ \ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vec3}{vec3}}\ \mbox{\hyperlink{structbt_inverse_dynamics_1_1_rigid_body_a72cf1e877fe50ff6d927001c35d9a002}{m\_body\_vel}};}
\DoxyCodeLine{00056\ \ \ \ \ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vec3}{vec3}}\ \mbox{\hyperlink{structbt_inverse_dynamics_1_1_rigid_body_a67bb39b2dbbd0180395b251bdbae00c7}{m\_body\_acc}};}
\DoxyCodeLine{00058\ \ \ \ \ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vec3}{vec3}}\ \mbox{\hyperlink{structbt_inverse_dynamics_1_1_rigid_body_a4996f2d7851b6b69f77661a67cda7b59}{m\_body\_ang\_vel}};}
\DoxyCodeLine{00062\ \ \ \ \ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vec3}{vec3}}\ \mbox{\hyperlink{structbt_inverse_dynamics_1_1_rigid_body_a8d32f2b5bcdf5f3a2566343de43ebb71}{m\_body\_ang\_acc}};}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{comment}{//\ 4\ relative\ kinematic\ properties.}}
\DoxyCodeLine{00065\ \ \ \ \ \textcolor{comment}{//\ these\ are\ in\ the\ parent\ body\ frame}}
\DoxyCodeLine{00068\ \ \ \ \ \mbox{\hyperlink{classbt_inverse_dynamics_1_1mat33}{mat33}}\ \mbox{\hyperlink{structbt_inverse_dynamics_1_1_rigid_body_ac923bac96faf25c431d498493ed9ff0e}{m\_body\_T\_world}};}
\DoxyCodeLine{00070\ \ \ \ \ \mbox{\hyperlink{classbt_inverse_dynamics_1_1mat33}{mat33}}\ \mbox{\hyperlink{structbt_inverse_dynamics_1_1_rigid_body_ac8807fda3577ce44b4acb5eb4467630e}{m\_body\_T\_parent}};}
\DoxyCodeLine{00072\ \ \ \ \ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vec3}{vec3}}\ \mbox{\hyperlink{structbt_inverse_dynamics_1_1_rigid_body_acc114bbf3c15e79439d323a0559d85ce}{m\_parent\_pos\_parent\_body}};}
\DoxyCodeLine{00074\ \ \ \ \ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vec3}{vec3}}\ \mbox{\hyperlink{structbt_inverse_dynamics_1_1_rigid_body_a17c7199923a969db2fb6a2fc51677257}{m\_body\_ang\_vel\_rel}};}
\DoxyCodeLine{00076\ \ \ \ \ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vec3}{vec3}}\ \mbox{\hyperlink{structbt_inverse_dynamics_1_1_rigid_body_ab134cf736fce044e8e1d58ccfb67c7cb}{m\_parent\_vel\_rel}};}
\DoxyCodeLine{00078\ \ \ \ \ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vec3}{vec3}}\ \mbox{\hyperlink{structbt_inverse_dynamics_1_1_rigid_body_ab96cf11aea9b987ef0f46d30bba62d03}{m\_body\_ang\_acc\_rel}};}
\DoxyCodeLine{00080\ \ \ \ \ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vec3}{vec3}}\ \mbox{\hyperlink{structbt_inverse_dynamics_1_1_rigid_body_aa2bdf0b158eca1ab65c4f8ddef3cf0f9}{m\_parent\_acc\_rel}};}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00082\ \ \ \ \ \textcolor{comment}{//\ 5\ Data\ describing\ the\ joint\ type\ and\ geometry}}
\DoxyCodeLine{00084\ \ \ \ \ JointType\ \mbox{\hyperlink{structbt_inverse_dynamics_1_1_rigid_body_abf03ba35f65fcf499e232812fc6d50ff}{m\_joint\_type}};}
\DoxyCodeLine{00087\ \ \ \ \ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vec3}{vec3}}\ \mbox{\hyperlink{structbt_inverse_dynamics_1_1_rigid_body_a1bae64073eb9e0ff3f0d15c01a8bc9a1}{m\_parent\_pos\_parent\_body\_ref}};}
\DoxyCodeLine{00089\ \ \ \ \ \mbox{\hyperlink{classbt_inverse_dynamics_1_1mat33}{mat33}}\ \mbox{\hyperlink{structbt_inverse_dynamics_1_1_rigid_body_a4142975a0941e5706ce24323d51ae83d}{m\_body\_T\_parent\_ref}};}
\DoxyCodeLine{00094\ \ \ \ \ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vec3}{vec3}}\ \mbox{\hyperlink{structbt_inverse_dynamics_1_1_rigid_body_a5ce5299988e53be540fa03c23b8bb63e}{m\_Jac\_JR}};}
\DoxyCodeLine{00099\ \ \ \ \ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vec3}{vec3}}\ \mbox{\hyperlink{structbt_inverse_dynamics_1_1_rigid_body_acedf67bbb73601a34c2909136fae1187}{m\_Jac\_JT}};}
\DoxyCodeLine{00101\ \ \ \ \ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vec3}{vec3}}\ \mbox{\hyperlink{structbt_inverse_dynamics_1_1_rigid_body_a611f676adae686400eb0e080b63450f5}{m\_parent\_Jac\_JT}};}
\DoxyCodeLine{00105\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structbt_inverse_dynamics_1_1_rigid_body_a33784734bb817b0f117e5cc59f8e2d07}{m\_q\_index}};}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \ \ \ \ \textcolor{comment}{//\ 6\ Scratch\ data\ for\ mass\ matrix\ computation\ using\ "{}composite\ rigid\ body\ algorithm"{}}}
\DoxyCodeLine{00109\ \ \ \ \ idScalar\ \mbox{\hyperlink{structbt_inverse_dynamics_1_1_rigid_body_a373da26934541537bcd9037f47502b5d}{m\_subtree\_mass}};}
\DoxyCodeLine{00111\ \ \ \ \ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vec3}{vec3}}\ \mbox{\hyperlink{structbt_inverse_dynamics_1_1_rigid_body_a9e35e44f0444659a3b67aa6ac4e06a2e}{m\_body\_subtree\_mass\_com}};}
\DoxyCodeLine{00113\ \ \ \ \ \mbox{\hyperlink{classbt_inverse_dynamics_1_1mat33}{mat33}}\ \mbox{\hyperlink{structbt_inverse_dynamics_1_1_rigid_body_aaae72e24abe3f1abb3d8b6dd3ef18d42}{m\_body\_subtree\_I\_body}};}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00115\ \textcolor{preprocessor}{\#if\ (defined\ BT\_ID\_HAVE\_MAT3X)\ \&\&\ (defined\ BT\_ID\_WITH\_JACOBIANS)}}
\DoxyCodeLine{00117\ \ \ \ \ \mbox{\hyperlink{classbt_inverse_dynamics_1_1mat3x}{mat3x}}\ \mbox{\hyperlink{structbt_inverse_dynamics_1_1_rigid_body_adddc2c2b278ffde843dc9771c98741c8}{m\_body\_Jac\_T}};}
\DoxyCodeLine{00119\ \ \ \ \ \mbox{\hyperlink{classbt_inverse_dynamics_1_1mat3x}{mat3x}}\ \mbox{\hyperlink{structbt_inverse_dynamics_1_1_rigid_body_a59273d8e09a12a501c36ce482c6bab26}{m\_body\_Jac\_R}};}
\DoxyCodeLine{00122\ \ \ \ \ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vec3}{vec3}}\ \mbox{\hyperlink{structbt_inverse_dynamics_1_1_rigid_body_a5b544206431b83f7e8f72004add66029}{m\_body\_dot\_Jac\_T\_u}};}
\DoxyCodeLine{00125\ \ \ \ \ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vec3}{vec3}}\ \mbox{\hyperlink{structbt_inverse_dynamics_1_1_rigid_body_aaabe7b9e48f3eb97fdfe8f764beb919f}{m\_body\_dot\_Jac\_R\_u}};}
\DoxyCodeLine{00126\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00127\ \};}
\DoxyCodeLine{00128\ }
\DoxyCodeLine{00130\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl}{MultiBodyTree::MultiBodyImpl}}}
\DoxyCodeLine{00131\ \{}
\DoxyCodeLine{00132\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classbt_inverse_dynamics_1_1_multi_body_tree}{MultiBodyTree}};}
\DoxyCodeLine{00133\ }
\DoxyCodeLine{00134\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00135\ \ \ \ \ ID\_DECLARE\_ALIGNED\_ALLOCATOR();}
\DoxyCodeLine{00136\ }
\DoxyCodeLine{00137\ \ \ \ \ \textcolor{keyword}{enum}\ KinUpdateType}
\DoxyCodeLine{00138\ \ \ \ \ \{}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ POSITION\_ONLY,}
\DoxyCodeLine{00140\ \ \ \ \ \ \ \ \ POSITION\_VELOCITY,}
\DoxyCodeLine{00141\ \ \ \ \ \ \ \ \ POSITION\_VELOCITY\_ACCELERATION}
\DoxyCodeLine{00142\ \ \ \ \ \};}
\DoxyCodeLine{00143\ }
\DoxyCodeLine{00147\ \ \ \ \ \mbox{\hyperlink{classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl}{MultiBodyImpl}}(\textcolor{keywordtype}{int}\ num\_bodies\_,\ \textcolor{keywordtype}{int}\ num\_dofs\_);}
\DoxyCodeLine{00148\ }
\DoxyCodeLine{00150\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl_a408ca0c5fe8fcd75b2b8672e96c2237a}{calculateInverseDynamics}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vecx}{vecx}}\&\ q,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vecx}{vecx}}\&\ u,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vecx}{vecx}}\&\ dot\_u,}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vecx}{vecx}}*\ joint\_forces);}
\DoxyCodeLine{00153\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl_a6e4b376b92377b3350d4ebfd94652a0f}{calculateMassMatrix}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vecx}{vecx}}\&\ q,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ update\_kinematics,}
\DoxyCodeLine{00154\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ initialize\_matrix,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ set\_lower\_triangular\_matrix,}
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classbt_inverse_dynamics_1_1matxx}{matxx}}*\ mass\_matrix);}
\DoxyCodeLine{00159\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl_a32cb26dc4a94027f8206182f5a528bea}{calculateKinematics}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vecx}{vecx}}\&\ q,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vecx}{vecx}}\&\ u,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vecx}{vecx}}\&\ dot\_u,\ \textcolor{keyword}{const}\ KinUpdateType\ type);}
\DoxyCodeLine{00160\ \textcolor{preprocessor}{\#if\ (defined\ BT\_ID\_HAVE\_MAT3X)\ \&\&\ (defined\ BT\_ID\_WITH\_JACOBIANS)}}
\DoxyCodeLine{00162\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl_a3864ebdf6fe5e3589945f347e8d188a7}{calculateJacobians}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vecx}{vecx}}\&\ q,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vecx}{vecx}}\&\ u,\ \textcolor{keyword}{const}\ KinUpdateType\ type);}
\DoxyCodeLine{00164\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl_a0f572b15dea6be3d0bdc2a90a77fa659}{getBodyDotJacobianTransU}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ body\_index,\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vec3}{vec3}}*\ world\_dot\_jac\_trans\_u)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00166\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl_a906a9319cc2a87ff6961ef21806d4fe3}{getBodyDotJacobianRotU}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ body\_index,\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vec3}{vec3}}*\ world\_dot\_jac\_rot\_u)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00168\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl_a45da15edcd815ba91c9879dc4e95e9fc}{getBodyJacobianTrans}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ body\_index,\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1mat3x}{mat3x}}*\ world\_jac\_trans)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00170\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl_a18ba177549b741ee77cb12ff3dae7401}{getBodyJacobianRot}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ body\_index,\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1mat3x}{mat3x}}*\ world\_jac\_rot)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00173\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl_a6facecec947e6b43378ba20e6b98eea7}{addRelativeJacobianComponent}}(\mbox{\hyperlink{structbt_inverse_dynamics_1_1_rigid_body}{RigidBody}}\&\ body);}
\DoxyCodeLine{00174\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00177\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl_a8e65f0c1da65e68e3a482862f3b866c7}{generateIndexSets}}();}
\DoxyCodeLine{00181\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl_a6a9262d27208b099f1753bfb34178686}{setGravityInWorldFrame}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vec3}{vec3}}\&\ gravity);}
\DoxyCodeLine{00183\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl_a52b68afe0f3404617e2de19df70a4c5f}{printTree}}();}
\DoxyCodeLine{00185\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl_ad35f3180deb174def89f4b7bc48c4629}{printTreeData}}();}
\DoxyCodeLine{00187\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl_a72bf41dcbbf7d8b5d2a17bbaaeaa5029}{calculateStaticData}}();}
\DoxyCodeLine{00189\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl_ad2399d73ddc49a33d145e7710c9be95a}{getBodyFrame}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ index,\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vec3}{vec3}}*\ world\_origin,\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1mat33}{mat33}}*\ body\_T\_world)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00191\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl_ace5ed2225ecc96810f7b385ada048dd6}{getParentIndex}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ body\_index,\ \textcolor{keywordtype}{int}*\ m\_parent\_index);}
\DoxyCodeLine{00193\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl_a1003d4aa0c3c1facda0b7e0f1763de2a}{getJointType}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ body\_index,\ JointType*\ joint\_type)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00195\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl_af9f8182903a947e2b1c584007a93ef4a}{getJointTypeStr}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ body\_index,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}**\ joint\_type)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00197\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl_ab06b91fe914b2386d15e26bc8935d29a}{getParentRParentBodyRef}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ body\_index,\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vec3}{vec3}}*\ r)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00199\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl_a03076e04957c826d5d1d787208b5553e}{getBodyTParentRef}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ body\_index,\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1mat33}{mat33}}*\ T)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00201\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl_aa7387b156d01c94bc3b27545e53d1a6f}{getBodyAxisOfMotion}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ body\_index,\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vec3}{vec3}}*\ axis)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00203\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl_a34a7e46e37de53f71d07361cf772fd73}{getDoFOffset}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ body\_index,\ \textcolor{keywordtype}{int}*\ q\_index)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00205\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl_a30419d140228958d9aa135a8561e5f99}{getBodyOrigin}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ body\_index,\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vec3}{vec3}}*\ world\_origin)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00207\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl_afe2e8a46ada0259dd7d14b052d478224}{getBodyCoM}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ body\_index,\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vec3}{vec3}}*\ world\_com)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00209\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl_ab7c622f93c1ff296b9038a536b10557d}{getBodyTransform}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ body\_index,\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1mat33}{mat33}}*\ world\_T\_body)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00211\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl_a6766c4d7699fd5da9539d6c39eafd3c5}{getBodyAngularVelocity}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ body\_index,\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vec3}{vec3}}*\ world\_omega)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00213\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl_ae8bb1d55c01f5843c0e7104976fb4ae3}{getBodyLinearVelocity}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ body\_index,\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vec3}{vec3}}*\ world\_velocity)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00215\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl_a177a0911239f2649f6bd463f031a8c47}{getBodyLinearVelocityCoM}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ body\_index,\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vec3}{vec3}}*\ world\_velocity)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00217\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl_ab429b76016b0e33adbb0f296bcb31be5}{getBodyAngularAcceleration}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ body\_index,\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vec3}{vec3}}*\ world\_dot\_omega)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00219\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl_a9f46af7e81a97528f03dac7f7ce57627}{getBodyLinearAcceleration}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ body\_index,\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vec3}{vec3}}*\ world\_acceleration)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00221\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl_aa2390d474c598a99931442cb160f5b4c}{getUserInt}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ body\_index,\ \textcolor{keywordtype}{int}*\ user\_int)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00223\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl_a49f0284e01765453f5c542f39f3329da}{getUserPtr}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ body\_index,\ \textcolor{keywordtype}{void}**\ user\_ptr)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00225\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl_a975f98e25ccfc364e3e5b6f49bdce2f2}{setUserInt}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ body\_index,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ user\_int);}
\DoxyCodeLine{00227\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl_ae3d149282a6c90ea6b0bcfe9c25066be}{setUserPtr}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ body\_index,\ \textcolor{keywordtype}{void}*\ \textcolor{keyword}{const}\ user\_ptr);}
\DoxyCodeLine{00229\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl_a39c5abc3579669646d6c669a7e86032e}{setBodyMass}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ body\_index,\ \textcolor{keyword}{const}\ idScalar\ mass);}
\DoxyCodeLine{00231\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl_abf4ba386bf4546e4bf05588d46cd82b5}{setBodyFirstMassMoment}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ body\_index,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vec3}{vec3}}\&\ first\_mass\_moment);}
\DoxyCodeLine{00233\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl_adc1e2a8408ad2e37469f47280d19536f}{setBodySecondMassMoment}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ body\_index,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1mat33}{mat33}}\&\ second\_mass\_moment);}
\DoxyCodeLine{00235\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl_a20db7d890d2b55708b16baf64bc9ba4d}{getBodyMass}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ body\_index,\ idScalar*\ mass)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00237\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl_acd53fd62d9feeb14fd9dfb9aa3a9f32c}{getBodyFirstMassMoment}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ body\_index,\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vec3}{vec3}}*\ first\_mass\_moment)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00239\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl_a9db3cd70c11939d6efe018fb434f0f3f}{getBodySecondMassMoment}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ body\_index,\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1mat33}{mat33}}*\ second\_mass\_moment)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00241\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl_ab3b1f5f6819d8c5529b4d029ea775d10}{clearAllUserForcesAndMoments}}();}
\DoxyCodeLine{00243\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl_a4f1786c829da5d57e4758437a38b469c}{addUserForce}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ body\_index,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vec3}{vec3}}\&\ body\_force);}
\DoxyCodeLine{00245\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1_multi_body_tree_1_1_multi_body_impl_aef25e8becc20bc0ceb7dcdfd853098e0}{addUserMoment}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ body\_index,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vec3}{vec3}}\&\ body\_moment);}
\DoxyCodeLine{00246\ }
\DoxyCodeLine{00247\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00248\ \ \ \ \ \textcolor{comment}{//\ debug\ function.\ print\ tree\ structure\ to\ stdout}}
\DoxyCodeLine{00249\ \ \ \ \ \textcolor{keywordtype}{void}\ printTree(\textcolor{keywordtype}{int}\ index,\ \textcolor{keywordtype}{int}\ indentation);}
\DoxyCodeLine{00250\ \ \ \ \ \textcolor{comment}{//\ get\ string\ representation\ of\ JointType\ (for\ debugging)}}
\DoxyCodeLine{00251\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ jointTypeToString(\textcolor{keyword}{const}\ JointType\&\ type)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00252\ \ \ \ \ \textcolor{comment}{//\ get\ number\ of\ degrees\ of\ freedom\ from\ joint\ type}}
\DoxyCodeLine{00253\ \ \ \ \ \textcolor{keywordtype}{int}\ bodyNumDoFs(\textcolor{keyword}{const}\ JointType\&\ type)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00254\ \ \ \ \ \textcolor{comment}{//\ number\ of\ bodies\ in\ the\ system}}
\DoxyCodeLine{00255\ \ \ \ \ \textcolor{keywordtype}{int}\ m\_num\_bodies;}
\DoxyCodeLine{00256\ \ \ \ \ \textcolor{comment}{//\ number\ of\ degrees\ of\ freedom}}
\DoxyCodeLine{00257\ \ \ \ \ \textcolor{keywordtype}{int}\ m\_num\_dofs;}
\DoxyCodeLine{00258\ \ \ \ \ \textcolor{comment}{//\ Gravitational\ acceleration\ (in\ world\ frame)}}
\DoxyCodeLine{00259\ \ \ \ \ \mbox{\hyperlink{classbt_inverse_dynamics_1_1vec3}{vec3}}\ m\_world\_gravity;}
\DoxyCodeLine{00260\ \ \ \ \ \textcolor{comment}{//\ vector\ of\ bodies\ in\ the\ system}}
\DoxyCodeLine{00261\ \ \ \ \ \textcolor{comment}{//\ body\ 0\ is\ used\ as\ an\ environment\ body\ and\ is\ allways\ fixed.}}
\DoxyCodeLine{00262\ \ \ \ \ \textcolor{comment}{//\ The\ bodies\ are\ ordered\ such\ that\ a\ parent\ body\ always\ has\ an\ index}}
\DoxyCodeLine{00263\ \ \ \ \ \textcolor{comment}{//\ smaller\ than\ its\ child.}}
\DoxyCodeLine{00264\ \ \ \ \ \mbox{\hyperlink{classb3_aligned_object_array}{idArray<RigidBody>::type}}\ m\_body\_list;}
\DoxyCodeLine{00265\ \ \ \ \ \textcolor{comment}{//\ Parent\_index[i]\ is\ the\ index\ for\ i's\ parent\ body\ in\ body\_list.}}
\DoxyCodeLine{00266\ \ \ \ \ \textcolor{comment}{//\ This\ fully\ describes\ the\ tree.}}
\DoxyCodeLine{00267\ \ \ \ \ \mbox{\hyperlink{classb3_aligned_object_array}{idArray<int>::type}}\ m\_parent\_index;}
\DoxyCodeLine{00268\ \ \ \ \ \textcolor{comment}{//\ child\_indices[i]\ contains\ a\ vector\ of\ indices\ of}}
\DoxyCodeLine{00269\ \ \ \ \ \textcolor{comment}{//\ all\ children\ of\ the\ i-\/th\ body}}
\DoxyCodeLine{00270\ \ \ \ \ \mbox{\hyperlink{structid_array}{idArray<idArray<int>::type}}>::type\ m\_child\_indices;}
\DoxyCodeLine{00271\ \ \ \ \ \textcolor{comment}{//\ Indices\ of\ rotary\ joints}}
\DoxyCodeLine{00272\ \ \ \ \ \mbox{\hyperlink{classb3_aligned_object_array}{idArray<int>::type}}\ m\_body\_revolute\_list;}
\DoxyCodeLine{00273\ \ \ \ \ \textcolor{comment}{//\ Indices\ of\ prismatic\ joints}}
\DoxyCodeLine{00274\ \ \ \ \ \mbox{\hyperlink{classb3_aligned_object_array}{idArray<int>::type}}\ m\_body\_prismatic\_list;}
\DoxyCodeLine{00275\ \ \ \ \ \textcolor{comment}{//\ Indices\ of\ floating\ joints}}
\DoxyCodeLine{00276\ \ \ \ \ \mbox{\hyperlink{classb3_aligned_object_array}{idArray<int>::type}}\ m\_body\_floating\_list;}
\DoxyCodeLine{00277\ \ \ \ \ \textcolor{comment}{//\ Indices\ of\ spherical\ joints}}
\DoxyCodeLine{00278\ \ \ \ \ \mbox{\hyperlink{classb3_aligned_object_array}{idArray<int>::type}}\ m\_body\_spherical\_list;}
\DoxyCodeLine{00279\ \ \ \ \ \textcolor{comment}{//\ a\ user-\/provided\ integer}}
\DoxyCodeLine{00280\ \ \ \ \ \mbox{\hyperlink{classb3_aligned_object_array}{idArray<int>::type}}\ m\_user\_int;}
\DoxyCodeLine{00281\ \ \ \ \ \textcolor{comment}{//\ a\ user-\/provided\ pointer}}
\DoxyCodeLine{00282\ \ \ \ \ \mbox{\hyperlink{classb3_aligned_object_array}{idArray<void*>::type}}\ m\_user\_ptr;}
\DoxyCodeLine{00283\ \textcolor{preprocessor}{\#if\ (defined\ BT\_ID\_HAVE\_MAT3X)\ \&\&\ (defined\ BT\_ID\_WITH\_JACOBIANS)}}
\DoxyCodeLine{00284\ \ \ \ \ \mbox{\hyperlink{classbt_inverse_dynamics_1_1mat3x}{mat3x}}\ m\_m3x;}
\DoxyCodeLine{00285\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00286\ \};}
\DoxyCodeLine{00287\ \}\ \ \textcolor{comment}{//\ namespace\ btInverseDynamics}}
\DoxyCodeLine{00288\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
