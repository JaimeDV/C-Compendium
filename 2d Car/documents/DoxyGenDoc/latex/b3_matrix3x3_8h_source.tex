\doxysection{b3\+Matrix3x3.\+h}
\hypertarget{b3_matrix3x3_8h_source}{}\label{b3_matrix3x3_8h_source}\index{C:/Users/Usuario/Documents/pruebas-\/c/Practica Animación/libraries/bullet-\/3.17/src/Bullet3Common/b3Matrix3x3.h@{C:/Users/Usuario/Documents/pruebas-\/c/Practica Animación/libraries/bullet-\/3.17/src/Bullet3Common/b3Matrix3x3.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{Copyright\ (c)\ 2003-\/2013\ Gino\ van\ den\ Bergen\ /\ Erwin\ Coumans\ \ http://bulletphysics.org}}
\DoxyCodeLine{00003\ \textcolor{comment}{}}
\DoxyCodeLine{00004\ \textcolor{comment}{This\ software\ is\ provided\ 'as-\/is',\ without\ any\ express\ or\ implied\ warranty.}}
\DoxyCodeLine{00005\ \textcolor{comment}{In\ no\ event\ will\ the\ authors\ be\ held\ liable\ for\ any\ damages\ arising\ from\ the\ use\ of\ this\ software.}}
\DoxyCodeLine{00006\ \textcolor{comment}{Permission\ is\ granted\ to\ anyone\ to\ use\ this\ software\ for\ any\ purpose,\ }}
\DoxyCodeLine{00007\ \textcolor{comment}{including\ commercial\ applications,\ and\ to\ alter\ it\ and\ redistribute\ it\ freely,\ }}
\DoxyCodeLine{00008\ \textcolor{comment}{subject\ to\ the\ following\ restrictions:}}
\DoxyCodeLine{00009\ \textcolor{comment}{}}
\DoxyCodeLine{00010\ \textcolor{comment}{1.\ The\ origin\ of\ this\ software\ must\ not\ be\ misrepresented;\ you\ must\ not\ claim\ that\ you\ wrote\ the\ original\ software.\ If\ you\ use\ this\ software\ in\ a\ product,\ an\ acknowledgment\ in\ the\ product\ documentation\ would\ be\ appreciated\ but\ is\ not\ required.}}
\DoxyCodeLine{00011\ \textcolor{comment}{2.\ Altered\ source\ versions\ must\ be\ plainly\ marked\ as\ such,\ and\ must\ not\ be\ misrepresented\ as\ being\ the\ original\ software.}}
\DoxyCodeLine{00012\ \textcolor{comment}{3.\ This\ notice\ may\ not\ be\ removed\ or\ altered\ from\ any\ source\ distribution.}}
\DoxyCodeLine{00013\ \textcolor{comment}{*/}}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#ifndef\ B3\_MATRIX3x3\_H}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#define\ B3\_MATRIX3x3\_H}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ "{}b3Vector3.h"{}}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ "{}b3Quaternion.h"{}}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ <stdio.h>}}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#ifdef\ B3\_USE\_SSE}}
\DoxyCodeLine{00023\ \textcolor{comment}{//const\ \_\_m128\ B3\_ATTRIBUTE\_ALIGNED16(b3v2220)\ =\ \{2.0f,\ 2.0f,\ 2.0f,\ 0.0f\};}}
\DoxyCodeLine{00024\ \textcolor{keyword}{const}\ \_\_m128\ B3\_ATTRIBUTE\_ALIGNED16(b3vMPPP)\ =\ \{-\/0.0f,\ +0.0f,\ +0.0f,\ +0.0f\};}
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#if\ defined(B3\_USE\_SSE)\ ||\ defined(B3\_USE\_NEON)}}
\DoxyCodeLine{00028\ \textcolor{keyword}{const}\ b3SimdFloat4\ B3\_ATTRIBUTE\_ALIGNED16(b3v1000)\ =\ \{1.0f,\ 0.0f,\ 0.0f,\ 0.0f\};}
\DoxyCodeLine{00029\ \textcolor{keyword}{const}\ b3SimdFloat4\ B3\_ATTRIBUTE\_ALIGNED16(b3v0100)\ =\ \{0.0f,\ 1.0f,\ 0.0f,\ 0.0f\};}
\DoxyCodeLine{00030\ \textcolor{keyword}{const}\ b3SimdFloat4\ B3\_ATTRIBUTE\_ALIGNED16(b3v0010)\ =\ \{0.0f,\ 0.0f,\ 1.0f,\ 0.0f\};}
\DoxyCodeLine{00031\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \textcolor{preprocessor}{\#ifdef\ B3\_USE\_DOUBLE\_PRECISION}}
\DoxyCodeLine{00034\ \textcolor{preprocessor}{\#define\ b3Matrix3x3Data\ b3Matrix3x3DoubleData}}
\DoxyCodeLine{00035\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00036\ \textcolor{preprocessor}{\#define\ b3Matrix3x3Data\ b3Matrix3x3FloatData}}
\DoxyCodeLine{00037\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//B3\_USE\_DOUBLE\_PRECISION}}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00041\ B3\_ATTRIBUTE\_ALIGNED16(\textcolor{keyword}{class})}
\DoxyCodeLine{00042\ b3Matrix3x3}
\DoxyCodeLine{00043\ \{}
\DoxyCodeLine{00045\ \ \ \ \ b3Vector3\ m\_el[3];}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00049\ \ \ \ \ b3Matrix3x3()\ \{\}}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ explicit\ b3Matrix3x3(const\ b3Scalar\ *m)\ \{\ setFromOpenGLSubMatrix(m);\ \}}}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{keyword}{explicit}\ b3Matrix3x3(\textcolor{keyword}{const}\ \mbox{\hyperlink{classb3_quaternion}{b3Quaternion}}\&\ q)\ \{\ setRotation(q);\ \}}
\DoxyCodeLine{00055\ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00056\ \textcolor{comment}{\ \ \ \ template\ <typename\ b3Scalar>}}
\DoxyCodeLine{00057\ \textcolor{comment}{\ \ \ \ Matrix3x3(const\ b3Scalar\&\ yaw,\ const\ b3Scalar\&\ pitch,\ const\ b3Scalar\&\ roll)}}
\DoxyCodeLine{00058\ \textcolor{comment}{\ \ \ \ \{\ }}
\DoxyCodeLine{00059\ \textcolor{comment}{\ \ \ \ setEulerYPR(yaw,\ pitch,\ roll);}}
\DoxyCodeLine{00060\ \textcolor{comment}{\ \ \ \ \}}}
\DoxyCodeLine{00061\ \textcolor{comment}{\ \ \ \ */}}
\DoxyCodeLine{00063\ \ \ \ \ b3Matrix3x3(\textcolor{keyword}{const}\ b3Scalar\&\ xx,\ \textcolor{keyword}{const}\ b3Scalar\&\ xy,\ \textcolor{keyword}{const}\ b3Scalar\&\ xz,}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ b3Scalar\&\ yx,\ \textcolor{keyword}{const}\ b3Scalar\&\ yy,\ \textcolor{keyword}{const}\ b3Scalar\&\ yz,}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ b3Scalar\&\ zx,\ \textcolor{keyword}{const}\ b3Scalar\&\ zy,\ \textcolor{keyword}{const}\ b3Scalar\&\ zz)}
\DoxyCodeLine{00066\ \ \ \ \ \{}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ setValue(xx,\ xy,\ xz,}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ yx,\ yy,\ yz,}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ zx,\ zy,\ zz);}
\DoxyCodeLine{00070\ \ \ \ \ \}}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \textcolor{preprocessor}{\#if\ (defined(B3\_USE\_SSE\_IN\_API)\ \&\&\ defined(B3\_USE\_SSE))\ ||\ defined(B3\_USE\_NEON)}}
\DoxyCodeLine{00073\ \ \ \ \ B3\_FORCE\_INLINE\ b3Matrix3x3(\textcolor{keyword}{const}\ b3SimdFloat4\ v0,\ \textcolor{keyword}{const}\ b3SimdFloat4\ v1,\ \textcolor{keyword}{const}\ b3SimdFloat4\ v2)}
\DoxyCodeLine{00074\ \ \ \ \ \{}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ m\_el[0].mVec128\ =\ v0;}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ m\_el[1].mVec128\ =\ v1;}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ m\_el[2].mVec128\ =\ v2;}
\DoxyCodeLine{00078\ \ \ \ \ \}}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00080\ \ \ \ \ B3\_FORCE\_INLINE\ b3Matrix3x3(\textcolor{keyword}{const}\ b3Vector3\&\ v0,\ \textcolor{keyword}{const}\ b3Vector3\&\ v1,\ \textcolor{keyword}{const}\ b3Vector3\&\ v2)}
\DoxyCodeLine{00081\ \ \ \ \ \{}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ m\_el[0]\ =\ v0;}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ m\_el[1]\ =\ v1;}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ m\_el[2]\ =\ v2;}
\DoxyCodeLine{00085\ \ \ \ \ \}}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00087\ \ \ \ \ \textcolor{comment}{//\ Copy\ constructor}}
\DoxyCodeLine{00088\ \ \ \ \ B3\_FORCE\_INLINE\ b3Matrix3x3(\textcolor{keyword}{const}\ b3Matrix3x3\&\ rhs)}
\DoxyCodeLine{00089\ \ \ \ \ \{}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ m\_el[0].mVec128\ =\ rhs.m\_el[0].mVec128;}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ m\_el[1].mVec128\ =\ rhs.m\_el[1].mVec128;}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ m\_el[2].mVec128\ =\ rhs.m\_el[2].mVec128;}
\DoxyCodeLine{00093\ \ \ \ \ \}}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00095\ \ \ \ \ \textcolor{comment}{//\ Assignment\ Operator}}
\DoxyCodeLine{00096\ \ \ \ \ B3\_FORCE\_INLINE\ b3Matrix3x3\&\ operator=(\textcolor{keyword}{const}\ b3Matrix3x3\&\ m)}
\DoxyCodeLine{00097\ \ \ \ \ \{}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ m\_el[0].mVec128\ =\ m.m\_el[0].mVec128;}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ m\_el[1].mVec128\ =\ m.m\_el[1].mVec128;}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ m\_el[2].mVec128\ =\ m.m\_el[2].mVec128;}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00103\ \ \ \ \ \}}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00105\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00108\ \ \ \ \ B3\_FORCE\_INLINE\ b3Matrix3x3(\textcolor{keyword}{const}\ b3Matrix3x3\&\ other)}
\DoxyCodeLine{00109\ \ \ \ \ \{}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \ \ m\_el[0]\ =\ other.m\_el[0];}
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ m\_el[1]\ =\ other.m\_el[1];}
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ m\_el[2]\ =\ other.m\_el[2];}
\DoxyCodeLine{00113\ \ \ \ \ \}}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00116\ \ \ \ \ B3\_FORCE\_INLINE\ b3Matrix3x3\&\ operator=(\textcolor{keyword}{const}\ b3Matrix3x3\&\ other)}
\DoxyCodeLine{00117\ \ \ \ \ \{}
\DoxyCodeLine{00118\ \ \ \ \ \ \ \ \ m\_el[0]\ =\ other.m\_el[0];}
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ m\_el[1]\ =\ other.m\_el[1];}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ m\_el[2]\ =\ other.m\_el[2];}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00122\ \ \ \ \ \}}
\DoxyCodeLine{00123\ }
\DoxyCodeLine{00124\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00125\ }
\DoxyCodeLine{00128\ \ \ \ \ B3\_FORCE\_INLINE\ b3Vector3\ getColumn(\textcolor{keywordtype}{int}\ i)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00129\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ b3MakeVector3(m\_el[0][i],\ m\_el[1][i],\ m\_el[2][i]);}
\DoxyCodeLine{00131\ \ \ \ \ \}}
\DoxyCodeLine{00132\ }
\DoxyCodeLine{00135\ \ \ \ \ B3\_FORCE\_INLINE\ \textcolor{keyword}{const}\ b3Vector3\&\ getRow(\textcolor{keywordtype}{int}\ i)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00136\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ b3FullAssert(0\ <=\ i\ \&\&\ i\ <\ 3);}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_el[i];}
\DoxyCodeLine{00139\ \ \ \ \ \}}
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00143\ \ \ \ \ B3\_FORCE\_INLINE\ b3Vector3\&\ operator[](\textcolor{keywordtype}{int}\ i)}
\DoxyCodeLine{00144\ \ \ \ \ \{}
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ b3FullAssert(0\ <=\ i\ \&\&\ i\ <\ 3);}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_el[i];}
\DoxyCodeLine{00147\ \ \ \ \ \}}
\DoxyCodeLine{00148\ }
\DoxyCodeLine{00151\ \ \ \ \ B3\_FORCE\_INLINE\ \textcolor{keyword}{const}\ b3Vector3\&\ operator[](\textcolor{keywordtype}{int}\ i)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00152\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ b3FullAssert(0\ <=\ i\ \&\&\ i\ <\ 3);}
\DoxyCodeLine{00154\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_el[i];}
\DoxyCodeLine{00155\ \ \ \ \ \}}
\DoxyCodeLine{00156\ }
\DoxyCodeLine{00160\ \ \ \ \ b3Matrix3x3\&\ operator*=(\textcolor{keyword}{const}\ b3Matrix3x3\&\ m);}
\DoxyCodeLine{00161\ }
\DoxyCodeLine{00165\ \ \ \ \ b3Matrix3x3\&\ operator+=(\textcolor{keyword}{const}\ b3Matrix3x3\&\ m);}
\DoxyCodeLine{00166\ }
\DoxyCodeLine{00170\ \ \ \ \ b3Matrix3x3\&\ operator-\/=(\textcolor{keyword}{const}\ b3Matrix3x3\&\ m);}
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00174\ \ \ \ \ \textcolor{keywordtype}{void}\ setFromOpenGLSubMatrix(\textcolor{keyword}{const}\ b3Scalar*\ m)}
\DoxyCodeLine{00175\ \ \ \ \ \{}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ m\_el[0].setValue(m[0],\ m[4],\ m[8]);}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ m\_el[1].setValue(m[1],\ m[5],\ m[9]);}
\DoxyCodeLine{00178\ \ \ \ \ \ \ \ \ m\_el[2].setValue(m[2],\ m[6],\ m[10]);}
\DoxyCodeLine{00179\ \ \ \ \ \}}
\DoxyCodeLine{00190\ \ \ \ \ \textcolor{keywordtype}{void}\ setValue(\textcolor{keyword}{const}\ b3Scalar\&\ xx,\ \textcolor{keyword}{const}\ b3Scalar\&\ xy,\ \textcolor{keyword}{const}\ b3Scalar\&\ xz,}
\DoxyCodeLine{00191\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ b3Scalar\&\ yx,\ \textcolor{keyword}{const}\ b3Scalar\&\ yy,\ \textcolor{keyword}{const}\ b3Scalar\&\ yz,}
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ b3Scalar\&\ zx,\ \textcolor{keyword}{const}\ b3Scalar\&\ zy,\ \textcolor{keyword}{const}\ b3Scalar\&\ zz)}
\DoxyCodeLine{00193\ \ \ \ \ \{}
\DoxyCodeLine{00194\ \ \ \ \ \ \ \ \ m\_el[0].setValue(xx,\ xy,\ xz);}
\DoxyCodeLine{00195\ \ \ \ \ \ \ \ \ m\_el[1].setValue(yx,\ yy,\ yz);}
\DoxyCodeLine{00196\ \ \ \ \ \ \ \ \ m\_el[2].setValue(zx,\ zy,\ zz);}
\DoxyCodeLine{00197\ \ \ \ \ \}}
\DoxyCodeLine{00198\ }
\DoxyCodeLine{00201\ \ \ \ \ \textcolor{keywordtype}{void}\ setRotation(\textcolor{keyword}{const}\ \mbox{\hyperlink{classb3_quaternion}{b3Quaternion}}\&\ q)}
\DoxyCodeLine{00202\ \ \ \ \ \{}
\DoxyCodeLine{00203\ \ \ \ \ \ \ \ \ b3Scalar\ d\ =\ q.\mbox{\hyperlink{classb3_quaternion_acb77aac0918b65a34b47340ec7c349a3}{length2}}();}
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ b3FullAssert(d\ !=\ b3Scalar(0.0));}
\DoxyCodeLine{00205\ \ \ \ \ \ \ \ \ b3Scalar\ s\ =\ b3Scalar(2.0)\ /\ d;}
\DoxyCodeLine{00206\ }
\DoxyCodeLine{00207\ \textcolor{preprocessor}{\#if\ defined(B3\_USE\_SSE\_IN\_API)\ \&\&\ defined(B3\_USE\_SSE)}}
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ \_\_m128\ vs,\ Q\ =\ q.get128();}
\DoxyCodeLine{00209\ \ \ \ \ \ \ \ \ \_\_m128i\ Qi\ =\ b3CastfTo128i(Q);}
\DoxyCodeLine{00210\ \ \ \ \ \ \ \ \ \_\_m128\ Y,\ Z;}
\DoxyCodeLine{00211\ \ \ \ \ \ \ \ \ \_\_m128\ V1,\ V2,\ V3;}
\DoxyCodeLine{00212\ \ \ \ \ \ \ \ \ \_\_m128\ V11,\ V21,\ V31;}
\DoxyCodeLine{00213\ \ \ \ \ \ \ \ \ \_\_m128\ NQ\ =\ \_mm\_xor\_ps(Q,\ b3vMzeroMask);}
\DoxyCodeLine{00214\ \ \ \ \ \ \ \ \ \_\_m128i\ NQi\ =\ b3CastfTo128i(NQ);}
\DoxyCodeLine{00215\ }
\DoxyCodeLine{00216\ \ \ \ \ \ \ \ \ V1\ =\ b3CastiTo128f(\_mm\_shuffle\_epi32(Qi,\ B3\_SHUFFLE(1,\ 0,\ 2,\ 3)));\ \ \textcolor{comment}{//\ Y\ X\ Z\ W}}
\DoxyCodeLine{00217\ \ \ \ \ \ \ \ \ V2\ =\ \_mm\_shuffle\_ps(NQ,\ Q,\ B3\_SHUFFLE(0,\ 0,\ 1,\ 3));\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ -\/X\ -\/X\ \ Y\ \ W}}
\DoxyCodeLine{00218\ \ \ \ \ \ \ \ \ V3\ =\ b3CastiTo128f(\_mm\_shuffle\_epi32(Qi,\ B3\_SHUFFLE(2,\ 1,\ 0,\ 3)));\ \ \textcolor{comment}{//\ Z\ Y\ X\ W}}
\DoxyCodeLine{00219\ \ \ \ \ \ \ \ \ V1\ =\ \_mm\_xor\_ps(V1,\ b3vMPPP);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ change\ the\ sign\ of\ the\ first\ element}}
\DoxyCodeLine{00220\ }
\DoxyCodeLine{00221\ \ \ \ \ \ \ \ \ V11\ =\ b3CastiTo128f(\_mm\_shuffle\_epi32(Qi,\ B3\_SHUFFLE(1,\ 1,\ 0,\ 3)));\ \ \textcolor{comment}{//\ Y\ Y\ X\ W}}
\DoxyCodeLine{00222\ \ \ \ \ \ \ \ \ V21\ =\ \_mm\_unpackhi\_ps(Q,\ Q);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ Z\ \ Z\ \ W\ \ W}}
\DoxyCodeLine{00223\ \ \ \ \ \ \ \ \ V31\ =\ \_mm\_shuffle\_ps(Q,\ NQ,\ B3\_SHUFFLE(0,\ 2,\ 0,\ 3));\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ X\ \ Z\ -\/X\ -\/W}}
\DoxyCodeLine{00224\ }
\DoxyCodeLine{00225\ \ \ \ \ \ \ \ \ V2\ =\ V2\ *\ V1;\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00226\ \ \ \ \ \ \ \ \ V1\ =\ V1\ *\ V11;\ \ \textcolor{comment}{//}}
\DoxyCodeLine{00227\ \ \ \ \ \ \ \ \ V3\ =\ V3\ *\ V31;\ \ \textcolor{comment}{//}}
\DoxyCodeLine{00228\ }
\DoxyCodeLine{00229\ \ \ \ \ \ \ \ \ V11\ =\ \_mm\_shuffle\_ps(NQ,\ Q,\ B3\_SHUFFLE(2,\ 3,\ 1,\ 3));\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ -\/Z\ -\/W\ \ Y\ \ W}}
\DoxyCodeLine{00230\ \ \ \ \ \ \ \ \ V11\ =\ V11\ *\ V21;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00231\ \ \ \ \ \ \ \ \ V21\ =\ \_mm\_xor\_ps(V21,\ b3vMPPP);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ change\ the\ sign\ of\ the\ first\ element}}
\DoxyCodeLine{00232\ \ \ \ \ \ \ \ \ V31\ =\ \_mm\_shuffle\_ps(Q,\ NQ,\ B3\_SHUFFLE(3,\ 3,\ 1,\ 3));\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ W\ \ W\ -\/Y\ -\/W}}
\DoxyCodeLine{00233\ \ \ \ \ \ \ \ \ V31\ =\ \_mm\_xor\_ps(V31,\ b3vMPPP);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ change\ the\ sign\ of\ the\ first\ element}}
\DoxyCodeLine{00234\ \ \ \ \ \ \ \ \ Y\ =\ b3CastiTo128f(\_mm\_shuffle\_epi32(NQi,\ B3\_SHUFFLE(3,\ 2,\ 0,\ 3)));\ \ \textcolor{comment}{//\ -\/W\ -\/Z\ -\/X\ -\/W}}
\DoxyCodeLine{00235\ \ \ \ \ \ \ \ \ Z\ =\ b3CastiTo128f(\_mm\_shuffle\_epi32(Qi,\ B3\_SHUFFLE(1,\ 0,\ 1,\ 3)));\ \ \ \textcolor{comment}{//\ \ Y\ \ X\ \ Y\ \ W}}
\DoxyCodeLine{00236\ }
\DoxyCodeLine{00237\ \ \ \ \ \ \ \ \ vs\ =\ \_mm\_load\_ss(\&s);}
\DoxyCodeLine{00238\ \ \ \ \ \ \ \ \ V21\ =\ V21\ *\ Y;}
\DoxyCodeLine{00239\ \ \ \ \ \ \ \ \ V31\ =\ V31\ *\ Z;}
\DoxyCodeLine{00240\ }
\DoxyCodeLine{00241\ \ \ \ \ \ \ \ \ V1\ =\ V1\ +\ V11;}
\DoxyCodeLine{00242\ \ \ \ \ \ \ \ \ V2\ =\ V2\ +\ V21;}
\DoxyCodeLine{00243\ \ \ \ \ \ \ \ \ V3\ =\ V3\ +\ V31;}
\DoxyCodeLine{00244\ }
\DoxyCodeLine{00245\ \ \ \ \ \ \ \ \ vs\ =\ b3\_splat3\_ps(vs,\ 0);}
\DoxyCodeLine{00246\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ s\ ready}}
\DoxyCodeLine{00247\ \ \ \ \ \ \ \ \ V1\ =\ V1\ *\ vs;}
\DoxyCodeLine{00248\ \ \ \ \ \ \ \ \ V2\ =\ V2\ *\ vs;}
\DoxyCodeLine{00249\ \ \ \ \ \ \ \ \ V3\ =\ V3\ *\ vs;}
\DoxyCodeLine{00250\ }
\DoxyCodeLine{00251\ \ \ \ \ \ \ \ \ V1\ =\ V1\ +\ b3v1000;}
\DoxyCodeLine{00252\ \ \ \ \ \ \ \ \ V2\ =\ V2\ +\ b3v0100;}
\DoxyCodeLine{00253\ \ \ \ \ \ \ \ \ V3\ =\ V3\ +\ b3v0010;}
\DoxyCodeLine{00254\ }
\DoxyCodeLine{00255\ \ \ \ \ \ \ \ \ m\_el[0]\ =\ b3MakeVector3(V1);}
\DoxyCodeLine{00256\ \ \ \ \ \ \ \ \ m\_el[1]\ =\ b3MakeVector3(V2);}
\DoxyCodeLine{00257\ \ \ \ \ \ \ \ \ m\_el[2]\ =\ b3MakeVector3(V3);}
\DoxyCodeLine{00258\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00259\ \ \ \ \ \ \ \ \ b3Scalar\ xs\ =\ q.getX()\ *\ s,\ ys\ =\ q.getY()\ *\ s,\ zs\ =\ q.getZ()\ *\ s;}
\DoxyCodeLine{00260\ \ \ \ \ \ \ \ \ b3Scalar\ wx\ =\ q.getW()\ *\ xs,\ wy\ =\ q.getW()\ *\ ys,\ wz\ =\ q.getW()\ *\ zs;}
\DoxyCodeLine{00261\ \ \ \ \ \ \ \ \ b3Scalar\ xx\ =\ q.getX()\ *\ xs,\ xy\ =\ q.getX()\ *\ ys,\ xz\ =\ q.getX()\ *\ zs;}
\DoxyCodeLine{00262\ \ \ \ \ \ \ \ \ b3Scalar\ yy\ =\ q.getY()\ *\ ys,\ yz\ =\ q.getY()\ *\ zs,\ zz\ =\ q.getZ()\ *\ zs;}
\DoxyCodeLine{00263\ \ \ \ \ \ \ \ \ setValue(}
\DoxyCodeLine{00264\ \ \ \ \ \ \ \ \ \ \ \ \ b3Scalar(1.0)\ -\/\ (yy\ +\ zz),\ xy\ -\/\ wz,\ xz\ +\ wy,}
\DoxyCodeLine{00265\ \ \ \ \ \ \ \ \ \ \ \ \ xy\ +\ wz,\ b3Scalar(1.0)\ -\/\ (xx\ +\ zz),\ yz\ -\/\ wx,}
\DoxyCodeLine{00266\ \ \ \ \ \ \ \ \ \ \ \ \ xz\ -\/\ wy,\ yz\ +\ wx,\ b3Scalar(1.0)\ -\/\ (xx\ +\ yy));}
\DoxyCodeLine{00267\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00268\ \ \ \ \ \}}
\DoxyCodeLine{00269\ }
\DoxyCodeLine{00275\ \ \ \ \ \textcolor{keywordtype}{void}\ setEulerYPR(\textcolor{keyword}{const}\ b3Scalar\&\ yaw,\ \textcolor{keyword}{const}\ b3Scalar\&\ pitch,\ \textcolor{keyword}{const}\ b3Scalar\&\ roll)}
\DoxyCodeLine{00276\ \ \ \ \ \{}
\DoxyCodeLine{00277\ \ \ \ \ \ \ \ \ setEulerZYX(roll,\ pitch,\ yaw);}
\DoxyCodeLine{00278\ \ \ \ \ \}}
\DoxyCodeLine{00279\ }
\DoxyCodeLine{00289\ \ \ \ \ \textcolor{keywordtype}{void}\ setEulerZYX(b3Scalar\ eulerX,\ b3Scalar\ eulerY,\ b3Scalar\ eulerZ)}
\DoxyCodeLine{00290\ \ \ \ \ \{}
\DoxyCodeLine{00292\ \ \ \ \ \ \ \ \ b3Scalar\ ci(b3Cos(eulerX));}
\DoxyCodeLine{00293\ \ \ \ \ \ \ \ \ b3Scalar\ cj(b3Cos(eulerY));}
\DoxyCodeLine{00294\ \ \ \ \ \ \ \ \ b3Scalar\ ch(b3Cos(eulerZ));}
\DoxyCodeLine{00295\ \ \ \ \ \ \ \ \ b3Scalar\ si(b3Sin(eulerX));}
\DoxyCodeLine{00296\ \ \ \ \ \ \ \ \ b3Scalar\ sj(b3Sin(eulerY));}
\DoxyCodeLine{00297\ \ \ \ \ \ \ \ \ b3Scalar\ sh(b3Sin(eulerZ));}
\DoxyCodeLine{00298\ \ \ \ \ \ \ \ \ b3Scalar\ cc\ =\ ci\ *\ ch;}
\DoxyCodeLine{00299\ \ \ \ \ \ \ \ \ b3Scalar\ cs\ =\ ci\ *\ sh;}
\DoxyCodeLine{00300\ \ \ \ \ \ \ \ \ b3Scalar\ sc\ =\ si\ *\ ch;}
\DoxyCodeLine{00301\ \ \ \ \ \ \ \ \ b3Scalar\ ss\ =\ si\ *\ sh;}
\DoxyCodeLine{00302\ }
\DoxyCodeLine{00303\ \ \ \ \ \ \ \ \ setValue(cj\ *\ ch,\ sj\ *\ sc\ -\/\ cs,\ sj\ *\ cc\ +\ ss,}
\DoxyCodeLine{00304\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cj\ *\ sh,\ sj\ *\ ss\ +\ cc,\ sj\ *\ cs\ -\/\ sc,}
\DoxyCodeLine{00305\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ -\/sj,\ cj\ *\ si,\ cj\ *\ ci);}
\DoxyCodeLine{00306\ \ \ \ \ \}}
\DoxyCodeLine{00307\ }
\DoxyCodeLine{00309\ \ \ \ \ \textcolor{keywordtype}{void}\ setIdentity()}
\DoxyCodeLine{00310\ \ \ \ \ \{}
\DoxyCodeLine{00311\ \textcolor{preprocessor}{\#if\ (defined(B3\_USE\_SSE\_IN\_API)\ \&\&\ defined(B3\_USE\_SSE))\ ||\ defined(B3\_USE\_NEON)}}
\DoxyCodeLine{00312\ \ \ \ \ \ \ \ \ m\_el[0]\ =\ b3MakeVector3(b3v1000);}
\DoxyCodeLine{00313\ \ \ \ \ \ \ \ \ m\_el[1]\ =\ b3MakeVector3(b3v0100);}
\DoxyCodeLine{00314\ \ \ \ \ \ \ \ \ m\_el[2]\ =\ b3MakeVector3(b3v0010);}
\DoxyCodeLine{00315\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00316\ \ \ \ \ \ \ \ \ setValue(b3Scalar(1.0),\ b3Scalar(0.0),\ b3Scalar(0.0),}
\DoxyCodeLine{00317\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ b3Scalar(0.0),\ b3Scalar(1.0),\ b3Scalar(0.0),}
\DoxyCodeLine{00318\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ b3Scalar(0.0),\ b3Scalar(0.0),\ b3Scalar(1.0));}
\DoxyCodeLine{00319\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00320\ \ \ \ \ \}}
\DoxyCodeLine{00321\ }
\DoxyCodeLine{00322\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ b3Matrix3x3\&\ getIdentity()}
\DoxyCodeLine{00323\ \ \ \ \ \{}
\DoxyCodeLine{00324\ \textcolor{preprocessor}{\#if\ (defined(B3\_USE\_SSE\_IN\_API)\ \&\&\ defined(B3\_USE\_SSE))\ ||\ defined(B3\_USE\_NEON)}}
\DoxyCodeLine{00325\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ b3Matrix3x3}
\DoxyCodeLine{00326\ \ \ \ \ \ \ \ \ \ \ \ \ identityMatrix(b3v1000,\ b3v0100,\ b3v0010);}
\DoxyCodeLine{00327\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00328\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ b3Matrix3x3}
\DoxyCodeLine{00329\ \ \ \ \ \ \ \ \ \ \ \ \ identityMatrix(}
\DoxyCodeLine{00330\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ b3Scalar(1.0),\ b3Scalar(0.0),\ b3Scalar(0.0),}
\DoxyCodeLine{00331\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ b3Scalar(0.0),\ b3Scalar(1.0),\ b3Scalar(0.0),}
\DoxyCodeLine{00332\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ b3Scalar(0.0),\ b3Scalar(0.0),\ b3Scalar(1.0));}
\DoxyCodeLine{00333\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00334\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ identityMatrix;}
\DoxyCodeLine{00335\ \ \ \ \ \}}
\DoxyCodeLine{00336\ }
\DoxyCodeLine{00339\ \ \ \ \ \textcolor{keywordtype}{void}\ getOpenGLSubMatrix(b3Scalar\ *\ m)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00340\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00341\ \textcolor{preprocessor}{\#if\ defined(B3\_USE\_SSE\_IN\_API)\ \&\&\ defined(B3\_USE\_SSE)}}
\DoxyCodeLine{00342\ \ \ \ \ \ \ \ \ \_\_m128\ v0\ =\ m\_el[0].mVec128;}
\DoxyCodeLine{00343\ \ \ \ \ \ \ \ \ \_\_m128\ v1\ =\ m\_el[1].mVec128;}
\DoxyCodeLine{00344\ \ \ \ \ \ \ \ \ \_\_m128\ v2\ =\ m\_el[2].mVec128;\ \ \textcolor{comment}{//\ \ x2\ y2\ z2\ w2}}
\DoxyCodeLine{00345\ \ \ \ \ \ \ \ \ \_\_m128*\ vm\ =\ (\_\_m128*)m;}
\DoxyCodeLine{00346\ \ \ \ \ \ \ \ \ \_\_m128\ vT;}
\DoxyCodeLine{00347\ }
\DoxyCodeLine{00348\ \ \ \ \ \ \ \ \ v2\ =\ \_mm\_and\_ps(v2,\ b3vFFF0fMask);\ \ \textcolor{comment}{//\ \ x2\ y2\ z2\ 0}}
\DoxyCodeLine{00349\ }
\DoxyCodeLine{00350\ \ \ \ \ \ \ \ \ vT\ =\ \_mm\_unpackhi\_ps(v0,\ v1);\ \ \textcolor{comment}{//\ \ \ z0\ z1\ *\ *}}
\DoxyCodeLine{00351\ \ \ \ \ \ \ \ \ v0\ =\ \_mm\_unpacklo\_ps(v0,\ v1);\ \ \textcolor{comment}{//\ \ \ x0\ x1\ y0\ y1}}
\DoxyCodeLine{00352\ }
\DoxyCodeLine{00353\ \ \ \ \ \ \ \ \ v1\ =\ \_mm\_shuffle\_ps(v0,\ v2,\ B3\_SHUFFLE(2,\ 3,\ 1,\ 3));\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ y0\ y1\ y2\ 0}}
\DoxyCodeLine{00354\ \ \ \ \ \ \ \ \ v0\ =\ \_mm\_shuffle\_ps(v0,\ v2,\ B3\_SHUFFLE(0,\ 1,\ 0,\ 3));\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ x0\ x1\ x2\ 0}}
\DoxyCodeLine{00355\ \ \ \ \ \ \ \ \ v2\ =\ b3CastdTo128f(\_mm\_move\_sd(b3CastfTo128d(v2),\ b3CastfTo128d(vT)));\ \ \textcolor{comment}{//\ z0\ z1\ z2\ 0}}
\DoxyCodeLine{00356\ }
\DoxyCodeLine{00357\ \ \ \ \ \ \ \ \ vm[0]\ =\ v0;}
\DoxyCodeLine{00358\ \ \ \ \ \ \ \ \ vm[1]\ =\ v1;}
\DoxyCodeLine{00359\ \ \ \ \ \ \ \ \ vm[2]\ =\ v2;}
\DoxyCodeLine{00360\ \textcolor{preprocessor}{\#elif\ defined(B3\_USE\_NEON)}}
\DoxyCodeLine{00361\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ note:\ zeros\ the\ w\ channel.\ We\ can\ preserve\ it\ at\ the\ cost\ of\ two\ more\ vtrn\ instructions.}}
\DoxyCodeLine{00362\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ uint32x2\_t\ zMask\ =\ (\textcolor{keyword}{const}\ uint32x2\_t)\{-\/1,\ 0\};}
\DoxyCodeLine{00363\ \ \ \ \ \ \ \ \ float32x4\_t*\ vm\ =\ (float32x4\_t*)m;}
\DoxyCodeLine{00364\ \ \ \ \ \ \ \ \ float32x4x2\_t\ top\ =\ vtrnq\_f32(m\_el[0].mVec128,\ m\_el[1].mVec128);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \{x0\ x1\ z0\ z1\},\ \{y0\ y1\ w0\ w1\}}}
\DoxyCodeLine{00365\ \ \ \ \ \ \ \ \ float32x2x2\_t\ bl\ =\ vtrn\_f32(vget\_low\_f32(m\_el[2].mVec128),\ vdup\_n\_f32(0.0f));\ \ \textcolor{comment}{//\ \{x2\ \ 0\ \},\ \{y2\ 0\}}}
\DoxyCodeLine{00366\ \ \ \ \ \ \ \ \ float32x4\_t\ v0\ =\ vcombine\_f32(vget\_low\_f32(top.val[0]),\ bl.val[0]);}
\DoxyCodeLine{00367\ \ \ \ \ \ \ \ \ float32x4\_t\ v1\ =\ vcombine\_f32(vget\_low\_f32(top.val[1]),\ bl.val[1]);}
\DoxyCodeLine{00368\ \ \ \ \ \ \ \ \ float32x2\_t\ q\ =\ (float32x2\_t)vand\_u32((uint32x2\_t)vget\_high\_f32(m\_el[2].mVec128),\ zMask);}
\DoxyCodeLine{00369\ \ \ \ \ \ \ \ \ float32x4\_t\ v2\ =\ vcombine\_f32(vget\_high\_f32(top.val[0]),\ q);\ \ \textcolor{comment}{//\ z0\ z1\ z2\ \ 0}}
\DoxyCodeLine{00370\ }
\DoxyCodeLine{00371\ \ \ \ \ \ \ \ \ vm[0]\ =\ v0;}
\DoxyCodeLine{00372\ \ \ \ \ \ \ \ \ vm[1]\ =\ v1;}
\DoxyCodeLine{00373\ \ \ \ \ \ \ \ \ vm[2]\ =\ v2;}
\DoxyCodeLine{00374\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00375\ \ \ \ \ \ \ \ \ m[0]\ =\ b3Scalar(m\_el[0].getX());}
\DoxyCodeLine{00376\ \ \ \ \ \ \ \ \ m[1]\ =\ b3Scalar(m\_el[1].getX());}
\DoxyCodeLine{00377\ \ \ \ \ \ \ \ \ m[2]\ =\ b3Scalar(m\_el[2].getX());}
\DoxyCodeLine{00378\ \ \ \ \ \ \ \ \ m[3]\ =\ b3Scalar(0.0);}
\DoxyCodeLine{00379\ \ \ \ \ \ \ \ \ m[4]\ =\ b3Scalar(m\_el[0].getY());}
\DoxyCodeLine{00380\ \ \ \ \ \ \ \ \ m[5]\ =\ b3Scalar(m\_el[1].getY());}
\DoxyCodeLine{00381\ \ \ \ \ \ \ \ \ m[6]\ =\ b3Scalar(m\_el[2].getY());}
\DoxyCodeLine{00382\ \ \ \ \ \ \ \ \ m[7]\ =\ b3Scalar(0.0);}
\DoxyCodeLine{00383\ \ \ \ \ \ \ \ \ m[8]\ =\ b3Scalar(m\_el[0].getZ());}
\DoxyCodeLine{00384\ \ \ \ \ \ \ \ \ m[9]\ =\ b3Scalar(m\_el[1].getZ());}
\DoxyCodeLine{00385\ \ \ \ \ \ \ \ \ m[10]\ =\ b3Scalar(m\_el[2].getZ());}
\DoxyCodeLine{00386\ \ \ \ \ \ \ \ \ m[11]\ =\ b3Scalar(0.0);}
\DoxyCodeLine{00387\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00388\ \ \ \ \ \}}
\DoxyCodeLine{00389\ }
\DoxyCodeLine{00392\ \ \ \ \ \textcolor{keywordtype}{void}\ getRotation(\mbox{\hyperlink{classb3_quaternion}{b3Quaternion}}\ \&\ q)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00393\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00394\ \textcolor{preprocessor}{\#if\ (defined(B3\_USE\_SSE\_IN\_API)\ \&\&\ defined(B3\_USE\_SSE))\ ||\ defined(B3\_USE\_NEON)}}
\DoxyCodeLine{00395\ \ \ \ \ \ \ \ \ b3Scalar\ trace\ =\ m\_el[0].getX()\ +\ m\_el[1].getY()\ +\ m\_el[2].getZ();}
\DoxyCodeLine{00396\ \ \ \ \ \ \ \ \ b3Scalar\ s,\ x;}
\DoxyCodeLine{00397\ }
\DoxyCodeLine{00398\ \ \ \ \ \ \ \ \ \textcolor{keyword}{union\ }\{}
\DoxyCodeLine{00399\ \ \ \ \ \ \ \ \ \ \ \ \ b3SimdFloat4\ vec;}
\DoxyCodeLine{00400\ \ \ \ \ \ \ \ \ \ \ \ \ b3Scalar\ f[4];}
\DoxyCodeLine{00401\ \ \ \ \ \ \ \ \ \}\ temp;}
\DoxyCodeLine{00402\ }
\DoxyCodeLine{00403\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (trace\ >\ b3Scalar(0.0))}
\DoxyCodeLine{00404\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00405\ \ \ \ \ \ \ \ \ \ \ \ \ x\ =\ trace\ +\ b3Scalar(1.0);}
\DoxyCodeLine{00406\ }
\DoxyCodeLine{00407\ \ \ \ \ \ \ \ \ \ \ \ \ temp.f[0]\ =\ m\_el[2].getY()\ -\/\ m\_el[1].getZ();}
\DoxyCodeLine{00408\ \ \ \ \ \ \ \ \ \ \ \ \ temp.f[1]\ =\ m\_el[0].getZ()\ -\/\ m\_el[2].getX();}
\DoxyCodeLine{00409\ \ \ \ \ \ \ \ \ \ \ \ \ temp.f[2]\ =\ m\_el[1].getX()\ -\/\ m\_el[0].getY();}
\DoxyCodeLine{00410\ \ \ \ \ \ \ \ \ \ \ \ \ temp.f[3]\ =\ x;}
\DoxyCodeLine{00411\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//temp.f[3]=\ s\ *\ b3Scalar(0.5);}}
\DoxyCodeLine{00412\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00413\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00414\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00415\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ i,\ j,\ k;}
\DoxyCodeLine{00416\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (m\_el[0].getX()\ <\ m\_el[1].getY())}
\DoxyCodeLine{00417\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00418\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (m\_el[1].getY()\ <\ m\_el[2].getZ())}
\DoxyCodeLine{00419\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00420\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ i\ =\ 2;}
\DoxyCodeLine{00421\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ j\ =\ 0;}
\DoxyCodeLine{00422\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ k\ =\ 1;}
\DoxyCodeLine{00423\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00424\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00425\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00426\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ i\ =\ 1;}
\DoxyCodeLine{00427\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ j\ =\ 2;}
\DoxyCodeLine{00428\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ k\ =\ 0;}
\DoxyCodeLine{00429\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00430\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00431\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00432\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00433\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (m\_el[0].getX()\ <\ m\_el[2].getZ())}
\DoxyCodeLine{00434\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00435\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ i\ =\ 2;}
\DoxyCodeLine{00436\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ j\ =\ 0;}
\DoxyCodeLine{00437\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ k\ =\ 1;}
\DoxyCodeLine{00438\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00439\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00440\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00441\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ i\ =\ 0;}
\DoxyCodeLine{00442\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ j\ =\ 1;}
\DoxyCodeLine{00443\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ k\ =\ 2;}
\DoxyCodeLine{00444\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00445\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00446\ }
\DoxyCodeLine{00447\ \ \ \ \ \ \ \ \ \ \ \ \ x\ =\ m\_el[i][i]\ -\/\ m\_el[j][j]\ -\/\ m\_el[k][k]\ +\ b3Scalar(1.0);}
\DoxyCodeLine{00448\ }
\DoxyCodeLine{00449\ \ \ \ \ \ \ \ \ \ \ \ \ temp.f[3]\ =\ (m\_el[k][j]\ -\/\ m\_el[j][k]);}
\DoxyCodeLine{00450\ \ \ \ \ \ \ \ \ \ \ \ \ temp.f[j]\ =\ (m\_el[j][i]\ +\ m\_el[i][j]);}
\DoxyCodeLine{00451\ \ \ \ \ \ \ \ \ \ \ \ \ temp.f[k]\ =\ (m\_el[k][i]\ +\ m\_el[i][k]);}
\DoxyCodeLine{00452\ \ \ \ \ \ \ \ \ \ \ \ \ temp.f[i]\ =\ x;}
\DoxyCodeLine{00453\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//temp.f[i]\ =\ s\ *\ b3Scalar(0.5);}}
\DoxyCodeLine{00454\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00455\ }
\DoxyCodeLine{00456\ \ \ \ \ \ \ \ \ s\ =\ b3Sqrt(x);}
\DoxyCodeLine{00457\ \ \ \ \ \ \ \ \ q.set128(temp.vec);}
\DoxyCodeLine{00458\ \ \ \ \ \ \ \ \ s\ =\ b3Scalar(0.5)\ /\ s;}
\DoxyCodeLine{00459\ }
\DoxyCodeLine{00460\ \ \ \ \ \ \ \ \ q\ *=\ s;}
\DoxyCodeLine{00461\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00462\ \ \ \ \ \ \ \ \ b3Scalar\ trace\ =\ m\_el[0].getX()\ +\ m\_el[1].getY()\ +\ m\_el[2].getZ();}
\DoxyCodeLine{00463\ }
\DoxyCodeLine{00464\ \ \ \ \ \ \ \ \ b3Scalar\ temp[4];}
\DoxyCodeLine{00465\ }
\DoxyCodeLine{00466\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (trace\ >\ b3Scalar(0.0))}
\DoxyCodeLine{00467\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00468\ \ \ \ \ \ \ \ \ \ \ \ \ b3Scalar\ s\ =\ b3Sqrt(trace\ +\ b3Scalar(1.0));}
\DoxyCodeLine{00469\ \ \ \ \ \ \ \ \ \ \ \ \ temp[3]\ =\ (s\ *\ b3Scalar(0.5));}
\DoxyCodeLine{00470\ \ \ \ \ \ \ \ \ \ \ \ \ s\ =\ b3Scalar(0.5)\ /\ s;}
\DoxyCodeLine{00471\ }
\DoxyCodeLine{00472\ \ \ \ \ \ \ \ \ \ \ \ \ temp[0]\ =\ ((m\_el[2].getY()\ -\/\ m\_el[1].getZ())\ *\ s);}
\DoxyCodeLine{00473\ \ \ \ \ \ \ \ \ \ \ \ \ temp[1]\ =\ ((m\_el[0].getZ()\ -\/\ m\_el[2].getX())\ *\ s);}
\DoxyCodeLine{00474\ \ \ \ \ \ \ \ \ \ \ \ \ temp[2]\ =\ ((m\_el[1].getX()\ -\/\ m\_el[0].getY())\ *\ s);}
\DoxyCodeLine{00475\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00476\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00477\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00478\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ i\ =\ m\_el[0].getX()\ <\ m\_el[1].getY()\ ?\ (m\_el[1].getY()\ <\ m\_el[2].getZ()\ ?\ 2\ :\ 1)\ :\ (m\_el[0].getX()\ <\ m\_el[2].getZ()\ ?\ 2\ :\ 0);}
\DoxyCodeLine{00479\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ j\ =\ (i\ +\ 1)\ \%\ 3;}
\DoxyCodeLine{00480\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ k\ =\ (i\ +\ 2)\ \%\ 3;}
\DoxyCodeLine{00481\ }
\DoxyCodeLine{00482\ \ \ \ \ \ \ \ \ \ \ \ \ b3Scalar\ s\ =\ b3Sqrt(m\_el[i][i]\ -\/\ m\_el[j][j]\ -\/\ m\_el[k][k]\ +\ b3Scalar(1.0));}
\DoxyCodeLine{00483\ \ \ \ \ \ \ \ \ \ \ \ \ temp[i]\ =\ s\ *\ b3Scalar(0.5);}
\DoxyCodeLine{00484\ \ \ \ \ \ \ \ \ \ \ \ \ s\ =\ b3Scalar(0.5)\ /\ s;}
\DoxyCodeLine{00485\ }
\DoxyCodeLine{00486\ \ \ \ \ \ \ \ \ \ \ \ \ temp[3]\ =\ (m\_el[k][j]\ -\/\ m\_el[j][k])\ *\ s;}
\DoxyCodeLine{00487\ \ \ \ \ \ \ \ \ \ \ \ \ temp[j]\ =\ (m\_el[j][i]\ +\ m\_el[i][j])\ *\ s;}
\DoxyCodeLine{00488\ \ \ \ \ \ \ \ \ \ \ \ \ temp[k]\ =\ (m\_el[k][i]\ +\ m\_el[i][k])\ *\ s;}
\DoxyCodeLine{00489\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00490\ \ \ \ \ \ \ \ \ q.setValue(temp[0],\ temp[1],\ temp[2],\ temp[3]);}
\DoxyCodeLine{00491\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00492\ \ \ \ \ \}}
\DoxyCodeLine{00493\ }
\DoxyCodeLine{00498\ \ \ \ \ \textcolor{keywordtype}{void}\ getEulerYPR(b3Scalar\ \&\ yaw,\ b3Scalar\ \&\ pitch,\ b3Scalar\ \&\ roll)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00499\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00500\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ first\ use\ the\ normal\ calculus}}
\DoxyCodeLine{00501\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__gtc__quaternion_ga8da38cdfdc452dafa660c2f46506bad5}{yaw}}\ =\ b3Scalar(b3Atan2(m\_el[1].getX(),\ m\_el[0].getX()));}
\DoxyCodeLine{00502\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__gtc__quaternion_ga7603e81477b46ddb448896909bc04928}{pitch}}\ =\ b3Scalar(b3Asin(-\/m\_el[2].getX()));}
\DoxyCodeLine{00503\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__gtc__quaternion_ga0cc5ad970d0b00829b139fe0fe5a1e13}{roll}}\ =\ b3Scalar(b3Atan2(m\_el[2].getY(),\ m\_el[2].getZ()));}
\DoxyCodeLine{00504\ }
\DoxyCodeLine{00505\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ on\ pitch\ =\ +/-\/HalfPI}}
\DoxyCodeLine{00506\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (b3Fabs(pitch)\ ==\ B3\_HALF\_PI)}
\DoxyCodeLine{00507\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00508\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (yaw\ >\ 0)}
\DoxyCodeLine{00509\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__gtc__quaternion_ga8da38cdfdc452dafa660c2f46506bad5}{yaw}}\ -\/=\ B3\_PI;}
\DoxyCodeLine{00510\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00511\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__gtc__quaternion_ga8da38cdfdc452dafa660c2f46506bad5}{yaw}}\ +=\ B3\_PI;}
\DoxyCodeLine{00512\ }
\DoxyCodeLine{00513\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (roll\ >\ 0)}
\DoxyCodeLine{00514\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__gtc__quaternion_ga0cc5ad970d0b00829b139fe0fe5a1e13}{roll}}\ -\/=\ B3\_PI;}
\DoxyCodeLine{00515\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00516\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__gtc__quaternion_ga0cc5ad970d0b00829b139fe0fe5a1e13}{roll}}\ +=\ B3\_PI;}
\DoxyCodeLine{00517\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00518\ \ \ \ \ \};}
\DoxyCodeLine{00519\ }
\DoxyCodeLine{00525\ \ \ \ \ \textcolor{keywordtype}{void}\ getEulerZYX(b3Scalar\ \&\ yaw,\ b3Scalar\ \&\ pitch,\ b3Scalar\ \&\ roll,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ solution\_number\ =\ 1)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00526\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00527\ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }Euler}
\DoxyCodeLine{00528\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00529\ \ \ \ \ \ \ \ \ \ \ \ \ b3Scalar\ \mbox{\hyperlink{group__gtc__quaternion_ga8da38cdfdc452dafa660c2f46506bad5}{yaw}};}
\DoxyCodeLine{00530\ \ \ \ \ \ \ \ \ \ \ \ \ b3Scalar\ \mbox{\hyperlink{group__gtc__quaternion_ga7603e81477b46ddb448896909bc04928}{pitch}};}
\DoxyCodeLine{00531\ \ \ \ \ \ \ \ \ \ \ \ \ b3Scalar\ \mbox{\hyperlink{group__gtc__quaternion_ga0cc5ad970d0b00829b139fe0fe5a1e13}{roll}};}
\DoxyCodeLine{00532\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00533\ }
\DoxyCodeLine{00534\ \ \ \ \ \ \ \ \ Euler\ euler\_out;}
\DoxyCodeLine{00535\ \ \ \ \ \ \ \ \ Euler\ euler\_out2;\ \ \textcolor{comment}{//second\ solution}}
\DoxyCodeLine{00536\ \ \ \ \ \ \ \ \ \textcolor{comment}{//get\ the\ pointer\ to\ the\ raw\ data}}
\DoxyCodeLine{00537\ }
\DoxyCodeLine{00538\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Check\ that\ pitch\ is\ not\ at\ a\ singularity}}
\DoxyCodeLine{00539\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (b3Fabs(m\_el[2].getX())\ >=\ 1)}
\DoxyCodeLine{00540\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00541\ \ \ \ \ \ \ \ \ \ \ \ \ euler\_out.yaw\ =\ 0;}
\DoxyCodeLine{00542\ \ \ \ \ \ \ \ \ \ \ \ \ euler\_out2.yaw\ =\ 0;}
\DoxyCodeLine{00543\ }
\DoxyCodeLine{00544\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ From\ difference\ of\ angles\ formula}}
\DoxyCodeLine{00545\ \ \ \ \ \ \ \ \ \ \ \ \ b3Scalar\ delta\ =\ b3Atan2(m\_el[0].getX(),\ m\_el[0].getZ());}
\DoxyCodeLine{00546\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (m\_el[2].getX()\ >\ 0)\ \ \textcolor{comment}{//gimbal\ locked\ up}}
\DoxyCodeLine{00547\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00548\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ euler\_out.pitch\ =\ B3\_PI\ /\ b3Scalar(2.0);}
\DoxyCodeLine{00549\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ euler\_out2.pitch\ =\ B3\_PI\ /\ b3Scalar(2.0);}
\DoxyCodeLine{00550\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ euler\_out.roll\ =\ euler\_out.pitch\ +\ delta;}
\DoxyCodeLine{00551\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ euler\_out2.roll\ =\ euler\_out.pitch\ +\ delta;}
\DoxyCodeLine{00552\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00553\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \ \textcolor{comment}{//\ gimbal\ locked\ down}}
\DoxyCodeLine{00554\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00555\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ euler\_out.pitch\ =\ -\/B3\_PI\ /\ b3Scalar(2.0);}
\DoxyCodeLine{00556\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ euler\_out2.pitch\ =\ -\/B3\_PI\ /\ b3Scalar(2.0);}
\DoxyCodeLine{00557\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ euler\_out.roll\ =\ -\/euler\_out.pitch\ +\ delta;}
\DoxyCodeLine{00558\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ euler\_out2.roll\ =\ -\/euler\_out.pitch\ +\ delta;}
\DoxyCodeLine{00559\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00560\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00561\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00562\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00563\ \ \ \ \ \ \ \ \ \ \ \ \ euler\_out.pitch\ =\ -\/b3Asin(m\_el[2].getX());}
\DoxyCodeLine{00564\ \ \ \ \ \ \ \ \ \ \ \ \ euler\_out2.pitch\ =\ B3\_PI\ -\/\ euler\_out.pitch;}
\DoxyCodeLine{00565\ }
\DoxyCodeLine{00566\ \ \ \ \ \ \ \ \ \ \ \ \ euler\_out.roll\ =\ b3Atan2(m\_el[2].getY()\ /\ b3Cos(euler\_out.pitch),}
\DoxyCodeLine{00567\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m\_el[2].getZ()\ /\ b3Cos(euler\_out.pitch));}
\DoxyCodeLine{00568\ \ \ \ \ \ \ \ \ \ \ \ \ euler\_out2.roll\ =\ b3Atan2(m\_el[2].getY()\ /\ b3Cos(euler\_out2.pitch),}
\DoxyCodeLine{00569\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m\_el[2].getZ()\ /\ b3Cos(euler\_out2.pitch));}
\DoxyCodeLine{00570\ }
\DoxyCodeLine{00571\ \ \ \ \ \ \ \ \ \ \ \ \ euler\_out.yaw\ =\ b3Atan2(m\_el[1].getX()\ /\ b3Cos(euler\_out.pitch),}
\DoxyCodeLine{00572\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m\_el[0].getX()\ /\ b3Cos(euler\_out.pitch));}
\DoxyCodeLine{00573\ \ \ \ \ \ \ \ \ \ \ \ \ euler\_out2.yaw\ =\ b3Atan2(m\_el[1].getX()\ /\ b3Cos(euler\_out2.pitch),}
\DoxyCodeLine{00574\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m\_el[0].getX()\ /\ b3Cos(euler\_out2.pitch));}
\DoxyCodeLine{00575\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00576\ }
\DoxyCodeLine{00577\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (solution\_number\ ==\ 1)}
\DoxyCodeLine{00578\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00579\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__gtc__quaternion_ga8da38cdfdc452dafa660c2f46506bad5}{yaw}}\ =\ euler\_out.yaw;}
\DoxyCodeLine{00580\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__gtc__quaternion_ga7603e81477b46ddb448896909bc04928}{pitch}}\ =\ euler\_out.pitch;}
\DoxyCodeLine{00581\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__gtc__quaternion_ga0cc5ad970d0b00829b139fe0fe5a1e13}{roll}}\ =\ euler\_out.roll;}
\DoxyCodeLine{00582\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00583\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00584\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00585\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__gtc__quaternion_ga8da38cdfdc452dafa660c2f46506bad5}{yaw}}\ =\ euler\_out2.yaw;}
\DoxyCodeLine{00586\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__gtc__quaternion_ga7603e81477b46ddb448896909bc04928}{pitch}}\ =\ euler\_out2.pitch;}
\DoxyCodeLine{00587\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__gtc__quaternion_ga0cc5ad970d0b00829b139fe0fe5a1e13}{roll}}\ =\ euler\_out2.roll;}
\DoxyCodeLine{00588\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00589\ \ \ \ \ \}}
\DoxyCodeLine{00590\ }
\DoxyCodeLine{00594\ \ \ \ \ b3Matrix3x3\ scaled(\textcolor{keyword}{const}\ b3Vector3\&\ s)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00595\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00596\ \textcolor{preprocessor}{\#if\ (defined(B3\_USE\_SSE\_IN\_API)\ \&\&\ defined(B3\_USE\_SSE))\ ||\ defined(B3\_USE\_NEON)}}
\DoxyCodeLine{00597\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ b3Matrix3x3(m\_el[0]\ *\ s,\ m\_el[1]\ *\ s,\ m\_el[2]\ *\ s);}
\DoxyCodeLine{00598\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00599\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ b3Matrix3x3(}
\DoxyCodeLine{00600\ \ \ \ \ \ \ \ \ \ \ \ \ m\_el[0].getX()\ *\ s.getX(),\ m\_el[0].getY()\ *\ s.getY(),\ m\_el[0].getZ()\ *\ s.getZ(),}
\DoxyCodeLine{00601\ \ \ \ \ \ \ \ \ \ \ \ \ m\_el[1].getX()\ *\ s.getX(),\ m\_el[1].getY()\ *\ s.getY(),\ m\_el[1].getZ()\ *\ s.getZ(),}
\DoxyCodeLine{00602\ \ \ \ \ \ \ \ \ \ \ \ \ m\_el[2].getX()\ *\ s.getX(),\ m\_el[2].getY()\ *\ s.getY(),\ m\_el[2].getZ()\ *\ s.getZ());}
\DoxyCodeLine{00603\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00604\ \ \ \ \ \}}
\DoxyCodeLine{00605\ }
\DoxyCodeLine{00607\ \ \ \ \ b3Scalar\ determinant()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00609\ \ \ \ \ b3Matrix3x3\ adjoint()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00611\ \ \ \ \ b3Matrix3x3\ absolute()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00613\ \ \ \ \ b3Matrix3x3\ transpose()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00615\ \ \ \ \ b3Matrix3x3\ inverse()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00616\ }
\DoxyCodeLine{00617\ \ \ \ \ b3Matrix3x3\ transposeTimes(\textcolor{keyword}{const}\ b3Matrix3x3\&\ m)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00618\ \ \ \ \ b3Matrix3x3\ timesTranspose(\textcolor{keyword}{const}\ b3Matrix3x3\&\ m)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00619\ }
\DoxyCodeLine{00620\ \ \ \ \ B3\_FORCE\_INLINE\ b3Scalar\ tdotx(\textcolor{keyword}{const}\ b3Vector3\&\ v)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00621\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00622\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_el[0].getX()\ *\ v.getX()\ +\ m\_el[1].getX()\ *\ v.getY()\ +\ m\_el[2].getX()\ *\ v.getZ();}
\DoxyCodeLine{00623\ \ \ \ \ \}}
\DoxyCodeLine{00624\ \ \ \ \ B3\_FORCE\_INLINE\ b3Scalar\ tdoty(\textcolor{keyword}{const}\ b3Vector3\&\ v)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00625\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00626\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_el[0].getY()\ *\ v.getX()\ +\ m\_el[1].getY()\ *\ v.getY()\ +\ m\_el[2].getY()\ *\ v.getZ();}
\DoxyCodeLine{00627\ \ \ \ \ \}}
\DoxyCodeLine{00628\ \ \ \ \ B3\_FORCE\_INLINE\ b3Scalar\ tdotz(\textcolor{keyword}{const}\ b3Vector3\&\ v)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00629\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00630\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_el[0].getZ()\ *\ v.getX()\ +\ m\_el[1].getZ()\ *\ v.getY()\ +\ m\_el[2].getZ()\ *\ v.getZ();}
\DoxyCodeLine{00631\ \ \ \ \ \}}
\DoxyCodeLine{00632\ }
\DoxyCodeLine{00642\ \ \ \ \ \textcolor{keywordtype}{void}\ diagonalize(b3Matrix3x3\ \&\ rot,\ b3Scalar\ threshold,\ \textcolor{keywordtype}{int}\ maxSteps)}
\DoxyCodeLine{00643\ \ \ \ \ \{}
\DoxyCodeLine{00644\ \ \ \ \ \ \ \ \ rot.setIdentity();}
\DoxyCodeLine{00645\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ step\ =\ maxSteps;\ \mbox{\hyperlink{group__core__func__common_ga015a1261ff23e12650211aa872863cce}{step}}\ >\ 0;\ \mbox{\hyperlink{group__core__func__common_ga015a1261ff23e12650211aa872863cce}{step}}-\/-\/)}
\DoxyCodeLine{00646\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00647\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ find\ off-\/diagonal\ element\ [p][q]\ with\ largest\ magnitude}}
\DoxyCodeLine{00648\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ p\ =\ 0;}
\DoxyCodeLine{00649\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ q\ =\ 1;}
\DoxyCodeLine{00650\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ r\ =\ 2;}
\DoxyCodeLine{00651\ \ \ \ \ \ \ \ \ \ \ \ \ b3Scalar\ max\ =\ b3Fabs(m\_el[0][1]);}
\DoxyCodeLine{00652\ \ \ \ \ \ \ \ \ \ \ \ \ b3Scalar\ v\ =\ b3Fabs(m\_el[0][2]);}
\DoxyCodeLine{00653\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (v\ >\ max)}
\DoxyCodeLine{00654\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00655\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ q\ =\ 2;}
\DoxyCodeLine{00656\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ r\ =\ 1;}
\DoxyCodeLine{00657\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ max\ =\ v;}
\DoxyCodeLine{00658\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00659\ \ \ \ \ \ \ \ \ \ \ \ \ v\ =\ b3Fabs(m\_el[1][2]);}
\DoxyCodeLine{00660\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (v\ >\ max)}
\DoxyCodeLine{00661\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00662\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ p\ =\ 1;}
\DoxyCodeLine{00663\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ q\ =\ 2;}
\DoxyCodeLine{00664\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ r\ =\ 0;}
\DoxyCodeLine{00665\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ max\ =\ v;}
\DoxyCodeLine{00666\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00667\ }
\DoxyCodeLine{00668\ \ \ \ \ \ \ \ \ \ \ \ \ b3Scalar\ t\ =\ threshold\ *\ (b3Fabs(m\_el[0][0])\ +\ b3Fabs(m\_el[1][1])\ +\ b3Fabs(m\_el[2][2]));}
\DoxyCodeLine{00669\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (max\ <=\ t)}
\DoxyCodeLine{00670\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00671\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (max\ <=\ B3\_EPSILON\ *\ t)}
\DoxyCodeLine{00672\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00673\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00674\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00675\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__core__func__common_ga015a1261ff23e12650211aa872863cce}{step}}\ =\ 1;}
\DoxyCodeLine{00676\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00677\ }
\DoxyCodeLine{00678\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ compute\ Jacobi\ rotation\ J\ which\ leads\ to\ a\ zero\ for\ element\ [p][q]}}
\DoxyCodeLine{00679\ \ \ \ \ \ \ \ \ \ \ \ \ b3Scalar\ mpq\ =\ m\_el[p][q];}
\DoxyCodeLine{00680\ \ \ \ \ \ \ \ \ \ \ \ \ b3Scalar\ theta\ =\ (m\_el[q][q]\ -\/\ m\_el[p][p])\ /\ (2\ *\ mpq);}
\DoxyCodeLine{00681\ \ \ \ \ \ \ \ \ \ \ \ \ b3Scalar\ theta2\ =\ theta\ *\ theta;}
\DoxyCodeLine{00682\ \ \ \ \ \ \ \ \ \ \ \ \ b3Scalar\ cos;}
\DoxyCodeLine{00683\ \ \ \ \ \ \ \ \ \ \ \ \ b3Scalar\ \mbox{\hyperlink{group__core__func__trigonometric_ga3fcdcfa2d2ac38de9ba1885cd1c79414}{sin}};}
\DoxyCodeLine{00684\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (theta2\ *\ theta2\ <\ b3Scalar(10\ /\ B3\_EPSILON))}
\DoxyCodeLine{00685\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00686\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ t\ =\ (theta\ >=\ 0)\ ?\ 1\ /\ (theta\ +\ b3Sqrt(1\ +\ theta2))}
\DoxyCodeLine{00687\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ 1\ /\ (theta\ -\/\ b3Sqrt(1\ +\ theta2));}
\DoxyCodeLine{00688\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cos\ =\ 1\ /\ b3Sqrt(1\ +\ t\ *\ t);}
\DoxyCodeLine{00689\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__core__func__trigonometric_ga3fcdcfa2d2ac38de9ba1885cd1c79414}{sin}}\ =\ cos\ *\ t;}
\DoxyCodeLine{00690\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00691\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00692\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00693\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ approximation\ for\ large\ theta-\/value,\ i.e.,\ a\ nearly\ diagonal\ matrix}}
\DoxyCodeLine{00694\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ t\ =\ 1\ /\ (theta\ *\ (2\ +\ b3Scalar(0.5)\ /\ theta2));}
\DoxyCodeLine{00695\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cos\ =\ 1\ -\/\ b3Scalar(0.5)\ *\ t\ *\ t;}
\DoxyCodeLine{00696\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__core__func__trigonometric_ga3fcdcfa2d2ac38de9ba1885cd1c79414}{sin}}\ =\ cos\ *\ t;}
\DoxyCodeLine{00697\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00698\ }
\DoxyCodeLine{00699\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ apply\ rotation\ to\ matrix\ (this\ =\ J\string^T\ *\ this\ *\ J)}}
\DoxyCodeLine{00700\ \ \ \ \ \ \ \ \ \ \ \ \ m\_el[p][q]\ =\ m\_el[q][p]\ =\ 0;}
\DoxyCodeLine{00701\ \ \ \ \ \ \ \ \ \ \ \ \ m\_el[p][p]\ -\/=\ t\ *\ mpq;}
\DoxyCodeLine{00702\ \ \ \ \ \ \ \ \ \ \ \ \ m\_el[q][q]\ +=\ t\ *\ mpq;}
\DoxyCodeLine{00703\ \ \ \ \ \ \ \ \ \ \ \ \ b3Scalar\ mrp\ =\ m\_el[r][p];}
\DoxyCodeLine{00704\ \ \ \ \ \ \ \ \ \ \ \ \ b3Scalar\ mrq\ =\ m\_el[r][q];}
\DoxyCodeLine{00705\ \ \ \ \ \ \ \ \ \ \ \ \ m\_el[r][p]\ =\ m\_el[p][r]\ =\ cos\ *\ mrp\ -\/\ \mbox{\hyperlink{group__core__func__trigonometric_ga3fcdcfa2d2ac38de9ba1885cd1c79414}{sin}}\ *\ mrq;}
\DoxyCodeLine{00706\ \ \ \ \ \ \ \ \ \ \ \ \ m\_el[r][q]\ =\ m\_el[q][r]\ =\ cos\ *\ mrq\ +\ \mbox{\hyperlink{group__core__func__trigonometric_ga3fcdcfa2d2ac38de9ba1885cd1c79414}{sin}}\ *\ mrp;}
\DoxyCodeLine{00707\ }
\DoxyCodeLine{00708\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ apply\ rotation\ to\ rot\ (rot\ =\ rot\ *\ J)}}
\DoxyCodeLine{00709\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 3;\ i++)}
\DoxyCodeLine{00710\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00711\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ b3Vector3\&\ \mbox{\hyperlink{group__gtc__matrix__access_ga259e5ebd0f31ec3f83440f8cae7f5dba}{row}}\ =\ rot[i];}
\DoxyCodeLine{00712\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mrp\ =\ \mbox{\hyperlink{group__gtc__matrix__access_ga259e5ebd0f31ec3f83440f8cae7f5dba}{row}}[p];}
\DoxyCodeLine{00713\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mrq\ =\ \mbox{\hyperlink{group__gtc__matrix__access_ga259e5ebd0f31ec3f83440f8cae7f5dba}{row}}[q];}
\DoxyCodeLine{00714\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__gtc__matrix__access_ga259e5ebd0f31ec3f83440f8cae7f5dba}{row}}[p]\ =\ cos\ *\ mrp\ -\/\ \mbox{\hyperlink{group__core__func__trigonometric_ga3fcdcfa2d2ac38de9ba1885cd1c79414}{sin}}\ *\ mrq;}
\DoxyCodeLine{00715\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__gtc__matrix__access_ga259e5ebd0f31ec3f83440f8cae7f5dba}{row}}[q]\ =\ cos\ *\ mrq\ +\ \mbox{\hyperlink{group__core__func__trigonometric_ga3fcdcfa2d2ac38de9ba1885cd1c79414}{sin}}\ *\ mrp;}
\DoxyCodeLine{00716\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00717\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00718\ \ \ \ \ \}}
\DoxyCodeLine{00719\ }
\DoxyCodeLine{00727\ \ \ \ \ b3Scalar\ cofac(\textcolor{keywordtype}{int}\ r1,\ \textcolor{keywordtype}{int}\ c1,\ \textcolor{keywordtype}{int}\ r2,\ \textcolor{keywordtype}{int}\ c2)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00728\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00729\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_el[r1][c1]\ *\ m\_el[r2][c2]\ -\/\ m\_el[r1][c2]\ *\ m\_el[r2][c1];}
\DoxyCodeLine{00730\ \ \ \ \ \}}
\DoxyCodeLine{00731\ }
\DoxyCodeLine{00732\ \ \ \ \ \textcolor{keywordtype}{void}\ serialize(\textcolor{keyword}{struct}\ b3Matrix3x3Data\ \&\ dataOut)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00733\ }
\DoxyCodeLine{00734\ \ \ \ \ \textcolor{keywordtype}{void}\ serializeFloat(\textcolor{keyword}{struct}\ \mbox{\hyperlink{structb3_matrix3x3_float_data}{b3Matrix3x3FloatData}}\ \&\ dataOut)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00735\ }
\DoxyCodeLine{00736\ \ \ \ \ \textcolor{keywordtype}{void}\ deSerialize(\textcolor{keyword}{const}\ \textcolor{keyword}{struct}\ b3Matrix3x3Data\&\ dataIn);}
\DoxyCodeLine{00737\ }
\DoxyCodeLine{00738\ \ \ \ \ \textcolor{keywordtype}{void}\ deSerializeFloat(\textcolor{keyword}{const}\ \textcolor{keyword}{struct}\ \mbox{\hyperlink{structb3_matrix3x3_float_data}{b3Matrix3x3FloatData}}\&\ dataIn);}
\DoxyCodeLine{00739\ }
\DoxyCodeLine{00740\ \ \ \ \ \textcolor{keywordtype}{void}\ deSerializeDouble(\textcolor{keyword}{const}\ \textcolor{keyword}{struct}\ \mbox{\hyperlink{structb3_matrix3x3_double_data}{b3Matrix3x3DoubleData}}\&\ dataIn);}
\DoxyCodeLine{00741\ \};}
\DoxyCodeLine{00742\ }
\DoxyCodeLine{00743\ B3\_FORCE\_INLINE\ b3Matrix3x3\&}
\DoxyCodeLine{00744\ b3Matrix3x3::operator*=(\textcolor{keyword}{const}\ b3Matrix3x3\&\ m)}
\DoxyCodeLine{00745\ \{}
\DoxyCodeLine{00746\ \textcolor{preprocessor}{\#if\ defined(B3\_USE\_SSE\_IN\_API)\ \&\&\ defined(B3\_USE\_SSE)}}
\DoxyCodeLine{00747\ \ \ \ \ \_\_m128\ rv00,\ rv01,\ rv02;}
\DoxyCodeLine{00748\ \ \ \ \ \_\_m128\ rv10,\ rv11,\ rv12;}
\DoxyCodeLine{00749\ \ \ \ \ \_\_m128\ rv20,\ rv21,\ rv22;}
\DoxyCodeLine{00750\ \ \ \ \ \_\_m128\ mv0,\ mv1,\ mv2;}
\DoxyCodeLine{00751\ }
\DoxyCodeLine{00752\ \ \ \ \ rv02\ =\ m\_el[0].mVec128;}
\DoxyCodeLine{00753\ \ \ \ \ rv12\ =\ m\_el[1].mVec128;}
\DoxyCodeLine{00754\ \ \ \ \ rv22\ =\ m\_el[2].mVec128;}
\DoxyCodeLine{00755\ }
\DoxyCodeLine{00756\ \ \ \ \ mv0\ =\ \_mm\_and\_ps(m[0].mVec128,\ b3vFFF0fMask);}
\DoxyCodeLine{00757\ \ \ \ \ mv1\ =\ \_mm\_and\_ps(m[1].mVec128,\ b3vFFF0fMask);}
\DoxyCodeLine{00758\ \ \ \ \ mv2\ =\ \_mm\_and\_ps(m[2].mVec128,\ b3vFFF0fMask);}
\DoxyCodeLine{00759\ }
\DoxyCodeLine{00760\ \ \ \ \ \textcolor{comment}{//\ rv0}}
\DoxyCodeLine{00761\ \ \ \ \ rv00\ =\ b3\_splat\_ps(rv02,\ 0);}
\DoxyCodeLine{00762\ \ \ \ \ rv01\ =\ b3\_splat\_ps(rv02,\ 1);}
\DoxyCodeLine{00763\ \ \ \ \ rv02\ =\ b3\_splat\_ps(rv02,\ 2);}
\DoxyCodeLine{00764\ }
\DoxyCodeLine{00765\ \ \ \ \ rv00\ =\ \_mm\_mul\_ps(rv00,\ mv0);}
\DoxyCodeLine{00766\ \ \ \ \ rv01\ =\ \_mm\_mul\_ps(rv01,\ mv1);}
\DoxyCodeLine{00767\ \ \ \ \ rv02\ =\ \_mm\_mul\_ps(rv02,\ mv2);}
\DoxyCodeLine{00768\ }
\DoxyCodeLine{00769\ \ \ \ \ \textcolor{comment}{//\ rv1}}
\DoxyCodeLine{00770\ \ \ \ \ rv10\ =\ b3\_splat\_ps(rv12,\ 0);}
\DoxyCodeLine{00771\ \ \ \ \ rv11\ =\ b3\_splat\_ps(rv12,\ 1);}
\DoxyCodeLine{00772\ \ \ \ \ rv12\ =\ b3\_splat\_ps(rv12,\ 2);}
\DoxyCodeLine{00773\ }
\DoxyCodeLine{00774\ \ \ \ \ rv10\ =\ \_mm\_mul\_ps(rv10,\ mv0);}
\DoxyCodeLine{00775\ \ \ \ \ rv11\ =\ \_mm\_mul\_ps(rv11,\ mv1);}
\DoxyCodeLine{00776\ \ \ \ \ rv12\ =\ \_mm\_mul\_ps(rv12,\ mv2);}
\DoxyCodeLine{00777\ }
\DoxyCodeLine{00778\ \ \ \ \ \textcolor{comment}{//\ rv2}}
\DoxyCodeLine{00779\ \ \ \ \ rv20\ =\ b3\_splat\_ps(rv22,\ 0);}
\DoxyCodeLine{00780\ \ \ \ \ rv21\ =\ b3\_splat\_ps(rv22,\ 1);}
\DoxyCodeLine{00781\ \ \ \ \ rv22\ =\ b3\_splat\_ps(rv22,\ 2);}
\DoxyCodeLine{00782\ }
\DoxyCodeLine{00783\ \ \ \ \ rv20\ =\ \_mm\_mul\_ps(rv20,\ mv0);}
\DoxyCodeLine{00784\ \ \ \ \ rv21\ =\ \_mm\_mul\_ps(rv21,\ mv1);}
\DoxyCodeLine{00785\ \ \ \ \ rv22\ =\ \_mm\_mul\_ps(rv22,\ mv2);}
\DoxyCodeLine{00786\ }
\DoxyCodeLine{00787\ \ \ \ \ rv00\ =\ \_mm\_add\_ps(rv00,\ rv01);}
\DoxyCodeLine{00788\ \ \ \ \ rv10\ =\ \_mm\_add\_ps(rv10,\ rv11);}
\DoxyCodeLine{00789\ \ \ \ \ rv20\ =\ \_mm\_add\_ps(rv20,\ rv21);}
\DoxyCodeLine{00790\ }
\DoxyCodeLine{00791\ \ \ \ \ m\_el[0].mVec128\ =\ \_mm\_add\_ps(rv00,\ rv02);}
\DoxyCodeLine{00792\ \ \ \ \ m\_el[1].mVec128\ =\ \_mm\_add\_ps(rv10,\ rv12);}
\DoxyCodeLine{00793\ \ \ \ \ m\_el[2].mVec128\ =\ \_mm\_add\_ps(rv20,\ rv22);}
\DoxyCodeLine{00794\ }
\DoxyCodeLine{00795\ \textcolor{preprocessor}{\#elif\ defined(B3\_USE\_NEON)}}
\DoxyCodeLine{00796\ }
\DoxyCodeLine{00797\ \ \ \ \ float32x4\_t\ rv0,\ rv1,\ rv2;}
\DoxyCodeLine{00798\ \ \ \ \ float32x4\_t\ v0,\ v1,\ v2;}
\DoxyCodeLine{00799\ \ \ \ \ float32x4\_t\ mv0,\ mv1,\ mv2;}
\DoxyCodeLine{00800\ }
\DoxyCodeLine{00801\ \ \ \ \ v0\ =\ m\_el[0].mVec128;}
\DoxyCodeLine{00802\ \ \ \ \ v1\ =\ m\_el[1].mVec128;}
\DoxyCodeLine{00803\ \ \ \ \ v2\ =\ m\_el[2].mVec128;}
\DoxyCodeLine{00804\ }
\DoxyCodeLine{00805\ \ \ \ \ mv0\ =\ (float32x4\_t)vandq\_s32((int32x4\_t)m[0].mVec128,\ b3vFFF0Mask);}
\DoxyCodeLine{00806\ \ \ \ \ mv1\ =\ (float32x4\_t)vandq\_s32((int32x4\_t)m[1].mVec128,\ b3vFFF0Mask);}
\DoxyCodeLine{00807\ \ \ \ \ mv2\ =\ (float32x4\_t)vandq\_s32((int32x4\_t)m[2].mVec128,\ b3vFFF0Mask);}
\DoxyCodeLine{00808\ }
\DoxyCodeLine{00809\ \ \ \ \ rv0\ =\ vmulq\_lane\_f32(mv0,\ vget\_low\_f32(v0),\ 0);}
\DoxyCodeLine{00810\ \ \ \ \ rv1\ =\ vmulq\_lane\_f32(mv0,\ vget\_low\_f32(v1),\ 0);}
\DoxyCodeLine{00811\ \ \ \ \ rv2\ =\ vmulq\_lane\_f32(mv0,\ vget\_low\_f32(v2),\ 0);}
\DoxyCodeLine{00812\ }
\DoxyCodeLine{00813\ \ \ \ \ rv0\ =\ vmlaq\_lane\_f32(rv0,\ mv1,\ vget\_low\_f32(v0),\ 1);}
\DoxyCodeLine{00814\ \ \ \ \ rv1\ =\ vmlaq\_lane\_f32(rv1,\ mv1,\ vget\_low\_f32(v1),\ 1);}
\DoxyCodeLine{00815\ \ \ \ \ rv2\ =\ vmlaq\_lane\_f32(rv2,\ mv1,\ vget\_low\_f32(v2),\ 1);}
\DoxyCodeLine{00816\ }
\DoxyCodeLine{00817\ \ \ \ \ rv0\ =\ vmlaq\_lane\_f32(rv0,\ mv2,\ vget\_high\_f32(v0),\ 0);}
\DoxyCodeLine{00818\ \ \ \ \ rv1\ =\ vmlaq\_lane\_f32(rv1,\ mv2,\ vget\_high\_f32(v1),\ 0);}
\DoxyCodeLine{00819\ \ \ \ \ rv2\ =\ vmlaq\_lane\_f32(rv2,\ mv2,\ vget\_high\_f32(v2),\ 0);}
\DoxyCodeLine{00820\ }
\DoxyCodeLine{00821\ \ \ \ \ m\_el[0].mVec128\ =\ rv0;}
\DoxyCodeLine{00822\ \ \ \ \ m\_el[1].mVec128\ =\ rv1;}
\DoxyCodeLine{00823\ \ \ \ \ m\_el[2].mVec128\ =\ rv2;}
\DoxyCodeLine{00824\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00825\ \ \ \ \ setValue(}
\DoxyCodeLine{00826\ \ \ \ \ \ \ \ \ m.tdotx(m\_el[0]),\ m.tdoty(m\_el[0]),\ m.tdotz(m\_el[0]),}
\DoxyCodeLine{00827\ \ \ \ \ \ \ \ \ m.tdotx(m\_el[1]),\ m.tdoty(m\_el[1]),\ m.tdotz(m\_el[1]),}
\DoxyCodeLine{00828\ \ \ \ \ \ \ \ \ m.tdotx(m\_el[2]),\ m.tdoty(m\_el[2]),\ m.tdotz(m\_el[2]));}
\DoxyCodeLine{00829\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00830\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00831\ \}}
\DoxyCodeLine{00832\ }
\DoxyCodeLine{00833\ B3\_FORCE\_INLINE\ b3Matrix3x3\&}
\DoxyCodeLine{00834\ b3Matrix3x3::operator+=(\textcolor{keyword}{const}\ b3Matrix3x3\&\ m)}
\DoxyCodeLine{00835\ \{}
\DoxyCodeLine{00836\ \textcolor{preprocessor}{\#if\ (defined(B3\_USE\_SSE\_IN\_API)\ \&\&\ defined(B3\_USE\_SSE))\ ||\ defined(B3\_USE\_NEON)}}
\DoxyCodeLine{00837\ \ \ \ \ m\_el[0].mVec128\ =\ m\_el[0].mVec128\ +\ m.m\_el[0].mVec128;}
\DoxyCodeLine{00838\ \ \ \ \ m\_el[1].mVec128\ =\ m\_el[1].mVec128\ +\ m.m\_el[1].mVec128;}
\DoxyCodeLine{00839\ \ \ \ \ m\_el[2].mVec128\ =\ m\_el[2].mVec128\ +\ m.m\_el[2].mVec128;}
\DoxyCodeLine{00840\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00841\ \ \ \ \ setValue(}
\DoxyCodeLine{00842\ \ \ \ \ \ \ \ \ m\_el[0][0]\ +\ m.m\_el[0][0],}
\DoxyCodeLine{00843\ \ \ \ \ \ \ \ \ m\_el[0][1]\ +\ m.m\_el[0][1],}
\DoxyCodeLine{00844\ \ \ \ \ \ \ \ \ m\_el[0][2]\ +\ m.m\_el[0][2],}
\DoxyCodeLine{00845\ \ \ \ \ \ \ \ \ m\_el[1][0]\ +\ m.m\_el[1][0],}
\DoxyCodeLine{00846\ \ \ \ \ \ \ \ \ m\_el[1][1]\ +\ m.m\_el[1][1],}
\DoxyCodeLine{00847\ \ \ \ \ \ \ \ \ m\_el[1][2]\ +\ m.m\_el[1][2],}
\DoxyCodeLine{00848\ \ \ \ \ \ \ \ \ m\_el[2][0]\ +\ m.m\_el[2][0],}
\DoxyCodeLine{00849\ \ \ \ \ \ \ \ \ m\_el[2][1]\ +\ m.m\_el[2][1],}
\DoxyCodeLine{00850\ \ \ \ \ \ \ \ \ m\_el[2][2]\ +\ m.m\_el[2][2]);}
\DoxyCodeLine{00851\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00852\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00853\ \}}
\DoxyCodeLine{00854\ }
\DoxyCodeLine{00855\ B3\_FORCE\_INLINE\ b3Matrix3x3}
\DoxyCodeLine{00856\ operator*(\textcolor{keyword}{const}\ b3Matrix3x3\&\ m,\ \textcolor{keyword}{const}\ b3Scalar\&\ k)}
\DoxyCodeLine{00857\ \{}
\DoxyCodeLine{00858\ \textcolor{preprocessor}{\#if\ (defined(B3\_USE\_SSE\_IN\_API)\ \&\&\ defined(B3\_USE\_SSE))}}
\DoxyCodeLine{00859\ \ \ \ \ \_\_m128\ vk\ =\ b3\_splat\_ps(\_mm\_load\_ss((\textcolor{keywordtype}{float}*)\&k),\ 0x80);}
\DoxyCodeLine{00860\ \ \ \ \ \textcolor{keywordflow}{return}\ b3Matrix3x3(}
\DoxyCodeLine{00861\ \ \ \ \ \ \ \ \ \_mm\_mul\_ps(m[0].mVec128,\ vk),}
\DoxyCodeLine{00862\ \ \ \ \ \ \ \ \ \_mm\_mul\_ps(m[1].mVec128,\ vk),}
\DoxyCodeLine{00863\ \ \ \ \ \ \ \ \ \_mm\_mul\_ps(m[2].mVec128,\ vk));}
\DoxyCodeLine{00864\ \textcolor{preprocessor}{\#elif\ defined(B3\_USE\_NEON)}}
\DoxyCodeLine{00865\ \ \ \ \ \textcolor{keywordflow}{return}\ b3Matrix3x3(}
\DoxyCodeLine{00866\ \ \ \ \ \ \ \ \ vmulq\_n\_f32(m[0].mVec128,\ k),}
\DoxyCodeLine{00867\ \ \ \ \ \ \ \ \ vmulq\_n\_f32(m[1].mVec128,\ k),}
\DoxyCodeLine{00868\ \ \ \ \ \ \ \ \ vmulq\_n\_f32(m[2].mVec128,\ k));}
\DoxyCodeLine{00869\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00870\ \ \ \ \ \textcolor{keywordflow}{return}\ b3Matrix3x3(}
\DoxyCodeLine{00871\ \ \ \ \ \ \ \ \ m[0].getX()\ *\ k,\ m[0].getY()\ *\ k,\ m[0].getZ()\ *\ k,}
\DoxyCodeLine{00872\ \ \ \ \ \ \ \ \ m[1].getX()\ *\ k,\ m[1].getY()\ *\ k,\ m[1].getZ()\ *\ k,}
\DoxyCodeLine{00873\ \ \ \ \ \ \ \ \ m[2].getX()\ *\ k,\ m[2].getY()\ *\ k,\ m[2].getZ()\ *\ k);}
\DoxyCodeLine{00874\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00875\ \}}
\DoxyCodeLine{00876\ }
\DoxyCodeLine{00877\ B3\_FORCE\_INLINE\ b3Matrix3x3}
\DoxyCodeLine{00878\ operator+(\textcolor{keyword}{const}\ b3Matrix3x3\&\ m1,\ \textcolor{keyword}{const}\ b3Matrix3x3\&\ m2)}
\DoxyCodeLine{00879\ \{}
\DoxyCodeLine{00880\ \textcolor{preprocessor}{\#if\ (defined(B3\_USE\_SSE\_IN\_API)\ \&\&\ defined(B3\_USE\_SSE))\ ||\ defined(B3\_USE\_NEON)}}
\DoxyCodeLine{00881\ \ \ \ \ \textcolor{keywordflow}{return}\ b3Matrix3x3(}
\DoxyCodeLine{00882\ \ \ \ \ \ \ \ \ m1[0].mVec128\ +\ m2[0].mVec128,}
\DoxyCodeLine{00883\ \ \ \ \ \ \ \ \ m1[1].mVec128\ +\ m2[1].mVec128,}
\DoxyCodeLine{00884\ \ \ \ \ \ \ \ \ m1[2].mVec128\ +\ m2[2].mVec128);}
\DoxyCodeLine{00885\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00886\ \ \ \ \ \textcolor{keywordflow}{return}\ b3Matrix3x3(}
\DoxyCodeLine{00887\ \ \ \ \ \ \ \ \ m1[0][0]\ +\ m2[0][0],}
\DoxyCodeLine{00888\ \ \ \ \ \ \ \ \ m1[0][1]\ +\ m2[0][1],}
\DoxyCodeLine{00889\ \ \ \ \ \ \ \ \ m1[0][2]\ +\ m2[0][2],}
\DoxyCodeLine{00890\ }
\DoxyCodeLine{00891\ \ \ \ \ \ \ \ \ m1[1][0]\ +\ m2[1][0],}
\DoxyCodeLine{00892\ \ \ \ \ \ \ \ \ m1[1][1]\ +\ m2[1][1],}
\DoxyCodeLine{00893\ \ \ \ \ \ \ \ \ m1[1][2]\ +\ m2[1][2],}
\DoxyCodeLine{00894\ }
\DoxyCodeLine{00895\ \ \ \ \ \ \ \ \ m1[2][0]\ +\ m2[2][0],}
\DoxyCodeLine{00896\ \ \ \ \ \ \ \ \ m1[2][1]\ +\ m2[2][1],}
\DoxyCodeLine{00897\ \ \ \ \ \ \ \ \ m1[2][2]\ +\ m2[2][2]);}
\DoxyCodeLine{00898\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00899\ \}}
\DoxyCodeLine{00900\ }
\DoxyCodeLine{00901\ B3\_FORCE\_INLINE\ b3Matrix3x3}
\DoxyCodeLine{00902\ operator-\/(\textcolor{keyword}{const}\ b3Matrix3x3\&\ m1,\ \textcolor{keyword}{const}\ b3Matrix3x3\&\ m2)}
\DoxyCodeLine{00903\ \{}
\DoxyCodeLine{00904\ \textcolor{preprocessor}{\#if\ (defined(B3\_USE\_SSE\_IN\_API)\ \&\&\ defined(B3\_USE\_SSE))\ ||\ defined(B3\_USE\_NEON)}}
\DoxyCodeLine{00905\ \ \ \ \ \textcolor{keywordflow}{return}\ b3Matrix3x3(}
\DoxyCodeLine{00906\ \ \ \ \ \ \ \ \ m1[0].mVec128\ -\/\ m2[0].mVec128,}
\DoxyCodeLine{00907\ \ \ \ \ \ \ \ \ m1[1].mVec128\ -\/\ m2[1].mVec128,}
\DoxyCodeLine{00908\ \ \ \ \ \ \ \ \ m1[2].mVec128\ -\/\ m2[2].mVec128);}
\DoxyCodeLine{00909\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00910\ \ \ \ \ \textcolor{keywordflow}{return}\ b3Matrix3x3(}
\DoxyCodeLine{00911\ \ \ \ \ \ \ \ \ m1[0][0]\ -\/\ m2[0][0],}
\DoxyCodeLine{00912\ \ \ \ \ \ \ \ \ m1[0][1]\ -\/\ m2[0][1],}
\DoxyCodeLine{00913\ \ \ \ \ \ \ \ \ m1[0][2]\ -\/\ m2[0][2],}
\DoxyCodeLine{00914\ }
\DoxyCodeLine{00915\ \ \ \ \ \ \ \ \ m1[1][0]\ -\/\ m2[1][0],}
\DoxyCodeLine{00916\ \ \ \ \ \ \ \ \ m1[1][1]\ -\/\ m2[1][1],}
\DoxyCodeLine{00917\ \ \ \ \ \ \ \ \ m1[1][2]\ -\/\ m2[1][2],}
\DoxyCodeLine{00918\ }
\DoxyCodeLine{00919\ \ \ \ \ \ \ \ \ m1[2][0]\ -\/\ m2[2][0],}
\DoxyCodeLine{00920\ \ \ \ \ \ \ \ \ m1[2][1]\ -\/\ m2[2][1],}
\DoxyCodeLine{00921\ \ \ \ \ \ \ \ \ m1[2][2]\ -\/\ m2[2][2]);}
\DoxyCodeLine{00922\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00923\ \}}
\DoxyCodeLine{00924\ }
\DoxyCodeLine{00925\ B3\_FORCE\_INLINE\ b3Matrix3x3\&}
\DoxyCodeLine{00926\ b3Matrix3x3::operator-\/=(\textcolor{keyword}{const}\ b3Matrix3x3\&\ m)}
\DoxyCodeLine{00927\ \{}
\DoxyCodeLine{00928\ \textcolor{preprocessor}{\#if\ (defined(B3\_USE\_SSE\_IN\_API)\ \&\&\ defined(B3\_USE\_SSE))\ ||\ defined(B3\_USE\_NEON)}}
\DoxyCodeLine{00929\ \ \ \ \ m\_el[0].mVec128\ =\ m\_el[0].mVec128\ -\/\ m.m\_el[0].mVec128;}
\DoxyCodeLine{00930\ \ \ \ \ m\_el[1].mVec128\ =\ m\_el[1].mVec128\ -\/\ m.m\_el[1].mVec128;}
\DoxyCodeLine{00931\ \ \ \ \ m\_el[2].mVec128\ =\ m\_el[2].mVec128\ -\/\ m.m\_el[2].mVec128;}
\DoxyCodeLine{00932\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00933\ \ \ \ \ setValue(}
\DoxyCodeLine{00934\ \ \ \ \ \ \ \ \ m\_el[0][0]\ -\/\ m.m\_el[0][0],}
\DoxyCodeLine{00935\ \ \ \ \ \ \ \ \ m\_el[0][1]\ -\/\ m.m\_el[0][1],}
\DoxyCodeLine{00936\ \ \ \ \ \ \ \ \ m\_el[0][2]\ -\/\ m.m\_el[0][2],}
\DoxyCodeLine{00937\ \ \ \ \ \ \ \ \ m\_el[1][0]\ -\/\ m.m\_el[1][0],}
\DoxyCodeLine{00938\ \ \ \ \ \ \ \ \ m\_el[1][1]\ -\/\ m.m\_el[1][1],}
\DoxyCodeLine{00939\ \ \ \ \ \ \ \ \ m\_el[1][2]\ -\/\ m.m\_el[1][2],}
\DoxyCodeLine{00940\ \ \ \ \ \ \ \ \ m\_el[2][0]\ -\/\ m.m\_el[2][0],}
\DoxyCodeLine{00941\ \ \ \ \ \ \ \ \ m\_el[2][1]\ -\/\ m.m\_el[2][1],}
\DoxyCodeLine{00942\ \ \ \ \ \ \ \ \ m\_el[2][2]\ -\/\ m.m\_el[2][2]);}
\DoxyCodeLine{00943\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00944\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00945\ \}}
\DoxyCodeLine{00946\ }
\DoxyCodeLine{00947\ B3\_FORCE\_INLINE\ b3Scalar}
\DoxyCodeLine{00948\ b3Matrix3x3::determinant()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00949\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00950\ \ \ \ \ \textcolor{keywordflow}{return}\ b3Triple((*\textcolor{keyword}{this})[0],\ (*\textcolor{keyword}{this})[1],\ (*\textcolor{keyword}{this})[2]);}
\DoxyCodeLine{00951\ \}}
\DoxyCodeLine{00952\ }
\DoxyCodeLine{00953\ B3\_FORCE\_INLINE\ b3Matrix3x3}
\DoxyCodeLine{00954\ b3Matrix3x3::absolute()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00955\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00956\ \textcolor{preprocessor}{\#if\ (defined(B3\_USE\_SSE\_IN\_API)\ \&\&\ defined(B3\_USE\_SSE))}}
\DoxyCodeLine{00957\ \ \ \ \ \textcolor{keywordflow}{return}\ b3Matrix3x3(}
\DoxyCodeLine{00958\ \ \ \ \ \ \ \ \ \_mm\_and\_ps(m\_el[0].mVec128,\ b3vAbsfMask),}
\DoxyCodeLine{00959\ \ \ \ \ \ \ \ \ \_mm\_and\_ps(m\_el[1].mVec128,\ b3vAbsfMask),}
\DoxyCodeLine{00960\ \ \ \ \ \ \ \ \ \_mm\_and\_ps(m\_el[2].mVec128,\ b3vAbsfMask));}
\DoxyCodeLine{00961\ \textcolor{preprocessor}{\#elif\ defined(B3\_USE\_NEON)}}
\DoxyCodeLine{00962\ \ \ \ \ \textcolor{keywordflow}{return}\ b3Matrix3x3(}
\DoxyCodeLine{00963\ \ \ \ \ \ \ \ \ (float32x4\_t)vandq\_s32((int32x4\_t)m\_el[0].mVec128,\ b3v3AbsMask),}
\DoxyCodeLine{00964\ \ \ \ \ \ \ \ \ (float32x4\_t)vandq\_s32((int32x4\_t)m\_el[1].mVec128,\ b3v3AbsMask),}
\DoxyCodeLine{00965\ \ \ \ \ \ \ \ \ (float32x4\_t)vandq\_s32((int32x4\_t)m\_el[2].mVec128,\ b3v3AbsMask));}
\DoxyCodeLine{00966\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00967\ \ \ \ \ \textcolor{keywordflow}{return}\ b3Matrix3x3(}
\DoxyCodeLine{00968\ \ \ \ \ \ \ \ \ b3Fabs(m\_el[0].getX()),\ b3Fabs(m\_el[0].getY()),\ b3Fabs(m\_el[0].getZ()),}
\DoxyCodeLine{00969\ \ \ \ \ \ \ \ \ b3Fabs(m\_el[1].getX()),\ b3Fabs(m\_el[1].getY()),\ b3Fabs(m\_el[1].getZ()),}
\DoxyCodeLine{00970\ \ \ \ \ \ \ \ \ b3Fabs(m\_el[2].getX()),\ b3Fabs(m\_el[2].getY()),\ b3Fabs(m\_el[2].getZ()));}
\DoxyCodeLine{00971\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00972\ \}}
\DoxyCodeLine{00973\ }
\DoxyCodeLine{00974\ B3\_FORCE\_INLINE\ b3Matrix3x3}
\DoxyCodeLine{00975\ b3Matrix3x3::transpose()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00976\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00977\ \textcolor{preprocessor}{\#if\ (defined(B3\_USE\_SSE\_IN\_API)\ \&\&\ defined(B3\_USE\_SSE))}}
\DoxyCodeLine{00978\ \ \ \ \ \_\_m128\ v0\ =\ m\_el[0].mVec128;}
\DoxyCodeLine{00979\ \ \ \ \ \_\_m128\ v1\ =\ m\_el[1].mVec128;}
\DoxyCodeLine{00980\ \ \ \ \ \_\_m128\ v2\ =\ m\_el[2].mVec128;\ \ \textcolor{comment}{//\ \ x2\ y2\ z2\ w2}}
\DoxyCodeLine{00981\ \ \ \ \ \_\_m128\ vT;}
\DoxyCodeLine{00982\ }
\DoxyCodeLine{00983\ \ \ \ \ v2\ =\ \_mm\_and\_ps(v2,\ b3vFFF0fMask);\ \ \textcolor{comment}{//\ \ x2\ y2\ z2\ 0}}
\DoxyCodeLine{00984\ }
\DoxyCodeLine{00985\ \ \ \ \ vT\ =\ \_mm\_unpackhi\_ps(v0,\ v1);\ \ \textcolor{comment}{//\ \ \ z0\ z1\ *\ *}}
\DoxyCodeLine{00986\ \ \ \ \ v0\ =\ \_mm\_unpacklo\_ps(v0,\ v1);\ \ \textcolor{comment}{//\ \ \ x0\ x1\ y0\ y1}}
\DoxyCodeLine{00987\ }
\DoxyCodeLine{00988\ \ \ \ \ v1\ =\ \_mm\_shuffle\_ps(v0,\ v2,\ B3\_SHUFFLE(2,\ 3,\ 1,\ 3));\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ y0\ y1\ y2\ 0}}
\DoxyCodeLine{00989\ \ \ \ \ v0\ =\ \_mm\_shuffle\_ps(v0,\ v2,\ B3\_SHUFFLE(0,\ 1,\ 0,\ 3));\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ x0\ x1\ x2\ 0}}
\DoxyCodeLine{00990\ \ \ \ \ v2\ =\ b3CastdTo128f(\_mm\_move\_sd(b3CastfTo128d(v2),\ b3CastfTo128d(vT)));\ \ \textcolor{comment}{//\ z0\ z1\ z2\ 0}}
\DoxyCodeLine{00991\ }
\DoxyCodeLine{00992\ \ \ \ \ \textcolor{keywordflow}{return}\ b3Matrix3x3(v0,\ v1,\ v2);}
\DoxyCodeLine{00993\ \textcolor{preprocessor}{\#elif\ defined(B3\_USE\_NEON)}}
\DoxyCodeLine{00994\ \ \ \ \ \textcolor{comment}{//\ note:\ zeros\ the\ w\ channel.\ We\ can\ preserve\ it\ at\ the\ cost\ of\ two\ more\ vtrn\ instructions.}}
\DoxyCodeLine{00995\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ uint32x2\_t\ zMask\ =\ (\textcolor{keyword}{const}\ uint32x2\_t)\{-\/1,\ 0\};}
\DoxyCodeLine{00996\ \ \ \ \ float32x4x2\_t\ top\ =\ vtrnq\_f32(m\_el[0].mVec128,\ m\_el[1].mVec128);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \{x0\ x1\ z0\ z1\},\ \{y0\ y1\ w0\ w1\}}}
\DoxyCodeLine{00997\ \ \ \ \ float32x2x2\_t\ bl\ =\ vtrn\_f32(vget\_low\_f32(m\_el[2].mVec128),\ vdup\_n\_f32(0.0f));\ \ \textcolor{comment}{//\ \{x2\ \ 0\ \},\ \{y2\ 0\}}}
\DoxyCodeLine{00998\ \ \ \ \ float32x4\_t\ v0\ =\ vcombine\_f32(vget\_low\_f32(top.val[0]),\ bl.val[0]);}
\DoxyCodeLine{00999\ \ \ \ \ float32x4\_t\ v1\ =\ vcombine\_f32(vget\_low\_f32(top.val[1]),\ bl.val[1]);}
\DoxyCodeLine{01000\ \ \ \ \ float32x2\_t\ q\ =\ (float32x2\_t)vand\_u32((uint32x2\_t)vget\_high\_f32(m\_el[2].mVec128),\ zMask);}
\DoxyCodeLine{01001\ \ \ \ \ float32x4\_t\ v2\ =\ vcombine\_f32(vget\_high\_f32(top.val[0]),\ q);\ \ \textcolor{comment}{//\ z0\ z1\ z2\ \ 0}}
\DoxyCodeLine{01002\ \ \ \ \ \textcolor{keywordflow}{return}\ b3Matrix3x3(v0,\ v1,\ v2);}
\DoxyCodeLine{01003\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01004\ \ \ \ \ \textcolor{keywordflow}{return}\ b3Matrix3x3(m\_el[0].getX(),\ m\_el[1].getX(),\ m\_el[2].getX(),}
\DoxyCodeLine{01005\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m\_el[0].getY(),\ m\_el[1].getY(),\ m\_el[2].getY(),}
\DoxyCodeLine{01006\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m\_el[0].getZ(),\ m\_el[1].getZ(),\ m\_el[2].getZ());}
\DoxyCodeLine{01007\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01008\ \}}
\DoxyCodeLine{01009\ }
\DoxyCodeLine{01010\ B3\_FORCE\_INLINE\ b3Matrix3x3}
\DoxyCodeLine{01011\ b3Matrix3x3::adjoint()\textcolor{keyword}{\ const}}
\DoxyCodeLine{01012\ \textcolor{keyword}{}\{}
\DoxyCodeLine{01013\ \ \ \ \ \textcolor{keywordflow}{return}\ b3Matrix3x3(cofac(1,\ 1,\ 2,\ 2),\ cofac(0,\ 2,\ 2,\ 1),\ cofac(0,\ 1,\ 1,\ 2),}
\DoxyCodeLine{01014\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cofac(1,\ 2,\ 2,\ 0),\ cofac(0,\ 0,\ 2,\ 2),\ cofac(0,\ 2,\ 1,\ 0),}
\DoxyCodeLine{01015\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cofac(1,\ 0,\ 2,\ 1),\ cofac(0,\ 1,\ 2,\ 0),\ cofac(0,\ 0,\ 1,\ 1));}
\DoxyCodeLine{01016\ \}}
\DoxyCodeLine{01017\ }
\DoxyCodeLine{01018\ B3\_FORCE\_INLINE\ b3Matrix3x3}
\DoxyCodeLine{01019\ b3Matrix3x3::inverse()\textcolor{keyword}{\ const}}
\DoxyCodeLine{01020\ \textcolor{keyword}{}\{}
\DoxyCodeLine{01021\ \ \ \ \ b3Vector3\ co\ =\ b3MakeVector3(cofac(1,\ 1,\ 2,\ 2),\ cofac(1,\ 2,\ 2,\ 0),\ cofac(1,\ 0,\ 2,\ 1));}
\DoxyCodeLine{01022\ \ \ \ \ b3Scalar\ det\ =\ (*this)[0].dot(co);}
\DoxyCodeLine{01023\ \ \ \ \ b3FullAssert(det\ !=\ b3Scalar(0.0));}
\DoxyCodeLine{01024\ \ \ \ \ b3Scalar\ s\ =\ b3Scalar(1.0)\ /\ det;}
\DoxyCodeLine{01025\ \ \ \ \ \textcolor{keywordflow}{return}\ b3Matrix3x3(co.getX()\ *\ s,\ cofac(0,\ 2,\ 2,\ 1)\ *\ s,\ cofac(0,\ 1,\ 1,\ 2)\ *\ s,}
\DoxyCodeLine{01026\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ co.getY()\ *\ s,\ cofac(0,\ 0,\ 2,\ 2)\ *\ s,\ cofac(0,\ 2,\ 1,\ 0)\ *\ s,}
\DoxyCodeLine{01027\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ co.getZ()\ *\ s,\ cofac(0,\ 1,\ 2,\ 0)\ *\ s,\ cofac(0,\ 0,\ 1,\ 1)\ *\ s);}
\DoxyCodeLine{01028\ \}}
\DoxyCodeLine{01029\ }
\DoxyCodeLine{01030\ B3\_FORCE\_INLINE\ b3Matrix3x3}
\DoxyCodeLine{01031\ b3Matrix3x3::transposeTimes(\textcolor{keyword}{const}\ b3Matrix3x3\&\ m)\textcolor{keyword}{\ const}}
\DoxyCodeLine{01032\ \textcolor{keyword}{}\{}
\DoxyCodeLine{01033\ \textcolor{preprocessor}{\#if\ (defined(B3\_USE\_SSE\_IN\_API)\ \&\&\ defined(B3\_USE\_SSE))}}
\DoxyCodeLine{01034\ \ \ \ \ \textcolor{comment}{//\ zeros\ w}}
\DoxyCodeLine{01035\ \ \ \ \ \textcolor{comment}{//\ \ \ \ static\ const\ \_\_m128i\ xyzMask\ =\ (const\ \_\_m128i)\{\ -\/1ULL,\ 0xffffffffULL\ \};}}
\DoxyCodeLine{01036\ \ \ \ \ \_\_m128\ \mbox{\hyperlink{group__gtc__matrix__access_ga259e5ebd0f31ec3f83440f8cae7f5dba}{row}}\ =\ m\_el[0].mVec128;}
\DoxyCodeLine{01037\ \ \ \ \ \_\_m128\ m0\ =\ \_mm\_and\_ps(m.getRow(0).mVec128,\ b3vFFF0fMask);}
\DoxyCodeLine{01038\ \ \ \ \ \_\_m128\ m1\ =\ \_mm\_and\_ps(m.getRow(1).mVec128,\ b3vFFF0fMask);}
\DoxyCodeLine{01039\ \ \ \ \ \_\_m128\ m2\ =\ \_mm\_and\_ps(m.getRow(2).mVec128,\ b3vFFF0fMask);}
\DoxyCodeLine{01040\ \ \ \ \ \_\_m128\ r0\ =\ \_mm\_mul\_ps(m0,\ \_mm\_shuffle\_ps(row,\ row,\ 0));}
\DoxyCodeLine{01041\ \ \ \ \ \_\_m128\ r1\ =\ \_mm\_mul\_ps(m0,\ \_mm\_shuffle\_ps(row,\ row,\ 0x55));}
\DoxyCodeLine{01042\ \ \ \ \ \_\_m128\ r2\ =\ \_mm\_mul\_ps(m0,\ \_mm\_shuffle\_ps(row,\ row,\ 0xaa));}
\DoxyCodeLine{01043\ \ \ \ \ \mbox{\hyperlink{group__gtc__matrix__access_ga259e5ebd0f31ec3f83440f8cae7f5dba}{row}}\ =\ m\_el[1].mVec128;}
\DoxyCodeLine{01044\ \ \ \ \ r0\ =\ \_mm\_add\_ps(r0,\ \_mm\_mul\_ps(m1,\ \_mm\_shuffle\_ps(row,\ row,\ 0)));}
\DoxyCodeLine{01045\ \ \ \ \ r1\ =\ \_mm\_add\_ps(r1,\ \_mm\_mul\_ps(m1,\ \_mm\_shuffle\_ps(row,\ row,\ 0x55)));}
\DoxyCodeLine{01046\ \ \ \ \ r2\ =\ \_mm\_add\_ps(r2,\ \_mm\_mul\_ps(m1,\ \_mm\_shuffle\_ps(row,\ row,\ 0xaa)));}
\DoxyCodeLine{01047\ \ \ \ \ \mbox{\hyperlink{group__gtc__matrix__access_ga259e5ebd0f31ec3f83440f8cae7f5dba}{row}}\ =\ m\_el[2].mVec128;}
\DoxyCodeLine{01048\ \ \ \ \ r0\ =\ \_mm\_add\_ps(r0,\ \_mm\_mul\_ps(m2,\ \_mm\_shuffle\_ps(row,\ row,\ 0)));}
\DoxyCodeLine{01049\ \ \ \ \ r1\ =\ \_mm\_add\_ps(r1,\ \_mm\_mul\_ps(m2,\ \_mm\_shuffle\_ps(row,\ row,\ 0x55)));}
\DoxyCodeLine{01050\ \ \ \ \ r2\ =\ \_mm\_add\_ps(r2,\ \_mm\_mul\_ps(m2,\ \_mm\_shuffle\_ps(row,\ row,\ 0xaa)));}
\DoxyCodeLine{01051\ \ \ \ \ \textcolor{keywordflow}{return}\ b3Matrix3x3(r0,\ r1,\ r2);}
\DoxyCodeLine{01052\ }
\DoxyCodeLine{01053\ \textcolor{preprocessor}{\#elif\ defined\ B3\_USE\_NEON}}
\DoxyCodeLine{01054\ \ \ \ \ \textcolor{comment}{//\ zeros\ w}}
\DoxyCodeLine{01055\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ uint32x4\_t\ xyzMask\ =\ (\textcolor{keyword}{const}\ uint32x4\_t)\{-\/1,\ -\/1,\ -\/1,\ 0\};}
\DoxyCodeLine{01056\ \ \ \ \ float32x4\_t\ m0\ =\ (float32x4\_t)vandq\_u32((uint32x4\_t)m.getRow(0).mVec128,\ xyzMask);}
\DoxyCodeLine{01057\ \ \ \ \ float32x4\_t\ m1\ =\ (float32x4\_t)vandq\_u32((uint32x4\_t)m.getRow(1).mVec128,\ xyzMask);}
\DoxyCodeLine{01058\ \ \ \ \ float32x4\_t\ m2\ =\ (float32x4\_t)vandq\_u32((uint32x4\_t)m.getRow(2).mVec128,\ xyzMask);}
\DoxyCodeLine{01059\ \ \ \ \ float32x4\_t\ \mbox{\hyperlink{group__gtc__matrix__access_ga259e5ebd0f31ec3f83440f8cae7f5dba}{row}}\ =\ m\_el[0].mVec128;}
\DoxyCodeLine{01060\ \ \ \ \ float32x4\_t\ r0\ =\ vmulq\_lane\_f32(m0,\ vget\_low\_f32(row),\ 0);}
\DoxyCodeLine{01061\ \ \ \ \ float32x4\_t\ r1\ =\ vmulq\_lane\_f32(m0,\ vget\_low\_f32(row),\ 1);}
\DoxyCodeLine{01062\ \ \ \ \ float32x4\_t\ r2\ =\ vmulq\_lane\_f32(m0,\ vget\_high\_f32(row),\ 0);}
\DoxyCodeLine{01063\ \ \ \ \ \mbox{\hyperlink{group__gtc__matrix__access_ga259e5ebd0f31ec3f83440f8cae7f5dba}{row}}\ =\ m\_el[1].mVec128;}
\DoxyCodeLine{01064\ \ \ \ \ r0\ =\ vmlaq\_lane\_f32(r0,\ m1,\ vget\_low\_f32(row),\ 0);}
\DoxyCodeLine{01065\ \ \ \ \ r1\ =\ vmlaq\_lane\_f32(r1,\ m1,\ vget\_low\_f32(row),\ 1);}
\DoxyCodeLine{01066\ \ \ \ \ r2\ =\ vmlaq\_lane\_f32(r2,\ m1,\ vget\_high\_f32(row),\ 0);}
\DoxyCodeLine{01067\ \ \ \ \ \mbox{\hyperlink{group__gtc__matrix__access_ga259e5ebd0f31ec3f83440f8cae7f5dba}{row}}\ =\ m\_el[2].mVec128;}
\DoxyCodeLine{01068\ \ \ \ \ r0\ =\ vmlaq\_lane\_f32(r0,\ m2,\ vget\_low\_f32(row),\ 0);}
\DoxyCodeLine{01069\ \ \ \ \ r1\ =\ vmlaq\_lane\_f32(r1,\ m2,\ vget\_low\_f32(row),\ 1);}
\DoxyCodeLine{01070\ \ \ \ \ r2\ =\ vmlaq\_lane\_f32(r2,\ m2,\ vget\_high\_f32(row),\ 0);}
\DoxyCodeLine{01071\ \ \ \ \ \textcolor{keywordflow}{return}\ b3Matrix3x3(r0,\ r1,\ r2);}
\DoxyCodeLine{01072\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01073\ \ \ \ \ \textcolor{keywordflow}{return}\ b3Matrix3x3(}
\DoxyCodeLine{01074\ \ \ \ \ \ \ \ \ m\_el[0].getX()\ *\ m[0].getX()\ +\ m\_el[1].getX()\ *\ m[1].getX()\ +\ m\_el[2].getX()\ *\ m[2].getX(),}
\DoxyCodeLine{01075\ \ \ \ \ \ \ \ \ m\_el[0].getX()\ *\ m[0].getY()\ +\ m\_el[1].getX()\ *\ m[1].getY()\ +\ m\_el[2].getX()\ *\ m[2].getY(),}
\DoxyCodeLine{01076\ \ \ \ \ \ \ \ \ m\_el[0].getX()\ *\ m[0].getZ()\ +\ m\_el[1].getX()\ *\ m[1].getZ()\ +\ m\_el[2].getX()\ *\ m[2].getZ(),}
\DoxyCodeLine{01077\ \ \ \ \ \ \ \ \ m\_el[0].getY()\ *\ m[0].getX()\ +\ m\_el[1].getY()\ *\ m[1].getX()\ +\ m\_el[2].getY()\ *\ m[2].getX(),}
\DoxyCodeLine{01078\ \ \ \ \ \ \ \ \ m\_el[0].getY()\ *\ m[0].getY()\ +\ m\_el[1].getY()\ *\ m[1].getY()\ +\ m\_el[2].getY()\ *\ m[2].getY(),}
\DoxyCodeLine{01079\ \ \ \ \ \ \ \ \ m\_el[0].getY()\ *\ m[0].getZ()\ +\ m\_el[1].getY()\ *\ m[1].getZ()\ +\ m\_el[2].getY()\ *\ m[2].getZ(),}
\DoxyCodeLine{01080\ \ \ \ \ \ \ \ \ m\_el[0].getZ()\ *\ m[0].getX()\ +\ m\_el[1].getZ()\ *\ m[1].getX()\ +\ m\_el[2].getZ()\ *\ m[2].getX(),}
\DoxyCodeLine{01081\ \ \ \ \ \ \ \ \ m\_el[0].getZ()\ *\ m[0].getY()\ +\ m\_el[1].getZ()\ *\ m[1].getY()\ +\ m\_el[2].getZ()\ *\ m[2].getY(),}
\DoxyCodeLine{01082\ \ \ \ \ \ \ \ \ m\_el[0].getZ()\ *\ m[0].getZ()\ +\ m\_el[1].getZ()\ *\ m[1].getZ()\ +\ m\_el[2].getZ()\ *\ m[2].getZ());}
\DoxyCodeLine{01083\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01084\ \}}
\DoxyCodeLine{01085\ }
\DoxyCodeLine{01086\ B3\_FORCE\_INLINE\ b3Matrix3x3}
\DoxyCodeLine{01087\ b3Matrix3x3::timesTranspose(\textcolor{keyword}{const}\ b3Matrix3x3\&\ m)\textcolor{keyword}{\ const}}
\DoxyCodeLine{01088\ \textcolor{keyword}{}\{}
\DoxyCodeLine{01089\ \textcolor{preprocessor}{\#if\ (defined(B3\_USE\_SSE\_IN\_API)\ \&\&\ defined(B3\_USE\_SSE))}}
\DoxyCodeLine{01090\ \ \ \ \ \_\_m128\ a0\ =\ m\_el[0].mVec128;}
\DoxyCodeLine{01091\ \ \ \ \ \_\_m128\ a1\ =\ m\_el[1].mVec128;}
\DoxyCodeLine{01092\ \ \ \ \ \_\_m128\ a2\ =\ m\_el[2].mVec128;}
\DoxyCodeLine{01093\ }
\DoxyCodeLine{01094\ \ \ \ \ b3Matrix3x3\ mT\ =\ m.transpose();\ \ \textcolor{comment}{//\ we\ rely\ on\ transpose()\ zeroing\ w\ channel\ so\ that\ we\ don't\ have\ to\ do\ it\ here}}
\DoxyCodeLine{01095\ \ \ \ \ \_\_m128\ mx\ =\ mT[0].mVec128;}
\DoxyCodeLine{01096\ \ \ \ \ \_\_m128\ my\ =\ mT[1].mVec128;}
\DoxyCodeLine{01097\ \ \ \ \ \_\_m128\ mz\ =\ mT[2].mVec128;}
\DoxyCodeLine{01098\ }
\DoxyCodeLine{01099\ \ \ \ \ \_\_m128\ r0\ =\ \_mm\_mul\_ps(mx,\ \_mm\_shuffle\_ps(a0,\ a0,\ 0x00));}
\DoxyCodeLine{01100\ \ \ \ \ \_\_m128\ r1\ =\ \_mm\_mul\_ps(mx,\ \_mm\_shuffle\_ps(a1,\ a1,\ 0x00));}
\DoxyCodeLine{01101\ \ \ \ \ \_\_m128\ r2\ =\ \_mm\_mul\_ps(mx,\ \_mm\_shuffle\_ps(a2,\ a2,\ 0x00));}
\DoxyCodeLine{01102\ \ \ \ \ r0\ =\ \_mm\_add\_ps(r0,\ \_mm\_mul\_ps(my,\ \_mm\_shuffle\_ps(a0,\ a0,\ 0x55)));}
\DoxyCodeLine{01103\ \ \ \ \ r1\ =\ \_mm\_add\_ps(r1,\ \_mm\_mul\_ps(my,\ \_mm\_shuffle\_ps(a1,\ a1,\ 0x55)));}
\DoxyCodeLine{01104\ \ \ \ \ r2\ =\ \_mm\_add\_ps(r2,\ \_mm\_mul\_ps(my,\ \_mm\_shuffle\_ps(a2,\ a2,\ 0x55)));}
\DoxyCodeLine{01105\ \ \ \ \ r0\ =\ \_mm\_add\_ps(r0,\ \_mm\_mul\_ps(mz,\ \_mm\_shuffle\_ps(a0,\ a0,\ 0xaa)));}
\DoxyCodeLine{01106\ \ \ \ \ r1\ =\ \_mm\_add\_ps(r1,\ \_mm\_mul\_ps(mz,\ \_mm\_shuffle\_ps(a1,\ a1,\ 0xaa)));}
\DoxyCodeLine{01107\ \ \ \ \ r2\ =\ \_mm\_add\_ps(r2,\ \_mm\_mul\_ps(mz,\ \_mm\_shuffle\_ps(a2,\ a2,\ 0xaa)));}
\DoxyCodeLine{01108\ \ \ \ \ \textcolor{keywordflow}{return}\ b3Matrix3x3(r0,\ r1,\ r2);}
\DoxyCodeLine{01109\ }
\DoxyCodeLine{01110\ \textcolor{preprocessor}{\#elif\ defined\ B3\_USE\_NEON}}
\DoxyCodeLine{01111\ \ \ \ \ float32x4\_t\ a0\ =\ m\_el[0].mVec128;}
\DoxyCodeLine{01112\ \ \ \ \ float32x4\_t\ a1\ =\ m\_el[1].mVec128;}
\DoxyCodeLine{01113\ \ \ \ \ float32x4\_t\ a2\ =\ m\_el[2].mVec128;}
\DoxyCodeLine{01114\ }
\DoxyCodeLine{01115\ \ \ \ \ b3Matrix3x3\ mT\ =\ m.transpose();\ \ \textcolor{comment}{//\ we\ rely\ on\ transpose()\ zeroing\ w\ channel\ so\ that\ we\ don't\ have\ to\ do\ it\ here}}
\DoxyCodeLine{01116\ \ \ \ \ float32x4\_t\ mx\ =\ mT[0].mVec128;}
\DoxyCodeLine{01117\ \ \ \ \ float32x4\_t\ my\ =\ mT[1].mVec128;}
\DoxyCodeLine{01118\ \ \ \ \ float32x4\_t\ mz\ =\ mT[2].mVec128;}
\DoxyCodeLine{01119\ }
\DoxyCodeLine{01120\ \ \ \ \ float32x4\_t\ r0\ =\ vmulq\_lane\_f32(mx,\ vget\_low\_f32(a0),\ 0);}
\DoxyCodeLine{01121\ \ \ \ \ float32x4\_t\ r1\ =\ vmulq\_lane\_f32(mx,\ vget\_low\_f32(a1),\ 0);}
\DoxyCodeLine{01122\ \ \ \ \ float32x4\_t\ r2\ =\ vmulq\_lane\_f32(mx,\ vget\_low\_f32(a2),\ 0);}
\DoxyCodeLine{01123\ \ \ \ \ r0\ =\ vmlaq\_lane\_f32(r0,\ my,\ vget\_low\_f32(a0),\ 1);}
\DoxyCodeLine{01124\ \ \ \ \ r1\ =\ vmlaq\_lane\_f32(r1,\ my,\ vget\_low\_f32(a1),\ 1);}
\DoxyCodeLine{01125\ \ \ \ \ r2\ =\ vmlaq\_lane\_f32(r2,\ my,\ vget\_low\_f32(a2),\ 1);}
\DoxyCodeLine{01126\ \ \ \ \ r0\ =\ vmlaq\_lane\_f32(r0,\ mz,\ vget\_high\_f32(a0),\ 0);}
\DoxyCodeLine{01127\ \ \ \ \ r1\ =\ vmlaq\_lane\_f32(r1,\ mz,\ vget\_high\_f32(a1),\ 0);}
\DoxyCodeLine{01128\ \ \ \ \ r2\ =\ vmlaq\_lane\_f32(r2,\ mz,\ vget\_high\_f32(a2),\ 0);}
\DoxyCodeLine{01129\ \ \ \ \ \textcolor{keywordflow}{return}\ b3Matrix3x3(r0,\ r1,\ r2);}
\DoxyCodeLine{01130\ }
\DoxyCodeLine{01131\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01132\ \ \ \ \ \textcolor{keywordflow}{return}\ b3Matrix3x3(}
\DoxyCodeLine{01133\ \ \ \ \ \ \ \ \ m\_el[0].dot(m[0]),\ m\_el[0].dot(m[1]),\ m\_el[0].dot(m[2]),}
\DoxyCodeLine{01134\ \ \ \ \ \ \ \ \ m\_el[1].dot(m[0]),\ m\_el[1].dot(m[1]),\ m\_el[1].dot(m[2]),}
\DoxyCodeLine{01135\ \ \ \ \ \ \ \ \ m\_el[2].dot(m[0]),\ m\_el[2].dot(m[1]),\ m\_el[2].dot(m[2]));}
\DoxyCodeLine{01136\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01137\ \}}
\DoxyCodeLine{01138\ }
\DoxyCodeLine{01139\ B3\_FORCE\_INLINE\ b3Vector3}
\DoxyCodeLine{01140\ operator*(\textcolor{keyword}{const}\ b3Matrix3x3\&\ m,\ \textcolor{keyword}{const}\ b3Vector3\&\ v)}
\DoxyCodeLine{01141\ \{}
\DoxyCodeLine{01142\ \textcolor{preprocessor}{\#if\ (defined(B3\_USE\_SSE\_IN\_API)\ \&\&\ defined(B3\_USE\_SSE))\ ||\ defined(B3\_USE\_NEON)}}
\DoxyCodeLine{01143\ \ \ \ \ \textcolor{keywordflow}{return}\ v.dot3(m[0],\ m[1],\ m[2]);}
\DoxyCodeLine{01144\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01145\ \ \ \ \ \textcolor{keywordflow}{return}\ b3MakeVector3(m[0].dot(v),\ m[1].dot(v),\ m[2].dot(v));}
\DoxyCodeLine{01146\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01147\ \}}
\DoxyCodeLine{01148\ }
\DoxyCodeLine{01149\ B3\_FORCE\_INLINE\ b3Vector3}
\DoxyCodeLine{01150\ operator*(\textcolor{keyword}{const}\ b3Vector3\&\ v,\ \textcolor{keyword}{const}\ b3Matrix3x3\&\ m)}
\DoxyCodeLine{01151\ \{}
\DoxyCodeLine{01152\ \textcolor{preprocessor}{\#if\ (defined(B3\_USE\_SSE\_IN\_API)\ \&\&\ defined(B3\_USE\_SSE))}}
\DoxyCodeLine{01153\ }
\DoxyCodeLine{01154\ \ \ \ \ \textcolor{keyword}{const}\ \_\_m128\ vv\ =\ v.mVec128;}
\DoxyCodeLine{01155\ }
\DoxyCodeLine{01156\ \ \ \ \ \_\_m128\ c0\ =\ b3\_splat\_ps(vv,\ 0);}
\DoxyCodeLine{01157\ \ \ \ \ \_\_m128\ c1\ =\ b3\_splat\_ps(vv,\ 1);}
\DoxyCodeLine{01158\ \ \ \ \ \_\_m128\ c2\ =\ b3\_splat\_ps(vv,\ 2);}
\DoxyCodeLine{01159\ }
\DoxyCodeLine{01160\ \ \ \ \ c0\ =\ \_mm\_mul\_ps(c0,\ \_mm\_and\_ps(m[0].mVec128,\ b3vFFF0fMask));}
\DoxyCodeLine{01161\ \ \ \ \ c1\ =\ \_mm\_mul\_ps(c1,\ \_mm\_and\_ps(m[1].mVec128,\ b3vFFF0fMask));}
\DoxyCodeLine{01162\ \ \ \ \ c0\ =\ \_mm\_add\_ps(c0,\ c1);}
\DoxyCodeLine{01163\ \ \ \ \ c2\ =\ \_mm\_mul\_ps(c2,\ \_mm\_and\_ps(m[2].mVec128,\ b3vFFF0fMask));}
\DoxyCodeLine{01164\ }
\DoxyCodeLine{01165\ \ \ \ \ \textcolor{keywordflow}{return}\ b3MakeVector3(\_mm\_add\_ps(c0,\ c2));}
\DoxyCodeLine{01166\ \textcolor{preprocessor}{\#elif\ defined(B3\_USE\_NEON)}}
\DoxyCodeLine{01167\ \ \ \ \ \textcolor{keyword}{const}\ float32x4\_t\ vv\ =\ v.mVec128;}
\DoxyCodeLine{01168\ \ \ \ \ \textcolor{keyword}{const}\ float32x2\_t\ vlo\ =\ vget\_low\_f32(vv);}
\DoxyCodeLine{01169\ \ \ \ \ \textcolor{keyword}{const}\ float32x2\_t\ vhi\ =\ vget\_high\_f32(vv);}
\DoxyCodeLine{01170\ }
\DoxyCodeLine{01171\ \ \ \ \ float32x4\_t\ c0,\ c1,\ c2;}
\DoxyCodeLine{01172\ }
\DoxyCodeLine{01173\ \ \ \ \ c0\ =\ (float32x4\_t)vandq\_s32((int32x4\_t)m[0].mVec128,\ b3vFFF0Mask);}
\DoxyCodeLine{01174\ \ \ \ \ c1\ =\ (float32x4\_t)vandq\_s32((int32x4\_t)m[1].mVec128,\ b3vFFF0Mask);}
\DoxyCodeLine{01175\ \ \ \ \ c2\ =\ (float32x4\_t)vandq\_s32((int32x4\_t)m[2].mVec128,\ b3vFFF0Mask);}
\DoxyCodeLine{01176\ }
\DoxyCodeLine{01177\ \ \ \ \ c0\ =\ vmulq\_lane\_f32(c0,\ vlo,\ 0);}
\DoxyCodeLine{01178\ \ \ \ \ c1\ =\ vmulq\_lane\_f32(c1,\ vlo,\ 1);}
\DoxyCodeLine{01179\ \ \ \ \ c2\ =\ vmulq\_lane\_f32(c2,\ vhi,\ 0);}
\DoxyCodeLine{01180\ \ \ \ \ c0\ =\ vaddq\_f32(c0,\ c1);}
\DoxyCodeLine{01181\ \ \ \ \ c0\ =\ vaddq\_f32(c0,\ c2);}
\DoxyCodeLine{01182\ }
\DoxyCodeLine{01183\ \ \ \ \ \textcolor{keywordflow}{return}\ b3MakeVector3(c0);}
\DoxyCodeLine{01184\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01185\ \ \ \ \ \textcolor{keywordflow}{return}\ b3MakeVector3(m.tdotx(v),\ m.tdoty(v),\ m.tdotz(v));}
\DoxyCodeLine{01186\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01187\ \}}
\DoxyCodeLine{01188\ }
\DoxyCodeLine{01189\ B3\_FORCE\_INLINE\ b3Matrix3x3}
\DoxyCodeLine{01190\ operator*(\textcolor{keyword}{const}\ b3Matrix3x3\&\ m1,\ \textcolor{keyword}{const}\ b3Matrix3x3\&\ m2)}
\DoxyCodeLine{01191\ \{}
\DoxyCodeLine{01192\ \textcolor{preprocessor}{\#if\ (defined(B3\_USE\_SSE\_IN\_API)\ \&\&\ defined(B3\_USE\_SSE))}}
\DoxyCodeLine{01193\ }
\DoxyCodeLine{01194\ \ \ \ \ \_\_m128\ m10\ =\ m1[0].mVec128;}
\DoxyCodeLine{01195\ \ \ \ \ \_\_m128\ m11\ =\ m1[1].mVec128;}
\DoxyCodeLine{01196\ \ \ \ \ \_\_m128\ m12\ =\ m1[2].mVec128;}
\DoxyCodeLine{01197\ }
\DoxyCodeLine{01198\ \ \ \ \ \_\_m128\ m2v\ =\ \_mm\_and\_ps(m2[0].mVec128,\ b3vFFF0fMask);}
\DoxyCodeLine{01199\ }
\DoxyCodeLine{01200\ \ \ \ \ \_\_m128\ c0\ =\ b3\_splat\_ps(m10,\ 0);}
\DoxyCodeLine{01201\ \ \ \ \ \_\_m128\ c1\ =\ b3\_splat\_ps(m11,\ 0);}
\DoxyCodeLine{01202\ \ \ \ \ \_\_m128\ c2\ =\ b3\_splat\_ps(m12,\ 0);}
\DoxyCodeLine{01203\ }
\DoxyCodeLine{01204\ \ \ \ \ c0\ =\ \_mm\_mul\_ps(c0,\ m2v);}
\DoxyCodeLine{01205\ \ \ \ \ c1\ =\ \_mm\_mul\_ps(c1,\ m2v);}
\DoxyCodeLine{01206\ \ \ \ \ c2\ =\ \_mm\_mul\_ps(c2,\ m2v);}
\DoxyCodeLine{01207\ }
\DoxyCodeLine{01208\ \ \ \ \ m2v\ =\ \_mm\_and\_ps(m2[1].mVec128,\ b3vFFF0fMask);}
\DoxyCodeLine{01209\ }
\DoxyCodeLine{01210\ \ \ \ \ \_\_m128\ c0\_1\ =\ b3\_splat\_ps(m10,\ 1);}
\DoxyCodeLine{01211\ \ \ \ \ \_\_m128\ c1\_1\ =\ b3\_splat\_ps(m11,\ 1);}
\DoxyCodeLine{01212\ \ \ \ \ \_\_m128\ c2\_1\ =\ b3\_splat\_ps(m12,\ 1);}
\DoxyCodeLine{01213\ }
\DoxyCodeLine{01214\ \ \ \ \ c0\_1\ =\ \_mm\_mul\_ps(c0\_1,\ m2v);}
\DoxyCodeLine{01215\ \ \ \ \ c1\_1\ =\ \_mm\_mul\_ps(c1\_1,\ m2v);}
\DoxyCodeLine{01216\ \ \ \ \ c2\_1\ =\ \_mm\_mul\_ps(c2\_1,\ m2v);}
\DoxyCodeLine{01217\ }
\DoxyCodeLine{01218\ \ \ \ \ m2v\ =\ \_mm\_and\_ps(m2[2].mVec128,\ b3vFFF0fMask);}
\DoxyCodeLine{01219\ }
\DoxyCodeLine{01220\ \ \ \ \ c0\ =\ \_mm\_add\_ps(c0,\ c0\_1);}
\DoxyCodeLine{01221\ \ \ \ \ c1\ =\ \_mm\_add\_ps(c1,\ c1\_1);}
\DoxyCodeLine{01222\ \ \ \ \ c2\ =\ \_mm\_add\_ps(c2,\ c2\_1);}
\DoxyCodeLine{01223\ }
\DoxyCodeLine{01224\ \ \ \ \ m10\ =\ b3\_splat\_ps(m10,\ 2);}
\DoxyCodeLine{01225\ \ \ \ \ m11\ =\ b3\_splat\_ps(m11,\ 2);}
\DoxyCodeLine{01226\ \ \ \ \ m12\ =\ b3\_splat\_ps(m12,\ 2);}
\DoxyCodeLine{01227\ }
\DoxyCodeLine{01228\ \ \ \ \ m10\ =\ \_mm\_mul\_ps(m10,\ m2v);}
\DoxyCodeLine{01229\ \ \ \ \ m11\ =\ \_mm\_mul\_ps(m11,\ m2v);}
\DoxyCodeLine{01230\ \ \ \ \ m12\ =\ \_mm\_mul\_ps(m12,\ m2v);}
\DoxyCodeLine{01231\ }
\DoxyCodeLine{01232\ \ \ \ \ c0\ =\ \_mm\_add\_ps(c0,\ m10);}
\DoxyCodeLine{01233\ \ \ \ \ c1\ =\ \_mm\_add\_ps(c1,\ m11);}
\DoxyCodeLine{01234\ \ \ \ \ c2\ =\ \_mm\_add\_ps(c2,\ m12);}
\DoxyCodeLine{01235\ }
\DoxyCodeLine{01236\ \ \ \ \ \textcolor{keywordflow}{return}\ b3Matrix3x3(c0,\ c1,\ c2);}
\DoxyCodeLine{01237\ }
\DoxyCodeLine{01238\ \textcolor{preprocessor}{\#elif\ defined(B3\_USE\_NEON)}}
\DoxyCodeLine{01239\ }
\DoxyCodeLine{01240\ \ \ \ \ float32x4\_t\ rv0,\ rv1,\ rv2;}
\DoxyCodeLine{01241\ \ \ \ \ float32x4\_t\ v0,\ v1,\ v2;}
\DoxyCodeLine{01242\ \ \ \ \ float32x4\_t\ mv0,\ mv1,\ mv2;}
\DoxyCodeLine{01243\ }
\DoxyCodeLine{01244\ \ \ \ \ v0\ =\ m1[0].mVec128;}
\DoxyCodeLine{01245\ \ \ \ \ v1\ =\ m1[1].mVec128;}
\DoxyCodeLine{01246\ \ \ \ \ v2\ =\ m1[2].mVec128;}
\DoxyCodeLine{01247\ }
\DoxyCodeLine{01248\ \ \ \ \ mv0\ =\ (float32x4\_t)vandq\_s32((int32x4\_t)m2[0].mVec128,\ b3vFFF0Mask);}
\DoxyCodeLine{01249\ \ \ \ \ mv1\ =\ (float32x4\_t)vandq\_s32((int32x4\_t)m2[1].mVec128,\ b3vFFF0Mask);}
\DoxyCodeLine{01250\ \ \ \ \ mv2\ =\ (float32x4\_t)vandq\_s32((int32x4\_t)m2[2].mVec128,\ b3vFFF0Mask);}
\DoxyCodeLine{01251\ }
\DoxyCodeLine{01252\ \ \ \ \ rv0\ =\ vmulq\_lane\_f32(mv0,\ vget\_low\_f32(v0),\ 0);}
\DoxyCodeLine{01253\ \ \ \ \ rv1\ =\ vmulq\_lane\_f32(mv0,\ vget\_low\_f32(v1),\ 0);}
\DoxyCodeLine{01254\ \ \ \ \ rv2\ =\ vmulq\_lane\_f32(mv0,\ vget\_low\_f32(v2),\ 0);}
\DoxyCodeLine{01255\ }
\DoxyCodeLine{01256\ \ \ \ \ rv0\ =\ vmlaq\_lane\_f32(rv0,\ mv1,\ vget\_low\_f32(v0),\ 1);}
\DoxyCodeLine{01257\ \ \ \ \ rv1\ =\ vmlaq\_lane\_f32(rv1,\ mv1,\ vget\_low\_f32(v1),\ 1);}
\DoxyCodeLine{01258\ \ \ \ \ rv2\ =\ vmlaq\_lane\_f32(rv2,\ mv1,\ vget\_low\_f32(v2),\ 1);}
\DoxyCodeLine{01259\ }
\DoxyCodeLine{01260\ \ \ \ \ rv0\ =\ vmlaq\_lane\_f32(rv0,\ mv2,\ vget\_high\_f32(v0),\ 0);}
\DoxyCodeLine{01261\ \ \ \ \ rv1\ =\ vmlaq\_lane\_f32(rv1,\ mv2,\ vget\_high\_f32(v1),\ 0);}
\DoxyCodeLine{01262\ \ \ \ \ rv2\ =\ vmlaq\_lane\_f32(rv2,\ mv2,\ vget\_high\_f32(v2),\ 0);}
\DoxyCodeLine{01263\ }
\DoxyCodeLine{01264\ \ \ \ \ \textcolor{keywordflow}{return}\ b3Matrix3x3(rv0,\ rv1,\ rv2);}
\DoxyCodeLine{01265\ }
\DoxyCodeLine{01266\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01267\ \ \ \ \ \textcolor{keywordflow}{return}\ b3Matrix3x3(}
\DoxyCodeLine{01268\ \ \ \ \ \ \ \ \ m2.tdotx(m1[0]),\ m2.tdoty(m1[0]),\ m2.tdotz(m1[0]),}
\DoxyCodeLine{01269\ \ \ \ \ \ \ \ \ m2.tdotx(m1[1]),\ m2.tdoty(m1[1]),\ m2.tdotz(m1[1]),}
\DoxyCodeLine{01270\ \ \ \ \ \ \ \ \ m2.tdotx(m1[2]),\ m2.tdoty(m1[2]),\ m2.tdotz(m1[2]));}
\DoxyCodeLine{01271\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01272\ \}}
\DoxyCodeLine{01273\ }
\DoxyCodeLine{01274\ \textcolor{comment}{/*}}
\DoxyCodeLine{01275\ \textcolor{comment}{B3\_FORCE\_INLINE\ b3Matrix3x3\ b3MultTransposeLeft(const\ b3Matrix3x3\&\ m1,\ const\ b3Matrix3x3\&\ m2)\ \{}}
\DoxyCodeLine{01276\ \textcolor{comment}{return\ b3Matrix3x3(}}
\DoxyCodeLine{01277\ \textcolor{comment}{m1[0][0]\ *\ m2[0][0]\ +\ m1[1][0]\ *\ m2[1][0]\ +\ m1[2][0]\ *\ m2[2][0],}}
\DoxyCodeLine{01278\ \textcolor{comment}{m1[0][0]\ *\ m2[0][1]\ +\ m1[1][0]\ *\ m2[1][1]\ +\ m1[2][0]\ *\ m2[2][1],}}
\DoxyCodeLine{01279\ \textcolor{comment}{m1[0][0]\ *\ m2[0][2]\ +\ m1[1][0]\ *\ m2[1][2]\ +\ m1[2][0]\ *\ m2[2][2],}}
\DoxyCodeLine{01280\ \textcolor{comment}{m1[0][1]\ *\ m2[0][0]\ +\ m1[1][1]\ *\ m2[1][0]\ +\ m1[2][1]\ *\ m2[2][0],}}
\DoxyCodeLine{01281\ \textcolor{comment}{m1[0][1]\ *\ m2[0][1]\ +\ m1[1][1]\ *\ m2[1][1]\ +\ m1[2][1]\ *\ m2[2][1],}}
\DoxyCodeLine{01282\ \textcolor{comment}{m1[0][1]\ *\ m2[0][2]\ +\ m1[1][1]\ *\ m2[1][2]\ +\ m1[2][1]\ *\ m2[2][2],}}
\DoxyCodeLine{01283\ \textcolor{comment}{m1[0][2]\ *\ m2[0][0]\ +\ m1[1][2]\ *\ m2[1][0]\ +\ m1[2][2]\ *\ m2[2][0],}}
\DoxyCodeLine{01284\ \textcolor{comment}{m1[0][2]\ *\ m2[0][1]\ +\ m1[1][2]\ *\ m2[1][1]\ +\ m1[2][2]\ *\ m2[2][1],}}
\DoxyCodeLine{01285\ \textcolor{comment}{m1[0][2]\ *\ m2[0][2]\ +\ m1[1][2]\ *\ m2[1][2]\ +\ m1[2][2]\ *\ m2[2][2]);}}
\DoxyCodeLine{01286\ \textcolor{comment}{\}}}
\DoxyCodeLine{01287\ \textcolor{comment}{*/}}
\DoxyCodeLine{01288\ }
\DoxyCodeLine{01291\ B3\_FORCE\_INLINE\ \textcolor{keywordtype}{bool}\ operator==(\textcolor{keyword}{const}\ b3Matrix3x3\&\ m1,\ \textcolor{keyword}{const}\ b3Matrix3x3\&\ m2)}
\DoxyCodeLine{01292\ \{}
\DoxyCodeLine{01293\ \textcolor{preprocessor}{\#if\ (defined(B3\_USE\_SSE\_IN\_API)\ \&\&\ defined(B3\_USE\_SSE))}}
\DoxyCodeLine{01294\ }
\DoxyCodeLine{01295\ \ \ \ \ \_\_m128\ c0,\ c1,\ c2;}
\DoxyCodeLine{01296\ }
\DoxyCodeLine{01297\ \ \ \ \ c0\ =\ \_mm\_cmpeq\_ps(m1[0].mVec128,\ m2[0].mVec128);}
\DoxyCodeLine{01298\ \ \ \ \ c1\ =\ \_mm\_cmpeq\_ps(m1[1].mVec128,\ m2[1].mVec128);}
\DoxyCodeLine{01299\ \ \ \ \ c2\ =\ \_mm\_cmpeq\_ps(m1[2].mVec128,\ m2[2].mVec128);}
\DoxyCodeLine{01300\ }
\DoxyCodeLine{01301\ \ \ \ \ c0\ =\ \_mm\_and\_ps(c0,\ c1);}
\DoxyCodeLine{01302\ \ \ \ \ c0\ =\ \_mm\_and\_ps(c0,\ c2);}
\DoxyCodeLine{01303\ }
\DoxyCodeLine{01304\ \ \ \ \ \textcolor{keywordflow}{return}\ (0x7\ ==\ \_mm\_movemask\_ps((\_\_m128)c0));}
\DoxyCodeLine{01305\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01306\ \ \ \ \ \textcolor{keywordflow}{return}\ (m1[0][0]\ ==\ m2[0][0]\ \&\&\ m1[1][0]\ ==\ m2[1][0]\ \&\&\ m1[2][0]\ ==\ m2[2][0]\ \&\&}
\DoxyCodeLine{01307\ \ \ \ \ \ \ \ \ \ \ \ \ m1[0][1]\ ==\ m2[0][1]\ \&\&\ m1[1][1]\ ==\ m2[1][1]\ \&\&\ m1[2][1]\ ==\ m2[2][1]\ \&\&}
\DoxyCodeLine{01308\ \ \ \ \ \ \ \ \ \ \ \ \ m1[0][2]\ ==\ m2[0][2]\ \&\&\ m1[1][2]\ ==\ m2[1][2]\ \&\&\ m1[2][2]\ ==\ m2[2][2]);}
\DoxyCodeLine{01309\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01310\ \}}
\DoxyCodeLine{01311\ }
\DoxyCodeLine{01313\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structb3_matrix3x3_float_data}{b3Matrix3x3FloatData}}}
\DoxyCodeLine{01314\ \{}
\DoxyCodeLine{01315\ \ \ \ \ \mbox{\hyperlink{structb3_vector3_float_data}{b3Vector3FloatData}}\ m\_el[3];}
\DoxyCodeLine{01316\ \};}
\DoxyCodeLine{01317\ }
\DoxyCodeLine{01319\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structb3_matrix3x3_double_data}{b3Matrix3x3DoubleData}}}
\DoxyCodeLine{01320\ \{}
\DoxyCodeLine{01321\ \ \ \ \ \mbox{\hyperlink{structb3_vector3_double_data}{b3Vector3DoubleData}}\ m\_el[3];}
\DoxyCodeLine{01322\ \};}
\DoxyCodeLine{01323\ }
\DoxyCodeLine{01324\ B3\_FORCE\_INLINE\ \textcolor{keywordtype}{void}\ b3Matrix3x3::serialize(\textcolor{keyword}{struct}\ b3Matrix3x3Data\&\ dataOut)\textcolor{keyword}{\ const}}
\DoxyCodeLine{01325\ \textcolor{keyword}{}\{}
\DoxyCodeLine{01326\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 3;\ i++)}
\DoxyCodeLine{01327\ \ \ \ \ \ \ \ \ m\_el[i].serialize(dataOut.m\_el[i]);}
\DoxyCodeLine{01328\ \}}
\DoxyCodeLine{01329\ }
\DoxyCodeLine{01330\ B3\_FORCE\_INLINE\ \textcolor{keywordtype}{void}\ b3Matrix3x3::serializeFloat(\textcolor{keyword}{struct}\ \mbox{\hyperlink{structb3_matrix3x3_float_data}{b3Matrix3x3FloatData}}\&\ dataOut)\textcolor{keyword}{\ const}}
\DoxyCodeLine{01331\ \textcolor{keyword}{}\{}
\DoxyCodeLine{01332\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 3;\ i++)}
\DoxyCodeLine{01333\ \ \ \ \ \ \ \ \ m\_el[i].serializeFloat(dataOut.m\_el[i]);}
\DoxyCodeLine{01334\ \}}
\DoxyCodeLine{01335\ }
\DoxyCodeLine{01336\ B3\_FORCE\_INLINE\ \textcolor{keywordtype}{void}\ b3Matrix3x3::deSerialize(\textcolor{keyword}{const}\ \textcolor{keyword}{struct}\ b3Matrix3x3Data\&\ dataIn)}
\DoxyCodeLine{01337\ \{}
\DoxyCodeLine{01338\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 3;\ i++)}
\DoxyCodeLine{01339\ \ \ \ \ \ \ \ \ m\_el[i].deSerialize(dataIn.m\_el[i]);}
\DoxyCodeLine{01340\ \}}
\DoxyCodeLine{01341\ }
\DoxyCodeLine{01342\ B3\_FORCE\_INLINE\ \textcolor{keywordtype}{void}\ b3Matrix3x3::deSerializeFloat(\textcolor{keyword}{const}\ \textcolor{keyword}{struct}\ \mbox{\hyperlink{structb3_matrix3x3_float_data}{b3Matrix3x3FloatData}}\&\ dataIn)}
\DoxyCodeLine{01343\ \{}
\DoxyCodeLine{01344\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 3;\ i++)}
\DoxyCodeLine{01345\ \ \ \ \ \ \ \ \ m\_el[i].deSerializeFloat(dataIn.m\_el[i]);}
\DoxyCodeLine{01346\ \}}
\DoxyCodeLine{01347\ }
\DoxyCodeLine{01348\ B3\_FORCE\_INLINE\ \textcolor{keywordtype}{void}\ b3Matrix3x3::deSerializeDouble(\textcolor{keyword}{const}\ \textcolor{keyword}{struct}\ \mbox{\hyperlink{structb3_matrix3x3_double_data}{b3Matrix3x3DoubleData}}\&\ dataIn)}
\DoxyCodeLine{01349\ \{}
\DoxyCodeLine{01350\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 3;\ i++)}
\DoxyCodeLine{01351\ \ \ \ \ \ \ \ \ m\_el[i].deSerializeDouble(dataIn.m\_el[i]);}
\DoxyCodeLine{01352\ \}}
\DoxyCodeLine{01353\ }
\DoxyCodeLine{01354\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//B3\_MATRIX3x3\_H}}

\end{DoxyCode}
