\doxysection{bt\+Matrix3x3.\+h}
\hypertarget{bt_matrix3x3_8h_source}{}\label{bt_matrix3x3_8h_source}\index{C:/Users/Usuario/Documents/pruebas-\/c/Practica Animación/libraries/bullet-\/3.17/src/LinearMath/btMatrix3x3.h@{C:/Users/Usuario/Documents/pruebas-\/c/Practica Animación/libraries/bullet-\/3.17/src/LinearMath/btMatrix3x3.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{Copyright\ (c)\ 2003-\/2006\ Gino\ van\ den\ Bergen\ /\ Erwin\ Coumans\ \ http://continuousphysics.com/Bullet/}}
\DoxyCodeLine{00003\ \textcolor{comment}{}}
\DoxyCodeLine{00004\ \textcolor{comment}{This\ software\ is\ provided\ 'as-\/is',\ without\ any\ express\ or\ implied\ warranty.}}
\DoxyCodeLine{00005\ \textcolor{comment}{In\ no\ event\ will\ the\ authors\ be\ held\ liable\ for\ any\ damages\ arising\ from\ the\ use\ of\ this\ software.}}
\DoxyCodeLine{00006\ \textcolor{comment}{Permission\ is\ granted\ to\ anyone\ to\ use\ this\ software\ for\ any\ purpose,\ }}
\DoxyCodeLine{00007\ \textcolor{comment}{including\ commercial\ applications,\ and\ to\ alter\ it\ and\ redistribute\ it\ freely,\ }}
\DoxyCodeLine{00008\ \textcolor{comment}{subject\ to\ the\ following\ restrictions:}}
\DoxyCodeLine{00009\ \textcolor{comment}{}}
\DoxyCodeLine{00010\ \textcolor{comment}{1.\ The\ origin\ of\ this\ software\ must\ not\ be\ misrepresented;\ you\ must\ not\ claim\ that\ you\ wrote\ the\ original\ software.\ If\ you\ use\ this\ software\ in\ a\ product,\ an\ acknowledgment\ in\ the\ product\ documentation\ would\ be\ appreciated\ but\ is\ not\ required.}}
\DoxyCodeLine{00011\ \textcolor{comment}{2.\ Altered\ source\ versions\ must\ be\ plainly\ marked\ as\ such,\ and\ must\ not\ be\ misrepresented\ as\ being\ the\ original\ software.}}
\DoxyCodeLine{00012\ \textcolor{comment}{3.\ This\ notice\ may\ not\ be\ removed\ or\ altered\ from\ any\ source\ distribution.}}
\DoxyCodeLine{00013\ \textcolor{comment}{*/}}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#ifndef\ BT\_MATRIX3x3\_H}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#define\ BT\_MATRIX3x3\_H}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ "{}btVector3.h"{}}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ "{}btQuaternion.h"{}}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ <stdio.h>}}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#ifdef\ BT\_USE\_SSE}}
\DoxyCodeLine{00023\ \textcolor{comment}{//const\ \_\_m128\ ATTRIBUTE\_ALIGNED16(v2220)\ =\ \{2.0f,\ 2.0f,\ 2.0f,\ 0.0f\};}}
\DoxyCodeLine{00024\ \textcolor{comment}{//const\ \_\_m128\ ATTRIBUTE\_ALIGNED16(vMPPP)\ =\ \{-\/0.0f,\ +0.0f,\ +0.0f,\ +0.0f\};}}
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#define\ vMPPP\ (\_mm\_set\_ps(+0.0f,\ +0.0f,\ +0.0f,\ -\/0.0f))}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#if\ defined(BT\_USE\_SSE)}}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#define\ v0000\ (\_mm\_set\_ps(0.0f,\ 0.0f,\ 0.0f,\ 0.0f))}}
\DoxyCodeLine{00030\ \textcolor{preprocessor}{\#define\ v1000\ (\_mm\_set\_ps(0.0f,\ 0.0f,\ 0.0f,\ 1.0f))}}
\DoxyCodeLine{00031\ \textcolor{preprocessor}{\#define\ v0100\ (\_mm\_set\_ps(0.0f,\ 0.0f,\ 1.0f,\ 0.0f))}}
\DoxyCodeLine{00032\ \textcolor{preprocessor}{\#define\ v0010\ (\_mm\_set\_ps(0.0f,\ 1.0f,\ 0.0f,\ 0.0f))}}
\DoxyCodeLine{00033\ \textcolor{preprocessor}{\#elif\ defined(BT\_USE\_NEON)}}
\DoxyCodeLine{00034\ \textcolor{keyword}{const}\ btSimdFloat4\ ATTRIBUTE\_ALIGNED16(v0000)\ =\ \{0.0f,\ 0.0f,\ 0.0f,\ 0.0f\};}
\DoxyCodeLine{00035\ \textcolor{keyword}{const}\ btSimdFloat4\ ATTRIBUTE\_ALIGNED16(v1000)\ =\ \{1.0f,\ 0.0f,\ 0.0f,\ 0.0f\};}
\DoxyCodeLine{00036\ \textcolor{keyword}{const}\ btSimdFloat4\ ATTRIBUTE\_ALIGNED16(v0100)\ =\ \{0.0f,\ 1.0f,\ 0.0f,\ 0.0f\};}
\DoxyCodeLine{00037\ \textcolor{keyword}{const}\ btSimdFloat4\ ATTRIBUTE\_ALIGNED16(v0010)\ =\ \{0.0f,\ 0.0f,\ 1.0f,\ 0.0f\};}
\DoxyCodeLine{00038\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \textcolor{preprocessor}{\#ifdef\ BT\_USE\_DOUBLE\_PRECISION}}
\DoxyCodeLine{00041\ \textcolor{preprocessor}{\#define\ btMatrix3x3Data\ btMatrix3x3DoubleData}}
\DoxyCodeLine{00042\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00043\ \textcolor{preprocessor}{\#define\ btMatrix3x3Data\ btMatrix3x3FloatData}}
\DoxyCodeLine{00044\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//BT\_USE\_DOUBLE\_PRECISION}}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00048\ ATTRIBUTE\_ALIGNED16(\textcolor{keyword}{class})}
\DoxyCodeLine{00049\ btMatrix3x3}
\DoxyCodeLine{00050\ \{}
\DoxyCodeLine{00052\ \ \ \ \ btVector3\ m\_el[3];}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00056\ \ \ \ \ btMatrix3x3()\ \{\}}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ explicit\ btMatrix3x3(const\ btScalar\ *m)\ \{\ setFromOpenGLSubMatrix(m);\ \}}}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00061\ \ \ \ \ \textcolor{keyword}{explicit}\ btMatrix3x3(\textcolor{keyword}{const}\ \mbox{\hyperlink{classbt_quaternion}{btQuaternion}}\&\ q)\ \{\ setRotation(q);\ \}}
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00063\ \textcolor{comment}{\ \ \ \ template\ <typename\ btScalar>}}
\DoxyCodeLine{00064\ \textcolor{comment}{\ \ \ \ Matrix3x3(const\ btScalar\&\ yaw,\ const\ btScalar\&\ pitch,\ const\ btScalar\&\ roll)}}
\DoxyCodeLine{00065\ \textcolor{comment}{\ \ \ \ \{\ }}
\DoxyCodeLine{00066\ \textcolor{comment}{\ \ \ \ setEulerYPR(yaw,\ pitch,\ roll);}}
\DoxyCodeLine{00067\ \textcolor{comment}{\ \ \ \ \}}}
\DoxyCodeLine{00068\ \textcolor{comment}{\ \ \ \ */}}
\DoxyCodeLine{00070\ \ \ \ \ btMatrix3x3(\textcolor{keyword}{const}\ btScalar\&\ xx,\ \textcolor{keyword}{const}\ btScalar\&\ xy,\ \textcolor{keyword}{const}\ btScalar\&\ xz,}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ btScalar\&\ yx,\ \textcolor{keyword}{const}\ btScalar\&\ yy,\ \textcolor{keyword}{const}\ btScalar\&\ yz,}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ btScalar\&\ zx,\ \textcolor{keyword}{const}\ btScalar\&\ zy,\ \textcolor{keyword}{const}\ btScalar\&\ zz)}
\DoxyCodeLine{00073\ \ \ \ \ \{}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ setValue(xx,\ xy,\ xz,}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ yx,\ yy,\ yz,}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ zx,\ zy,\ zz);}
\DoxyCodeLine{00077\ \ \ \ \ \}}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ \textcolor{preprocessor}{\#if\ (defined(BT\_USE\_SSE\_IN\_API)\ \&\&\ defined(BT\_USE\_SSE))\ ||\ defined(BT\_USE\_NEON)}}
\DoxyCodeLine{00080\ \ \ \ \ SIMD\_FORCE\_INLINE\ btMatrix3x3(\textcolor{keyword}{const}\ btSimdFloat4\ v0,\ \textcolor{keyword}{const}\ btSimdFloat4\ v1,\ \textcolor{keyword}{const}\ btSimdFloat4\ v2)}
\DoxyCodeLine{00081\ \ \ \ \ \{}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ m\_el[0].mVec128\ =\ v0;}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ m\_el[1].mVec128\ =\ v1;}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ m\_el[2].mVec128\ =\ v2;}
\DoxyCodeLine{00085\ \ \ \ \ \}}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00087\ \ \ \ \ SIMD\_FORCE\_INLINE\ btMatrix3x3(\textcolor{keyword}{const}\ btVector3\&\ v0,\ \textcolor{keyword}{const}\ btVector3\&\ v1,\ \textcolor{keyword}{const}\ btVector3\&\ v2)}
\DoxyCodeLine{00088\ \ \ \ \ \{}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ m\_el[0]\ =\ v0;}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ m\_el[1]\ =\ v1;}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ m\_el[2]\ =\ v2;}
\DoxyCodeLine{00092\ \ \ \ \ \}}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00094\ \ \ \ \ \textcolor{comment}{//\ Copy\ constructor}}
\DoxyCodeLine{00095\ \ \ \ \ SIMD\_FORCE\_INLINE\ btMatrix3x3(\textcolor{keyword}{const}\ btMatrix3x3\&\ rhs)}
\DoxyCodeLine{00096\ \ \ \ \ \{}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ m\_el[0].mVec128\ =\ rhs.m\_el[0].mVec128;}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ m\_el[1].mVec128\ =\ rhs.m\_el[1].mVec128;}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ m\_el[2].mVec128\ =\ rhs.m\_el[2].mVec128;}
\DoxyCodeLine{00100\ \ \ \ \ \}}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{comment}{//\ Assignment\ Operator}}
\DoxyCodeLine{00103\ \ \ \ \ SIMD\_FORCE\_INLINE\ btMatrix3x3\&\ operator=(\textcolor{keyword}{const}\ btMatrix3x3\&\ m)}
\DoxyCodeLine{00104\ \ \ \ \ \{}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ m\_el[0].mVec128\ =\ m.m\_el[0].mVec128;}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ m\_el[1].mVec128\ =\ m.m\_el[1].mVec128;}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ m\_el[2].mVec128\ =\ m.m\_el[2].mVec128;}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00110\ \ \ \ \ \}}
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00112\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00113\ }
\DoxyCodeLine{00115\ \ \ \ \ SIMD\_FORCE\_INLINE\ btMatrix3x3(\textcolor{keyword}{const}\ btMatrix3x3\&\ other)}
\DoxyCodeLine{00116\ \ \ \ \ \{}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ m\_el[0]\ =\ other.m\_el[0];}
\DoxyCodeLine{00118\ \ \ \ \ \ \ \ \ m\_el[1]\ =\ other.m\_el[1];}
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ m\_el[2]\ =\ other.m\_el[2];}
\DoxyCodeLine{00120\ \ \ \ \ \}}
\DoxyCodeLine{00121\ }
\DoxyCodeLine{00123\ \ \ \ \ SIMD\_FORCE\_INLINE\ btMatrix3x3\&\ operator=(\textcolor{keyword}{const}\ btMatrix3x3\&\ other)}
\DoxyCodeLine{00124\ \ \ \ \ \{}
\DoxyCodeLine{00125\ \ \ \ \ \ \ \ \ m\_el[0]\ =\ other.m\_el[0];}
\DoxyCodeLine{00126\ \ \ \ \ \ \ \ \ m\_el[1]\ =\ other.m\_el[1];}
\DoxyCodeLine{00127\ \ \ \ \ \ \ \ \ m\_el[2]\ =\ other.m\_el[2];}
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00129\ \ \ \ \ \}}
\DoxyCodeLine{00130\ \ \ \ \ }
\DoxyCodeLine{00131\ \ \ \ \ SIMD\_FORCE\_INLINE\ btMatrix3x3(\textcolor{keyword}{const}\ btVector3\&\ v0,\ \textcolor{keyword}{const}\ btVector3\&\ v1,\ \textcolor{keyword}{const}\ btVector3\&\ v2)}
\DoxyCodeLine{00132\ \ \ \ \ \{}
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ m\_el[0]\ =\ v0;}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ m\_el[1]\ =\ v1;}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ m\_el[2]\ =\ v2;}
\DoxyCodeLine{00136\ \ \ \ \ \}}
\DoxyCodeLine{00137\ }
\DoxyCodeLine{00138\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00139\ }
\DoxyCodeLine{00142\ \ \ \ \ SIMD\_FORCE\_INLINE\ btVector3\ getColumn(\textcolor{keywordtype}{int}\ i)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00143\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00144\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ btVector3(m\_el[0][i],\ m\_el[1][i],\ m\_el[2][i]);}
\DoxyCodeLine{00145\ \ \ \ \ \}}
\DoxyCodeLine{00146\ }
\DoxyCodeLine{00149\ \ \ \ \ SIMD\_FORCE\_INLINE\ \textcolor{keyword}{const}\ btVector3\&\ getRow(\textcolor{keywordtype}{int}\ i)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00150\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ btFullAssert(0\ <=\ i\ \&\&\ i\ <\ 3);}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_el[i];}
\DoxyCodeLine{00153\ \ \ \ \ \}}
\DoxyCodeLine{00154\ }
\DoxyCodeLine{00157\ \ \ \ \ SIMD\_FORCE\_INLINE\ btVector3\&\ operator[](\textcolor{keywordtype}{int}\ i)}
\DoxyCodeLine{00158\ \ \ \ \ \{}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \ \ btFullAssert(0\ <=\ i\ \&\&\ i\ <\ 3);}
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_el[i];}
\DoxyCodeLine{00161\ \ \ \ \ \}}
\DoxyCodeLine{00162\ }
\DoxyCodeLine{00165\ \ \ \ \ SIMD\_FORCE\_INLINE\ \textcolor{keyword}{const}\ btVector3\&\ operator[](\textcolor{keywordtype}{int}\ i)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00166\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ btFullAssert(0\ <=\ i\ \&\&\ i\ <\ 3);}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_el[i];}
\DoxyCodeLine{00169\ \ \ \ \ \}}
\DoxyCodeLine{00170\ }
\DoxyCodeLine{00174\ \ \ \ \ btMatrix3x3\&\ operator*=(\textcolor{keyword}{const}\ btMatrix3x3\&\ m);}
\DoxyCodeLine{00175\ }
\DoxyCodeLine{00179\ \ \ \ \ btMatrix3x3\&\ operator+=(\textcolor{keyword}{const}\ btMatrix3x3\&\ m);}
\DoxyCodeLine{00180\ }
\DoxyCodeLine{00184\ \ \ \ \ btMatrix3x3\&\ operator-\/=(\textcolor{keyword}{const}\ btMatrix3x3\&\ m);}
\DoxyCodeLine{00185\ }
\DoxyCodeLine{00188\ \ \ \ \ \textcolor{keywordtype}{void}\ setFromOpenGLSubMatrix(\textcolor{keyword}{const}\ btScalar*\ m)}
\DoxyCodeLine{00189\ \ \ \ \ \{}
\DoxyCodeLine{00190\ \ \ \ \ \ \ \ \ m\_el[0].setValue(m[0],\ m[4],\ m[8]);}
\DoxyCodeLine{00191\ \ \ \ \ \ \ \ \ m\_el[1].setValue(m[1],\ m[5],\ m[9]);}
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ m\_el[2].setValue(m[2],\ m[6],\ m[10]);}
\DoxyCodeLine{00193\ \ \ \ \ \}}
\DoxyCodeLine{00204\ \ \ \ \ \textcolor{keywordtype}{void}\ setValue(\textcolor{keyword}{const}\ btScalar\&\ xx,\ \textcolor{keyword}{const}\ btScalar\&\ xy,\ \textcolor{keyword}{const}\ btScalar\&\ xz,}
\DoxyCodeLine{00205\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ btScalar\&\ yx,\ \textcolor{keyword}{const}\ btScalar\&\ yy,\ \textcolor{keyword}{const}\ btScalar\&\ yz,}
\DoxyCodeLine{00206\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ btScalar\&\ zx,\ \textcolor{keyword}{const}\ btScalar\&\ zy,\ \textcolor{keyword}{const}\ btScalar\&\ zz)}
\DoxyCodeLine{00207\ \ \ \ \ \{}
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ m\_el[0].setValue(xx,\ xy,\ xz);}
\DoxyCodeLine{00209\ \ \ \ \ \ \ \ \ m\_el[1].setValue(yx,\ yy,\ yz);}
\DoxyCodeLine{00210\ \ \ \ \ \ \ \ \ m\_el[2].setValue(zx,\ zy,\ zz);}
\DoxyCodeLine{00211\ \ \ \ \ \}}
\DoxyCodeLine{00212\ }
\DoxyCodeLine{00215\ \ \ \ \ \textcolor{keywordtype}{void}\ setRotation(\textcolor{keyword}{const}\ \mbox{\hyperlink{classbt_quaternion}{btQuaternion}}\&\ q)}
\DoxyCodeLine{00216\ \ \ \ \ \{}
\DoxyCodeLine{00217\ \ \ \ \ \ \ \ \ btScalar\ d\ =\ q.\mbox{\hyperlink{classbt_quaternion_a9266520d0fcd21c667adf870a8a75256}{length2}}();}
\DoxyCodeLine{00218\ \ \ \ \ \ \ \ \ btFullAssert(d\ !=\ btScalar(0.0));}
\DoxyCodeLine{00219\ \ \ \ \ \ \ \ \ btScalar\ s\ =\ btScalar(2.0)\ /\ d;}
\DoxyCodeLine{00220\ }
\DoxyCodeLine{00221\ \textcolor{preprocessor}{\#if\ defined\ BT\_USE\_SIMD\_VECTOR3\ \&\&\ defined(BT\_USE\_SSE\_IN\_API)\ \&\&\ defined(BT\_USE\_SSE)}}
\DoxyCodeLine{00222\ \ \ \ \ \ \ \ \ \_\_m128\ vs,\ Q\ =\ q.get128();}
\DoxyCodeLine{00223\ \ \ \ \ \ \ \ \ \_\_m128i\ Qi\ =\ btCastfTo128i(Q);}
\DoxyCodeLine{00224\ \ \ \ \ \ \ \ \ \_\_m128\ Y,\ Z;}
\DoxyCodeLine{00225\ \ \ \ \ \ \ \ \ \_\_m128\ V1,\ V2,\ V3;}
\DoxyCodeLine{00226\ \ \ \ \ \ \ \ \ \_\_m128\ V11,\ V21,\ V31;}
\DoxyCodeLine{00227\ \ \ \ \ \ \ \ \ \_\_m128\ NQ\ =\ \_mm\_xor\_ps(Q,\ btvMzeroMask);}
\DoxyCodeLine{00228\ \ \ \ \ \ \ \ \ \_\_m128i\ NQi\ =\ btCastfTo128i(NQ);}
\DoxyCodeLine{00229\ }
\DoxyCodeLine{00230\ \ \ \ \ \ \ \ \ V1\ =\ btCastiTo128f(\_mm\_shuffle\_epi32(Qi,\ BT\_SHUFFLE(1,\ 0,\ 2,\ 3)));\ \ \textcolor{comment}{//\ Y\ X\ Z\ W}}
\DoxyCodeLine{00231\ \ \ \ \ \ \ \ \ V2\ =\ \_mm\_shuffle\_ps(NQ,\ Q,\ BT\_SHUFFLE(0,\ 0,\ 1,\ 3));\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ -\/X\ -\/X\ \ Y\ \ W}}
\DoxyCodeLine{00232\ \ \ \ \ \ \ \ \ V3\ =\ btCastiTo128f(\_mm\_shuffle\_epi32(Qi,\ BT\_SHUFFLE(2,\ 1,\ 0,\ 3)));\ \ \textcolor{comment}{//\ Z\ Y\ X\ W}}
\DoxyCodeLine{00233\ \ \ \ \ \ \ \ \ V1\ =\ \_mm\_xor\_ps(V1,\ vMPPP);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ change\ the\ sign\ of\ the\ first\ element}}
\DoxyCodeLine{00234\ }
\DoxyCodeLine{00235\ \ \ \ \ \ \ \ \ V11\ =\ btCastiTo128f(\_mm\_shuffle\_epi32(Qi,\ BT\_SHUFFLE(1,\ 1,\ 0,\ 3)));\ \ \textcolor{comment}{//\ Y\ Y\ X\ W}}
\DoxyCodeLine{00236\ \ \ \ \ \ \ \ \ V21\ =\ \_mm\_unpackhi\_ps(Q,\ Q);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ Z\ \ Z\ \ W\ \ W}}
\DoxyCodeLine{00237\ \ \ \ \ \ \ \ \ V31\ =\ \_mm\_shuffle\_ps(Q,\ NQ,\ BT\_SHUFFLE(0,\ 2,\ 0,\ 3));\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ X\ \ Z\ -\/X\ -\/W}}
\DoxyCodeLine{00238\ }
\DoxyCodeLine{00239\ \ \ \ \ \ \ \ \ V2\ =\ V2\ *\ V1;\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00240\ \ \ \ \ \ \ \ \ V1\ =\ V1\ *\ V11;\ \ \textcolor{comment}{//}}
\DoxyCodeLine{00241\ \ \ \ \ \ \ \ \ V3\ =\ V3\ *\ V31;\ \ \textcolor{comment}{//}}
\DoxyCodeLine{00242\ }
\DoxyCodeLine{00243\ \ \ \ \ \ \ \ \ V11\ =\ \_mm\_shuffle\_ps(NQ,\ Q,\ BT\_SHUFFLE(2,\ 3,\ 1,\ 3));\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ -\/Z\ -\/W\ \ Y\ \ W}}
\DoxyCodeLine{00244\ \ \ \ \ \ \ \ \ V11\ =\ V11\ *\ V21;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00245\ \ \ \ \ \ \ \ \ V21\ =\ \_mm\_xor\_ps(V21,\ vMPPP);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ change\ the\ sign\ of\ the\ first\ element}}
\DoxyCodeLine{00246\ \ \ \ \ \ \ \ \ V31\ =\ \_mm\_shuffle\_ps(Q,\ NQ,\ BT\_SHUFFLE(3,\ 3,\ 1,\ 3));\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ W\ \ W\ -\/Y\ -\/W}}
\DoxyCodeLine{00247\ \ \ \ \ \ \ \ \ V31\ =\ \_mm\_xor\_ps(V31,\ vMPPP);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ change\ the\ sign\ of\ the\ first\ element}}
\DoxyCodeLine{00248\ \ \ \ \ \ \ \ \ Y\ =\ btCastiTo128f(\_mm\_shuffle\_epi32(NQi,\ BT\_SHUFFLE(3,\ 2,\ 0,\ 3)));\ \ \textcolor{comment}{//\ -\/W\ -\/Z\ -\/X\ -\/W}}
\DoxyCodeLine{00249\ \ \ \ \ \ \ \ \ Z\ =\ btCastiTo128f(\_mm\_shuffle\_epi32(Qi,\ BT\_SHUFFLE(1,\ 0,\ 1,\ 3)));\ \ \ \textcolor{comment}{//\ \ Y\ \ X\ \ Y\ \ W}}
\DoxyCodeLine{00250\ }
\DoxyCodeLine{00251\ \ \ \ \ \ \ \ \ vs\ =\ \_mm\_load\_ss(\&s);}
\DoxyCodeLine{00252\ \ \ \ \ \ \ \ \ V21\ =\ V21\ *\ Y;}
\DoxyCodeLine{00253\ \ \ \ \ \ \ \ \ V31\ =\ V31\ *\ Z;}
\DoxyCodeLine{00254\ }
\DoxyCodeLine{00255\ \ \ \ \ \ \ \ \ V1\ =\ V1\ +\ V11;}
\DoxyCodeLine{00256\ \ \ \ \ \ \ \ \ V2\ =\ V2\ +\ V21;}
\DoxyCodeLine{00257\ \ \ \ \ \ \ \ \ V3\ =\ V3\ +\ V31;}
\DoxyCodeLine{00258\ }
\DoxyCodeLine{00259\ \ \ \ \ \ \ \ \ vs\ =\ bt\_splat3\_ps(vs,\ 0);}
\DoxyCodeLine{00260\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ s\ ready}}
\DoxyCodeLine{00261\ \ \ \ \ \ \ \ \ V1\ =\ V1\ *\ vs;}
\DoxyCodeLine{00262\ \ \ \ \ \ \ \ \ V2\ =\ V2\ *\ vs;}
\DoxyCodeLine{00263\ \ \ \ \ \ \ \ \ V3\ =\ V3\ *\ vs;}
\DoxyCodeLine{00264\ }
\DoxyCodeLine{00265\ \ \ \ \ \ \ \ \ V1\ =\ V1\ +\ v1000;}
\DoxyCodeLine{00266\ \ \ \ \ \ \ \ \ V2\ =\ V2\ +\ v0100;}
\DoxyCodeLine{00267\ \ \ \ \ \ \ \ \ V3\ =\ V3\ +\ v0010;}
\DoxyCodeLine{00268\ }
\DoxyCodeLine{00269\ \ \ \ \ \ \ \ \ m\_el[0]\ =\ V1;}
\DoxyCodeLine{00270\ \ \ \ \ \ \ \ \ m\_el[1]\ =\ V2;}
\DoxyCodeLine{00271\ \ \ \ \ \ \ \ \ m\_el[2]\ =\ V3;}
\DoxyCodeLine{00272\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00273\ \ \ \ \ \ \ \ \ btScalar\ xs\ =\ q.x()\ *\ s,\ ys\ =\ q.y()\ *\ s,\ zs\ =\ q.z()\ *\ s;}
\DoxyCodeLine{00274\ \ \ \ \ \ \ \ \ btScalar\ wx\ =\ q.w()\ *\ xs,\ wy\ =\ q.w()\ *\ ys,\ wz\ =\ q.w()\ *\ zs;}
\DoxyCodeLine{00275\ \ \ \ \ \ \ \ \ btScalar\ xx\ =\ q.x()\ *\ xs,\ xy\ =\ q.x()\ *\ ys,\ xz\ =\ q.x()\ *\ zs;}
\DoxyCodeLine{00276\ \ \ \ \ \ \ \ \ btScalar\ yy\ =\ q.y()\ *\ ys,\ yz\ =\ q.y()\ *\ zs,\ zz\ =\ q.z()\ *\ zs;}
\DoxyCodeLine{00277\ \ \ \ \ \ \ \ \ setValue(}
\DoxyCodeLine{00278\ \ \ \ \ \ \ \ \ \ \ \ \ btScalar(1.0)\ -\/\ (yy\ +\ zz),\ xy\ -\/\ wz,\ xz\ +\ wy,}
\DoxyCodeLine{00279\ \ \ \ \ \ \ \ \ \ \ \ \ xy\ +\ wz,\ btScalar(1.0)\ -\/\ (xx\ +\ zz),\ yz\ -\/\ wx,}
\DoxyCodeLine{00280\ \ \ \ \ \ \ \ \ \ \ \ \ xz\ -\/\ wy,\ yz\ +\ wx,\ btScalar(1.0)\ -\/\ (xx\ +\ yy));}
\DoxyCodeLine{00281\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00282\ \ \ \ \ \}}
\DoxyCodeLine{00283\ }
\DoxyCodeLine{00289\ \ \ \ \ \textcolor{keywordtype}{void}\ setEulerYPR(\textcolor{keyword}{const}\ btScalar\&\ yaw,\ \textcolor{keyword}{const}\ btScalar\&\ pitch,\ \textcolor{keyword}{const}\ btScalar\&\ roll)}
\DoxyCodeLine{00290\ \ \ \ \ \{}
\DoxyCodeLine{00291\ \ \ \ \ \ \ \ \ setEulerZYX(roll,\ pitch,\ yaw);}
\DoxyCodeLine{00292\ \ \ \ \ \}}
\DoxyCodeLine{00293\ }
\DoxyCodeLine{00303\ \ \ \ \ \textcolor{keywordtype}{void}\ setEulerZYX(btScalar\ eulerX,\ btScalar\ eulerY,\ btScalar\ eulerZ)}
\DoxyCodeLine{00304\ \ \ \ \ \{}
\DoxyCodeLine{00306\ \ \ \ \ \ \ \ \ btScalar\ ci(btCos(eulerX));}
\DoxyCodeLine{00307\ \ \ \ \ \ \ \ \ btScalar\ cj(btCos(eulerY));}
\DoxyCodeLine{00308\ \ \ \ \ \ \ \ \ btScalar\ ch(btCos(eulerZ));}
\DoxyCodeLine{00309\ \ \ \ \ \ \ \ \ btScalar\ si(btSin(eulerX));}
\DoxyCodeLine{00310\ \ \ \ \ \ \ \ \ btScalar\ sj(btSin(eulerY));}
\DoxyCodeLine{00311\ \ \ \ \ \ \ \ \ btScalar\ sh(btSin(eulerZ));}
\DoxyCodeLine{00312\ \ \ \ \ \ \ \ \ btScalar\ cc\ =\ ci\ *\ ch;}
\DoxyCodeLine{00313\ \ \ \ \ \ \ \ \ btScalar\ cs\ =\ ci\ *\ sh;}
\DoxyCodeLine{00314\ \ \ \ \ \ \ \ \ btScalar\ sc\ =\ si\ *\ ch;}
\DoxyCodeLine{00315\ \ \ \ \ \ \ \ \ btScalar\ ss\ =\ si\ *\ sh;}
\DoxyCodeLine{00316\ }
\DoxyCodeLine{00317\ \ \ \ \ \ \ \ \ setValue(cj\ *\ ch,\ sj\ *\ sc\ -\/\ cs,\ sj\ *\ cc\ +\ ss,}
\DoxyCodeLine{00318\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cj\ *\ sh,\ sj\ *\ ss\ +\ cc,\ sj\ *\ cs\ -\/\ sc,}
\DoxyCodeLine{00319\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ -\/sj,\ cj\ *\ si,\ cj\ *\ ci);}
\DoxyCodeLine{00320\ \ \ \ \ \}}
\DoxyCodeLine{00321\ }
\DoxyCodeLine{00323\ \ \ \ \ \textcolor{keywordtype}{void}\ setIdentity()}
\DoxyCodeLine{00324\ \ \ \ \ \{}
\DoxyCodeLine{00325\ \textcolor{preprocessor}{\#if\ (defined(BT\_USE\_SSE\_IN\_API)\ \&\&\ defined(BT\_USE\_SSE))\ ||\ defined(BT\_USE\_NEON)}}
\DoxyCodeLine{00326\ \ \ \ \ \ \ \ \ m\_el[0]\ =\ v1000;}
\DoxyCodeLine{00327\ \ \ \ \ \ \ \ \ m\_el[1]\ =\ v0100;}
\DoxyCodeLine{00328\ \ \ \ \ \ \ \ \ m\_el[2]\ =\ v0010;}
\DoxyCodeLine{00329\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00330\ \ \ \ \ \ \ \ \ setValue(btScalar(1.0),\ btScalar(0.0),\ btScalar(0.0),}
\DoxyCodeLine{00331\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ btScalar(0.0),\ btScalar(1.0),\ btScalar(0.0),}
\DoxyCodeLine{00332\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ btScalar(0.0),\ btScalar(0.0),\ btScalar(1.0));}
\DoxyCodeLine{00333\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00334\ \ \ \ \ \}}
\DoxyCodeLine{00335\ \ \ \ \ }
\DoxyCodeLine{00337\ \ \ \ \ \textcolor{keywordtype}{void}\ setZero()}
\DoxyCodeLine{00338\ \ \ \ \ \{}
\DoxyCodeLine{00339\ \textcolor{preprocessor}{\#if\ (defined(BT\_USE\_SSE\_IN\_API)\ \&\&\ defined(BT\_USE\_SSE))\ ||\ defined(BT\_USE\_NEON)}}
\DoxyCodeLine{00340\ \ \ \ \ \ \ \ \ m\_el[0]\ =\ v0000;}
\DoxyCodeLine{00341\ \ \ \ \ \ \ \ \ m\_el[1]\ =\ v0000;}
\DoxyCodeLine{00342\ \ \ \ \ \ \ \ \ m\_el[2]\ =\ v0000;}
\DoxyCodeLine{00343\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00344\ \ \ \ \ \ \ \ \ setValue(btScalar(0.0),\ btScalar(0.0),\ btScalar(0.0),}
\DoxyCodeLine{00345\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ btScalar(0.0),\ btScalar(0.0),\ btScalar(0.0),}
\DoxyCodeLine{00346\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ btScalar(0.0),\ btScalar(0.0),\ btScalar(0.0));}
\DoxyCodeLine{00347\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00348\ \ \ \ \ \}}
\DoxyCodeLine{00349\ }
\DoxyCodeLine{00350\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ btMatrix3x3\&\ getIdentity()}
\DoxyCodeLine{00351\ \ \ \ \ \{}
\DoxyCodeLine{00352\ \textcolor{preprocessor}{\#if\ (defined(BT\_USE\_SSE\_IN\_API)\ \&\&\ defined(BT\_USE\_SSE))\ ||\ defined(BT\_USE\_NEON)}}
\DoxyCodeLine{00353\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ btMatrix3x3}
\DoxyCodeLine{00354\ \ \ \ \ \ \ \ \ \ \ \ \ identityMatrix(v1000,\ v0100,\ v0010);}
\DoxyCodeLine{00355\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00356\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ btMatrix3x3}
\DoxyCodeLine{00357\ \ \ \ \ \ \ \ \ \ \ \ \ identityMatrix(}
\DoxyCodeLine{00358\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ btScalar(1.0),\ btScalar(0.0),\ btScalar(0.0),}
\DoxyCodeLine{00359\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ btScalar(0.0),\ btScalar(1.0),\ btScalar(0.0),}
\DoxyCodeLine{00360\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ btScalar(0.0),\ btScalar(0.0),\ btScalar(1.0));}
\DoxyCodeLine{00361\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00362\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ identityMatrix;}
\DoxyCodeLine{00363\ \ \ \ \ \}}
\DoxyCodeLine{00364\ }
\DoxyCodeLine{00367\ \ \ \ \ \textcolor{keywordtype}{void}\ getOpenGLSubMatrix(btScalar\ *\ m)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00368\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00369\ \textcolor{preprocessor}{\#if\ defined\ BT\_USE\_SIMD\_VECTOR3\ \&\&\ defined(BT\_USE\_SSE\_IN\_API)\ \&\&\ defined(BT\_USE\_SSE)}}
\DoxyCodeLine{00370\ \ \ \ \ \ \ \ \ \_\_m128\ v0\ =\ m\_el[0].mVec128;}
\DoxyCodeLine{00371\ \ \ \ \ \ \ \ \ \_\_m128\ v1\ =\ m\_el[1].mVec128;}
\DoxyCodeLine{00372\ \ \ \ \ \ \ \ \ \_\_m128\ v2\ =\ m\_el[2].mVec128;\ \ \textcolor{comment}{//\ \ x2\ y2\ z2\ w2}}
\DoxyCodeLine{00373\ \ \ \ \ \ \ \ \ \_\_m128*\ vm\ =\ (\_\_m128*)m;}
\DoxyCodeLine{00374\ \ \ \ \ \ \ \ \ \_\_m128\ vT;}
\DoxyCodeLine{00375\ }
\DoxyCodeLine{00376\ \ \ \ \ \ \ \ \ v2\ =\ \_mm\_and\_ps(v2,\ btvFFF0fMask);\ \ \textcolor{comment}{//\ \ x2\ y2\ z2\ 0}}
\DoxyCodeLine{00377\ }
\DoxyCodeLine{00378\ \ \ \ \ \ \ \ \ vT\ =\ \_mm\_unpackhi\_ps(v0,\ v1);\ \ \textcolor{comment}{//\ \ \ z0\ z1\ *\ *}}
\DoxyCodeLine{00379\ \ \ \ \ \ \ \ \ v0\ =\ \_mm\_unpacklo\_ps(v0,\ v1);\ \ \textcolor{comment}{//\ \ \ x0\ x1\ y0\ y1}}
\DoxyCodeLine{00380\ }
\DoxyCodeLine{00381\ \ \ \ \ \ \ \ \ v1\ =\ \_mm\_shuffle\_ps(v0,\ v2,\ BT\_SHUFFLE(2,\ 3,\ 1,\ 3));\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ y0\ y1\ y2\ 0}}
\DoxyCodeLine{00382\ \ \ \ \ \ \ \ \ v0\ =\ \_mm\_shuffle\_ps(v0,\ v2,\ BT\_SHUFFLE(0,\ 1,\ 0,\ 3));\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ x0\ x1\ x2\ 0}}
\DoxyCodeLine{00383\ \ \ \ \ \ \ \ \ v2\ =\ btCastdTo128f(\_mm\_move\_sd(btCastfTo128d(v2),\ btCastfTo128d(vT)));\ \ \textcolor{comment}{//\ z0\ z1\ z2\ 0}}
\DoxyCodeLine{00384\ }
\DoxyCodeLine{00385\ \ \ \ \ \ \ \ \ vm[0]\ =\ v0;}
\DoxyCodeLine{00386\ \ \ \ \ \ \ \ \ vm[1]\ =\ v1;}
\DoxyCodeLine{00387\ \ \ \ \ \ \ \ \ vm[2]\ =\ v2;}
\DoxyCodeLine{00388\ \textcolor{preprocessor}{\#elif\ defined(BT\_USE\_NEON)}}
\DoxyCodeLine{00389\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ note:\ zeros\ the\ w\ channel.\ We\ can\ preserve\ it\ at\ the\ cost\ of\ two\ more\ vtrn\ instructions.}}
\DoxyCodeLine{00390\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ uint32x2\_t\ zMask\ =\ (\textcolor{keyword}{const}\ uint32x2\_t)\{\textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(-\/1),\ 0\};}
\DoxyCodeLine{00391\ \ \ \ \ \ \ \ \ float32x4\_t*\ vm\ =\ (float32x4\_t*)m;}
\DoxyCodeLine{00392\ \ \ \ \ \ \ \ \ float32x4x2\_t\ top\ =\ vtrnq\_f32(m\_el[0].mVec128,\ m\_el[1].mVec128);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \{x0\ x1\ z0\ z1\},\ \{y0\ y1\ w0\ w1\}}}
\DoxyCodeLine{00393\ \ \ \ \ \ \ \ \ float32x2x2\_t\ bl\ =\ vtrn\_f32(vget\_low\_f32(m\_el[2].mVec128),\ vdup\_n\_f32(0.0f));\ \ \textcolor{comment}{//\ \{x2\ \ 0\ \},\ \{y2\ 0\}}}
\DoxyCodeLine{00394\ \ \ \ \ \ \ \ \ float32x4\_t\ v0\ =\ vcombine\_f32(vget\_low\_f32(top.val[0]),\ bl.val[0]);}
\DoxyCodeLine{00395\ \ \ \ \ \ \ \ \ float32x4\_t\ v1\ =\ vcombine\_f32(vget\_low\_f32(top.val[1]),\ bl.val[1]);}
\DoxyCodeLine{00396\ \ \ \ \ \ \ \ \ float32x2\_t\ q\ =\ (float32x2\_t)vand\_u32((uint32x2\_t)vget\_high\_f32(m\_el[2].mVec128),\ zMask);}
\DoxyCodeLine{00397\ \ \ \ \ \ \ \ \ float32x4\_t\ v2\ =\ vcombine\_f32(vget\_high\_f32(top.val[0]),\ q);\ \ \textcolor{comment}{//\ z0\ z1\ z2\ \ 0}}
\DoxyCodeLine{00398\ }
\DoxyCodeLine{00399\ \ \ \ \ \ \ \ \ vm[0]\ =\ v0;}
\DoxyCodeLine{00400\ \ \ \ \ \ \ \ \ vm[1]\ =\ v1;}
\DoxyCodeLine{00401\ \ \ \ \ \ \ \ \ vm[2]\ =\ v2;}
\DoxyCodeLine{00402\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00403\ \ \ \ \ \ \ \ \ m[0]\ =\ btScalar(m\_el[0].x());}
\DoxyCodeLine{00404\ \ \ \ \ \ \ \ \ m[1]\ =\ btScalar(m\_el[1].x());}
\DoxyCodeLine{00405\ \ \ \ \ \ \ \ \ m[2]\ =\ btScalar(m\_el[2].x());}
\DoxyCodeLine{00406\ \ \ \ \ \ \ \ \ m[3]\ =\ btScalar(0.0);}
\DoxyCodeLine{00407\ \ \ \ \ \ \ \ \ m[4]\ =\ btScalar(m\_el[0].y());}
\DoxyCodeLine{00408\ \ \ \ \ \ \ \ \ m[5]\ =\ btScalar(m\_el[1].y());}
\DoxyCodeLine{00409\ \ \ \ \ \ \ \ \ m[6]\ =\ btScalar(m\_el[2].y());}
\DoxyCodeLine{00410\ \ \ \ \ \ \ \ \ m[7]\ =\ btScalar(0.0);}
\DoxyCodeLine{00411\ \ \ \ \ \ \ \ \ m[8]\ =\ btScalar(m\_el[0].z());}
\DoxyCodeLine{00412\ \ \ \ \ \ \ \ \ m[9]\ =\ btScalar(m\_el[1].z());}
\DoxyCodeLine{00413\ \ \ \ \ \ \ \ \ m[10]\ =\ btScalar(m\_el[2].z());}
\DoxyCodeLine{00414\ \ \ \ \ \ \ \ \ m[11]\ =\ btScalar(0.0);}
\DoxyCodeLine{00415\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00416\ \ \ \ \ \}}
\DoxyCodeLine{00417\ }
\DoxyCodeLine{00420\ \ \ \ \ \textcolor{keywordtype}{void}\ getRotation(\mbox{\hyperlink{classbt_quaternion}{btQuaternion}}\ \&\ q)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00421\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00422\ \textcolor{preprocessor}{\#if\ (defined(BT\_USE\_SSE\_IN\_API)\ \&\&\ defined(BT\_USE\_SSE))\ ||\ defined(BT\_USE\_NEON)}}
\DoxyCodeLine{00423\ \ \ \ \ \ \ \ \ btScalar\ trace\ =\ m\_el[0].x()\ +\ m\_el[1].y()\ +\ m\_el[2].z();}
\DoxyCodeLine{00424\ \ \ \ \ \ \ \ \ btScalar\ s,\ x;}
\DoxyCodeLine{00425\ }
\DoxyCodeLine{00426\ \ \ \ \ \ \ \ \ \textcolor{keyword}{union\ }\{}
\DoxyCodeLine{00427\ \ \ \ \ \ \ \ \ \ \ \ \ btSimdFloat4\ vec;}
\DoxyCodeLine{00428\ \ \ \ \ \ \ \ \ \ \ \ \ btScalar\ f[4];}
\DoxyCodeLine{00429\ \ \ \ \ \ \ \ \ \}\ temp;}
\DoxyCodeLine{00430\ }
\DoxyCodeLine{00431\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (trace\ >\ btScalar(0.0))}
\DoxyCodeLine{00432\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00433\ \ \ \ \ \ \ \ \ \ \ \ \ x\ =\ trace\ +\ btScalar(1.0);}
\DoxyCodeLine{00434\ }
\DoxyCodeLine{00435\ \ \ \ \ \ \ \ \ \ \ \ \ temp.f[0]\ =\ m\_el[2].y()\ -\/\ m\_el[1].z();}
\DoxyCodeLine{00436\ \ \ \ \ \ \ \ \ \ \ \ \ temp.f[1]\ =\ m\_el[0].z()\ -\/\ m\_el[2].x();}
\DoxyCodeLine{00437\ \ \ \ \ \ \ \ \ \ \ \ \ temp.f[2]\ =\ m\_el[1].x()\ -\/\ m\_el[0].y();}
\DoxyCodeLine{00438\ \ \ \ \ \ \ \ \ \ \ \ \ temp.f[3]\ =\ x;}
\DoxyCodeLine{00439\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//temp.f[3]=\ s\ *\ btScalar(0.5);}}
\DoxyCodeLine{00440\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00441\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00442\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00443\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ i,\ j,\ k;}
\DoxyCodeLine{00444\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (m\_el[0].x()\ <\ m\_el[1].y())}
\DoxyCodeLine{00445\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00446\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (m\_el[1].y()\ <\ m\_el[2].z())}
\DoxyCodeLine{00447\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00448\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ i\ =\ 2;}
\DoxyCodeLine{00449\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ j\ =\ 0;}
\DoxyCodeLine{00450\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ k\ =\ 1;}
\DoxyCodeLine{00451\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00452\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00453\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00454\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ i\ =\ 1;}
\DoxyCodeLine{00455\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ j\ =\ 2;}
\DoxyCodeLine{00456\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ k\ =\ 0;}
\DoxyCodeLine{00457\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00458\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00459\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00460\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00461\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (m\_el[0].x()\ <\ m\_el[2].z())}
\DoxyCodeLine{00462\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00463\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ i\ =\ 2;}
\DoxyCodeLine{00464\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ j\ =\ 0;}
\DoxyCodeLine{00465\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ k\ =\ 1;}
\DoxyCodeLine{00466\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00467\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00468\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00469\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ i\ =\ 0;}
\DoxyCodeLine{00470\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ j\ =\ 1;}
\DoxyCodeLine{00471\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ k\ =\ 2;}
\DoxyCodeLine{00472\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00473\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00474\ }
\DoxyCodeLine{00475\ \ \ \ \ \ \ \ \ \ \ \ \ x\ =\ m\_el[i][i]\ -\/\ m\_el[j][j]\ -\/\ m\_el[k][k]\ +\ btScalar(1.0);}
\DoxyCodeLine{00476\ }
\DoxyCodeLine{00477\ \ \ \ \ \ \ \ \ \ \ \ \ temp.f[3]\ =\ (m\_el[k][j]\ -\/\ m\_el[j][k]);}
\DoxyCodeLine{00478\ \ \ \ \ \ \ \ \ \ \ \ \ temp.f[j]\ =\ (m\_el[j][i]\ +\ m\_el[i][j]);}
\DoxyCodeLine{00479\ \ \ \ \ \ \ \ \ \ \ \ \ temp.f[k]\ =\ (m\_el[k][i]\ +\ m\_el[i][k]);}
\DoxyCodeLine{00480\ \ \ \ \ \ \ \ \ \ \ \ \ temp.f[i]\ =\ x;}
\DoxyCodeLine{00481\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//temp.f[i]\ =\ s\ *\ btScalar(0.5);}}
\DoxyCodeLine{00482\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00483\ }
\DoxyCodeLine{00484\ \ \ \ \ \ \ \ \ s\ =\ btSqrt(x);}
\DoxyCodeLine{00485\ \ \ \ \ \ \ \ \ q.set128(temp.vec);}
\DoxyCodeLine{00486\ \ \ \ \ \ \ \ \ s\ =\ btScalar(0.5)\ /\ s;}
\DoxyCodeLine{00487\ }
\DoxyCodeLine{00488\ \ \ \ \ \ \ \ \ q\ *=\ s;}
\DoxyCodeLine{00489\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00490\ \ \ \ \ \ \ \ \ btScalar\ trace\ =\ m\_el[0].x()\ +\ m\_el[1].y()\ +\ m\_el[2].z();}
\DoxyCodeLine{00491\ }
\DoxyCodeLine{00492\ \ \ \ \ \ \ \ \ btScalar\ temp[4];}
\DoxyCodeLine{00493\ }
\DoxyCodeLine{00494\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (trace\ >\ btScalar(0.0))}
\DoxyCodeLine{00495\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00496\ \ \ \ \ \ \ \ \ \ \ \ \ btScalar\ s\ =\ btSqrt(trace\ +\ btScalar(1.0));}
\DoxyCodeLine{00497\ \ \ \ \ \ \ \ \ \ \ \ \ temp[3]\ =\ (s\ *\ btScalar(0.5));}
\DoxyCodeLine{00498\ \ \ \ \ \ \ \ \ \ \ \ \ s\ =\ btScalar(0.5)\ /\ s;}
\DoxyCodeLine{00499\ }
\DoxyCodeLine{00500\ \ \ \ \ \ \ \ \ \ \ \ \ temp[0]\ =\ ((m\_el[2].y()\ -\/\ m\_el[1].z())\ *\ s);}
\DoxyCodeLine{00501\ \ \ \ \ \ \ \ \ \ \ \ \ temp[1]\ =\ ((m\_el[0].z()\ -\/\ m\_el[2].x())\ *\ s);}
\DoxyCodeLine{00502\ \ \ \ \ \ \ \ \ \ \ \ \ temp[2]\ =\ ((m\_el[1].x()\ -\/\ m\_el[0].y())\ *\ s);}
\DoxyCodeLine{00503\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00504\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00505\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00506\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ i\ =\ m\_el[0].x()\ <\ m\_el[1].y()\ ?\ (m\_el[1].y()\ <\ m\_el[2].z()\ ?\ 2\ :\ 1)\ :\ (m\_el[0].x()\ <\ m\_el[2].z()\ ?\ 2\ :\ 0);}
\DoxyCodeLine{00507\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ j\ =\ (i\ +\ 1)\ \%\ 3;}
\DoxyCodeLine{00508\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ k\ =\ (i\ +\ 2)\ \%\ 3;}
\DoxyCodeLine{00509\ }
\DoxyCodeLine{00510\ \ \ \ \ \ \ \ \ \ \ \ \ btScalar\ s\ =\ btSqrt(m\_el[i][i]\ -\/\ m\_el[j][j]\ -\/\ m\_el[k][k]\ +\ btScalar(1.0));}
\DoxyCodeLine{00511\ \ \ \ \ \ \ \ \ \ \ \ \ temp[i]\ =\ s\ *\ btScalar(0.5);}
\DoxyCodeLine{00512\ \ \ \ \ \ \ \ \ \ \ \ \ s\ =\ btScalar(0.5)\ /\ s;}
\DoxyCodeLine{00513\ }
\DoxyCodeLine{00514\ \ \ \ \ \ \ \ \ \ \ \ \ temp[3]\ =\ (m\_el[k][j]\ -\/\ m\_el[j][k])\ *\ s;}
\DoxyCodeLine{00515\ \ \ \ \ \ \ \ \ \ \ \ \ temp[j]\ =\ (m\_el[j][i]\ +\ m\_el[i][j])\ *\ s;}
\DoxyCodeLine{00516\ \ \ \ \ \ \ \ \ \ \ \ \ temp[k]\ =\ (m\_el[k][i]\ +\ m\_el[i][k])\ *\ s;}
\DoxyCodeLine{00517\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00518\ \ \ \ \ \ \ \ \ q.setValue(temp[0],\ temp[1],\ temp[2],\ temp[3]);}
\DoxyCodeLine{00519\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00520\ \ \ \ \ \}}
\DoxyCodeLine{00521\ }
\DoxyCodeLine{00526\ \ \ \ \ \textcolor{keywordtype}{void}\ getEulerYPR(btScalar\ \&\ yaw,\ btScalar\ \&\ pitch,\ btScalar\ \&\ roll)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00527\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00528\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ first\ use\ the\ normal\ calculus}}
\DoxyCodeLine{00529\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__gtc__quaternion_ga8da38cdfdc452dafa660c2f46506bad5}{yaw}}\ =\ btScalar(btAtan2(m\_el[1].x(),\ m\_el[0].x()));}
\DoxyCodeLine{00530\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__gtc__quaternion_ga7603e81477b46ddb448896909bc04928}{pitch}}\ =\ btScalar(btAsin(-\/m\_el[2].x()));}
\DoxyCodeLine{00531\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__gtc__quaternion_ga0cc5ad970d0b00829b139fe0fe5a1e13}{roll}}\ =\ btScalar(btAtan2(m\_el[2].y(),\ m\_el[2].z()));}
\DoxyCodeLine{00532\ }
\DoxyCodeLine{00533\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ on\ pitch\ =\ +/-\/HalfPI}}
\DoxyCodeLine{00534\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (btFabs(pitch)\ ==\ SIMD\_HALF\_PI)}
\DoxyCodeLine{00535\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00536\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (yaw\ >\ 0)}
\DoxyCodeLine{00537\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__gtc__quaternion_ga8da38cdfdc452dafa660c2f46506bad5}{yaw}}\ -\/=\ SIMD\_PI;}
\DoxyCodeLine{00538\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00539\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__gtc__quaternion_ga8da38cdfdc452dafa660c2f46506bad5}{yaw}}\ +=\ SIMD\_PI;}
\DoxyCodeLine{00540\ }
\DoxyCodeLine{00541\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (roll\ >\ 0)}
\DoxyCodeLine{00542\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__gtc__quaternion_ga0cc5ad970d0b00829b139fe0fe5a1e13}{roll}}\ -\/=\ SIMD\_PI;}
\DoxyCodeLine{00543\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00544\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__gtc__quaternion_ga0cc5ad970d0b00829b139fe0fe5a1e13}{roll}}\ +=\ SIMD\_PI;}
\DoxyCodeLine{00545\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00546\ \ \ \ \ \};}
\DoxyCodeLine{00547\ }
\DoxyCodeLine{00553\ \ \ \ \ \textcolor{keywordtype}{void}\ getEulerZYX(btScalar\ \&\ yaw,\ btScalar\ \&\ pitch,\ btScalar\ \&\ roll,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ solution\_number\ =\ 1)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00554\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00555\ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }Euler}
\DoxyCodeLine{00556\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00557\ \ \ \ \ \ \ \ \ \ \ \ \ btScalar\ \mbox{\hyperlink{group__gtc__quaternion_ga8da38cdfdc452dafa660c2f46506bad5}{yaw}};}
\DoxyCodeLine{00558\ \ \ \ \ \ \ \ \ \ \ \ \ btScalar\ \mbox{\hyperlink{group__gtc__quaternion_ga7603e81477b46ddb448896909bc04928}{pitch}};}
\DoxyCodeLine{00559\ \ \ \ \ \ \ \ \ \ \ \ \ btScalar\ \mbox{\hyperlink{group__gtc__quaternion_ga0cc5ad970d0b00829b139fe0fe5a1e13}{roll}};}
\DoxyCodeLine{00560\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00561\ }
\DoxyCodeLine{00562\ \ \ \ \ \ \ \ \ Euler\ euler\_out;}
\DoxyCodeLine{00563\ \ \ \ \ \ \ \ \ Euler\ euler\_out2;\ \ \textcolor{comment}{//second\ solution}}
\DoxyCodeLine{00564\ \ \ \ \ \ \ \ \ \textcolor{comment}{//get\ the\ pointer\ to\ the\ raw\ data}}
\DoxyCodeLine{00565\ }
\DoxyCodeLine{00566\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Check\ that\ pitch\ is\ not\ at\ a\ singularity}}
\DoxyCodeLine{00567\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (btFabs(m\_el[2].x())\ >=\ 1)}
\DoxyCodeLine{00568\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00569\ \ \ \ \ \ \ \ \ \ \ \ \ euler\_out.yaw\ =\ 0;}
\DoxyCodeLine{00570\ \ \ \ \ \ \ \ \ \ \ \ \ euler\_out2.yaw\ =\ 0;}
\DoxyCodeLine{00571\ }
\DoxyCodeLine{00572\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ From\ difference\ of\ angles\ formula}}
\DoxyCodeLine{00573\ \ \ \ \ \ \ \ \ \ \ \ \ btScalar\ delta\ =\ btAtan2(m\_el[0].x(),\ m\_el[0].z());}
\DoxyCodeLine{00574\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (m\_el[2].x()\ >\ 0)\ \ \textcolor{comment}{//gimbal\ locked\ up}}
\DoxyCodeLine{00575\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00576\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ euler\_out.pitch\ =\ SIMD\_PI\ /\ btScalar(2.0);}
\DoxyCodeLine{00577\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ euler\_out2.pitch\ =\ SIMD\_PI\ /\ btScalar(2.0);}
\DoxyCodeLine{00578\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ euler\_out.roll\ =\ euler\_out.pitch\ +\ delta;}
\DoxyCodeLine{00579\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ euler\_out2.roll\ =\ euler\_out.pitch\ +\ delta;}
\DoxyCodeLine{00580\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00581\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \ \textcolor{comment}{//\ gimbal\ locked\ down}}
\DoxyCodeLine{00582\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00583\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ euler\_out.pitch\ =\ -\/SIMD\_PI\ /\ btScalar(2.0);}
\DoxyCodeLine{00584\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ euler\_out2.pitch\ =\ -\/SIMD\_PI\ /\ btScalar(2.0);}
\DoxyCodeLine{00585\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ euler\_out.roll\ =\ -\/euler\_out.pitch\ +\ delta;}
\DoxyCodeLine{00586\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ euler\_out2.roll\ =\ -\/euler\_out.pitch\ +\ delta;}
\DoxyCodeLine{00587\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00588\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00589\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00590\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00591\ \ \ \ \ \ \ \ \ \ \ \ \ euler\_out.pitch\ =\ -\/btAsin(m\_el[2].x());}
\DoxyCodeLine{00592\ \ \ \ \ \ \ \ \ \ \ \ \ euler\_out2.pitch\ =\ SIMD\_PI\ -\/\ euler\_out.pitch;}
\DoxyCodeLine{00593\ }
\DoxyCodeLine{00594\ \ \ \ \ \ \ \ \ \ \ \ \ euler\_out.roll\ =\ btAtan2(m\_el[2].y()\ /\ btCos(euler\_out.pitch),}
\DoxyCodeLine{00595\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m\_el[2].z()\ /\ btCos(euler\_out.pitch));}
\DoxyCodeLine{00596\ \ \ \ \ \ \ \ \ \ \ \ \ euler\_out2.roll\ =\ btAtan2(m\_el[2].y()\ /\ btCos(euler\_out2.pitch),}
\DoxyCodeLine{00597\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m\_el[2].z()\ /\ btCos(euler\_out2.pitch));}
\DoxyCodeLine{00598\ }
\DoxyCodeLine{00599\ \ \ \ \ \ \ \ \ \ \ \ \ euler\_out.yaw\ =\ btAtan2(m\_el[1].x()\ /\ btCos(euler\_out.pitch),}
\DoxyCodeLine{00600\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m\_el[0].x()\ /\ btCos(euler\_out.pitch));}
\DoxyCodeLine{00601\ \ \ \ \ \ \ \ \ \ \ \ \ euler\_out2.yaw\ =\ btAtan2(m\_el[1].x()\ /\ btCos(euler\_out2.pitch),}
\DoxyCodeLine{00602\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m\_el[0].x()\ /\ btCos(euler\_out2.pitch));}
\DoxyCodeLine{00603\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00604\ }
\DoxyCodeLine{00605\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (solution\_number\ ==\ 1)}
\DoxyCodeLine{00606\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00607\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__gtc__quaternion_ga8da38cdfdc452dafa660c2f46506bad5}{yaw}}\ =\ euler\_out.yaw;}
\DoxyCodeLine{00608\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__gtc__quaternion_ga7603e81477b46ddb448896909bc04928}{pitch}}\ =\ euler\_out.pitch;}
\DoxyCodeLine{00609\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__gtc__quaternion_ga0cc5ad970d0b00829b139fe0fe5a1e13}{roll}}\ =\ euler\_out.roll;}
\DoxyCodeLine{00610\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00611\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00612\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00613\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__gtc__quaternion_ga8da38cdfdc452dafa660c2f46506bad5}{yaw}}\ =\ euler\_out2.yaw;}
\DoxyCodeLine{00614\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__gtc__quaternion_ga7603e81477b46ddb448896909bc04928}{pitch}}\ =\ euler\_out2.pitch;}
\DoxyCodeLine{00615\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__gtc__quaternion_ga0cc5ad970d0b00829b139fe0fe5a1e13}{roll}}\ =\ euler\_out2.roll;}
\DoxyCodeLine{00616\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00617\ \ \ \ \ \}}
\DoxyCodeLine{00618\ }
\DoxyCodeLine{00622\ \ \ \ \ btMatrix3x3\ scaled(\textcolor{keyword}{const}\ btVector3\&\ s)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00623\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00624\ \textcolor{preprocessor}{\#if\ (defined(BT\_USE\_SSE\_IN\_API)\ \&\&\ defined(BT\_USE\_SSE))\ ||\ defined(BT\_USE\_NEON)}}
\DoxyCodeLine{00625\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ btMatrix3x3(m\_el[0]\ *\ s,\ m\_el[1]\ *\ s,\ m\_el[2]\ *\ s);}
\DoxyCodeLine{00626\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00627\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ btMatrix3x3(}
\DoxyCodeLine{00628\ \ \ \ \ \ \ \ \ \ \ \ \ m\_el[0].x()\ *\ s.x(),\ m\_el[0].y()\ *\ s.y(),\ m\_el[0].z()\ *\ s.z(),}
\DoxyCodeLine{00629\ \ \ \ \ \ \ \ \ \ \ \ \ m\_el[1].x()\ *\ s.x(),\ m\_el[1].y()\ *\ s.y(),\ m\_el[1].z()\ *\ s.z(),}
\DoxyCodeLine{00630\ \ \ \ \ \ \ \ \ \ \ \ \ m\_el[2].x()\ *\ s.x(),\ m\_el[2].y()\ *\ s.y(),\ m\_el[2].z()\ *\ s.z());}
\DoxyCodeLine{00631\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00632\ \ \ \ \ \}}
\DoxyCodeLine{00633\ }
\DoxyCodeLine{00635\ \ \ \ \ btScalar\ determinant()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00637\ \ \ \ \ btMatrix3x3\ adjoint()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00639\ \ \ \ \ btMatrix3x3\ absolute()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00641\ \ \ \ \ btMatrix3x3\ transpose()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00643\ \ \ \ \ btMatrix3x3\ inverse()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00644\ }
\DoxyCodeLine{00648\ \ \ \ \ btVector3\ solve33(\textcolor{keyword}{const}\ btVector3\&\ b)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00649\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00650\ \ \ \ \ \ \ \ \ btVector3\ col1\ =\ getColumn(0);}
\DoxyCodeLine{00651\ \ \ \ \ \ \ \ \ btVector3\ col2\ =\ getColumn(1);}
\DoxyCodeLine{00652\ \ \ \ \ \ \ \ \ btVector3\ col3\ =\ getColumn(2);}
\DoxyCodeLine{00653\ }
\DoxyCodeLine{00654\ \ \ \ \ \ \ \ \ btScalar\ det\ =\ btDot(col1,\ btCross(col2,\ col3));}
\DoxyCodeLine{00655\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (btFabs(det)\ >\ SIMD\_EPSILON)}
\DoxyCodeLine{00656\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00657\ \ \ \ \ \ \ \ \ \ \ \ \ det\ =\ 1.0f\ /\ det;}
\DoxyCodeLine{00658\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00659\ \ \ \ \ \ \ \ \ btVector3\ x;}
\DoxyCodeLine{00660\ \ \ \ \ \ \ \ \ x[0]\ =\ det\ *\ btDot(b,\ btCross(col2,\ col3));}
\DoxyCodeLine{00661\ \ \ \ \ \ \ \ \ x[1]\ =\ det\ *\ btDot(col1,\ btCross(b,\ col3));}
\DoxyCodeLine{00662\ \ \ \ \ \ \ \ \ x[2]\ =\ det\ *\ btDot(col1,\ btCross(col2,\ b));}
\DoxyCodeLine{00663\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ x;}
\DoxyCodeLine{00664\ \ \ \ \ \}}
\DoxyCodeLine{00665\ }
\DoxyCodeLine{00666\ \ \ \ \ btMatrix3x3\ transposeTimes(\textcolor{keyword}{const}\ btMatrix3x3\&\ m)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00667\ \ \ \ \ btMatrix3x3\ timesTranspose(\textcolor{keyword}{const}\ btMatrix3x3\&\ m)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00668\ }
\DoxyCodeLine{00669\ \ \ \ \ SIMD\_FORCE\_INLINE\ btScalar\ tdotx(\textcolor{keyword}{const}\ btVector3\&\ v)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00670\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00671\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_el[0].x()\ *\ v.x()\ +\ m\_el[1].x()\ *\ v.y()\ +\ m\_el[2].x()\ *\ v.z();}
\DoxyCodeLine{00672\ \ \ \ \ \}}
\DoxyCodeLine{00673\ \ \ \ \ SIMD\_FORCE\_INLINE\ btScalar\ tdoty(\textcolor{keyword}{const}\ btVector3\&\ v)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00674\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00675\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_el[0].y()\ *\ v.x()\ +\ m\_el[1].y()\ *\ v.y()\ +\ m\_el[2].y()\ *\ v.z();}
\DoxyCodeLine{00676\ \ \ \ \ \}}
\DoxyCodeLine{00677\ \ \ \ \ SIMD\_FORCE\_INLINE\ btScalar\ tdotz(\textcolor{keyword}{const}\ btVector3\&\ v)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00678\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00679\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_el[0].z()\ *\ v.x()\ +\ m\_el[1].z()\ *\ v.y()\ +\ m\_el[2].z()\ *\ v.z();}
\DoxyCodeLine{00680\ \ \ \ \ \}}
\DoxyCodeLine{00681\ }
\DoxyCodeLine{00688\ \ \ \ \ SIMD\_FORCE\_INLINE\ \textcolor{keywordtype}{void}\ extractRotation(\mbox{\hyperlink{classbt_quaternion}{btQuaternion}}\ \&\ q,\ btScalar\ tolerance\ =\ 1.0e-\/9,\ \textcolor{keywordtype}{int}\ maxIter\ =\ 100)}
\DoxyCodeLine{00689\ \ \ \ \ \{}
\DoxyCodeLine{00690\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ iter\ =\ 0;}
\DoxyCodeLine{00691\ \ \ \ \ \ \ \ \ btScalar\ w;}
\DoxyCodeLine{00692\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ btMatrix3x3\&\ A\ =\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00693\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (iter\ =\ 0;\ iter\ <\ maxIter;\ iter++)}
\DoxyCodeLine{00694\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00695\ \ \ \ \ \ \ \ \ \ \ \ \ btMatrix3x3\ R(q);}
\DoxyCodeLine{00696\ \ \ \ \ \ \ \ \ \ \ \ \ btVector3\ omega\ =\ (R.getColumn(0).cross(A.getColumn(0))\ +\ R.getColumn(1).cross(A.getColumn(1))\ +\ R.getColumn(2).cross(A.getColumn(2)))\ *\ (btScalar(1.0)\ /\ btFabs(R.getColumn(0).dot(A.getColumn(0))\ +\ R.getColumn(1).dot(A.getColumn(1))\ +\ R.getColumn(2).dot(A.getColumn(2)))\ +}
\DoxyCodeLine{00697\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ tolerance);}
\DoxyCodeLine{00698\ \ \ \ \ \ \ \ \ \ \ \ \ w\ =\ omega.norm();}
\DoxyCodeLine{00699\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (w\ <\ tolerance)}
\DoxyCodeLine{00700\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00701\ \ \ \ \ \ \ \ \ \ \ \ \ q\ =\ \mbox{\hyperlink{classbt_quaternion}{btQuaternion}}(btVector3((btScalar(1.0)\ /\ w)\ *\ omega),\ w)\ *}
\DoxyCodeLine{00702\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ q;}
\DoxyCodeLine{00703\ \ \ \ \ \ \ \ \ \ \ \ \ q.\mbox{\hyperlink{classbt_quaternion_aec4020fbd28a795df834621ef75e5364}{normalize}}();}
\DoxyCodeLine{00704\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00705\ \ \ \ \ \}}
\DoxyCodeLine{00706\ }
\DoxyCodeLine{00716\ \ \ \ \ \textcolor{keywordtype}{void}\ diagonalize(btMatrix3x3\ \&\ rot,\ btScalar\ threshold,\ \textcolor{keywordtype}{int}\ maxSteps)}
\DoxyCodeLine{00717\ \ \ \ \ \{}
\DoxyCodeLine{00718\ \ \ \ \ \ \ \ \ rot.setIdentity();}
\DoxyCodeLine{00719\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ step\ =\ maxSteps;\ \mbox{\hyperlink{group__core__func__common_ga015a1261ff23e12650211aa872863cce}{step}}\ >\ 0;\ \mbox{\hyperlink{group__core__func__common_ga015a1261ff23e12650211aa872863cce}{step}}-\/-\/)}
\DoxyCodeLine{00720\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00721\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ find\ off-\/diagonal\ element\ [p][q]\ with\ largest\ magnitude}}
\DoxyCodeLine{00722\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ p\ =\ 0;}
\DoxyCodeLine{00723\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ q\ =\ 1;}
\DoxyCodeLine{00724\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ r\ =\ 2;}
\DoxyCodeLine{00725\ \ \ \ \ \ \ \ \ \ \ \ \ btScalar\ max\ =\ btFabs(m\_el[0][1]);}
\DoxyCodeLine{00726\ \ \ \ \ \ \ \ \ \ \ \ \ btScalar\ v\ =\ btFabs(m\_el[0][2]);}
\DoxyCodeLine{00727\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (v\ >\ max)}
\DoxyCodeLine{00728\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00729\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ q\ =\ 2;}
\DoxyCodeLine{00730\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ r\ =\ 1;}
\DoxyCodeLine{00731\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ max\ =\ v;}
\DoxyCodeLine{00732\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00733\ \ \ \ \ \ \ \ \ \ \ \ \ v\ =\ btFabs(m\_el[1][2]);}
\DoxyCodeLine{00734\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (v\ >\ max)}
\DoxyCodeLine{00735\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00736\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ p\ =\ 1;}
\DoxyCodeLine{00737\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ q\ =\ 2;}
\DoxyCodeLine{00738\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ r\ =\ 0;}
\DoxyCodeLine{00739\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ max\ =\ v;}
\DoxyCodeLine{00740\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00741\ }
\DoxyCodeLine{00742\ \ \ \ \ \ \ \ \ \ \ \ \ btScalar\ t\ =\ threshold\ *\ (btFabs(m\_el[0][0])\ +\ btFabs(m\_el[1][1])\ +\ btFabs(m\_el[2][2]));}
\DoxyCodeLine{00743\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (max\ <=\ t)}
\DoxyCodeLine{00744\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00745\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (max\ <=\ SIMD\_EPSILON\ *\ t)}
\DoxyCodeLine{00746\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00747\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00748\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00749\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__core__func__common_ga015a1261ff23e12650211aa872863cce}{step}}\ =\ 1;}
\DoxyCodeLine{00750\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00751\ }
\DoxyCodeLine{00752\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ compute\ Jacobi\ rotation\ J\ which\ leads\ to\ a\ zero\ for\ element\ [p][q]}}
\DoxyCodeLine{00753\ \ \ \ \ \ \ \ \ \ \ \ \ btScalar\ mpq\ =\ m\_el[p][q];}
\DoxyCodeLine{00754\ \ \ \ \ \ \ \ \ \ \ \ \ btScalar\ theta\ =\ (m\_el[q][q]\ -\/\ m\_el[p][p])\ /\ (2\ *\ mpq);}
\DoxyCodeLine{00755\ \ \ \ \ \ \ \ \ \ \ \ \ btScalar\ theta2\ =\ theta\ *\ theta;}
\DoxyCodeLine{00756\ \ \ \ \ \ \ \ \ \ \ \ \ btScalar\ cos;}
\DoxyCodeLine{00757\ \ \ \ \ \ \ \ \ \ \ \ \ btScalar\ \mbox{\hyperlink{group__core__func__trigonometric_ga3fcdcfa2d2ac38de9ba1885cd1c79414}{sin}};}
\DoxyCodeLine{00758\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (theta2\ *\ theta2\ <\ btScalar(10\ /\ SIMD\_EPSILON))}
\DoxyCodeLine{00759\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00760\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ t\ =\ (theta\ >=\ 0)\ ?\ 1\ /\ (theta\ +\ btSqrt(1\ +\ theta2))}
\DoxyCodeLine{00761\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ 1\ /\ (theta\ -\/\ btSqrt(1\ +\ theta2));}
\DoxyCodeLine{00762\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cos\ =\ 1\ /\ btSqrt(1\ +\ t\ *\ t);}
\DoxyCodeLine{00763\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__core__func__trigonometric_ga3fcdcfa2d2ac38de9ba1885cd1c79414}{sin}}\ =\ cos\ *\ t;}
\DoxyCodeLine{00764\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00765\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00766\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00767\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ approximation\ for\ large\ theta-\/value,\ i.e.,\ a\ nearly\ diagonal\ matrix}}
\DoxyCodeLine{00768\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ t\ =\ 1\ /\ (theta\ *\ (2\ +\ btScalar(0.5)\ /\ theta2));}
\DoxyCodeLine{00769\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cos\ =\ 1\ -\/\ btScalar(0.5)\ *\ t\ *\ t;}
\DoxyCodeLine{00770\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__core__func__trigonometric_ga3fcdcfa2d2ac38de9ba1885cd1c79414}{sin}}\ =\ cos\ *\ t;}
\DoxyCodeLine{00771\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00772\ }
\DoxyCodeLine{00773\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ apply\ rotation\ to\ matrix\ (this\ =\ J\string^T\ *\ this\ *\ J)}}
\DoxyCodeLine{00774\ \ \ \ \ \ \ \ \ \ \ \ \ m\_el[p][q]\ =\ m\_el[q][p]\ =\ 0;}
\DoxyCodeLine{00775\ \ \ \ \ \ \ \ \ \ \ \ \ m\_el[p][p]\ -\/=\ t\ *\ mpq;}
\DoxyCodeLine{00776\ \ \ \ \ \ \ \ \ \ \ \ \ m\_el[q][q]\ +=\ t\ *\ mpq;}
\DoxyCodeLine{00777\ \ \ \ \ \ \ \ \ \ \ \ \ btScalar\ mrp\ =\ m\_el[r][p];}
\DoxyCodeLine{00778\ \ \ \ \ \ \ \ \ \ \ \ \ btScalar\ mrq\ =\ m\_el[r][q];}
\DoxyCodeLine{00779\ \ \ \ \ \ \ \ \ \ \ \ \ m\_el[r][p]\ =\ m\_el[p][r]\ =\ cos\ *\ mrp\ -\/\ \mbox{\hyperlink{group__core__func__trigonometric_ga3fcdcfa2d2ac38de9ba1885cd1c79414}{sin}}\ *\ mrq;}
\DoxyCodeLine{00780\ \ \ \ \ \ \ \ \ \ \ \ \ m\_el[r][q]\ =\ m\_el[q][r]\ =\ cos\ *\ mrq\ +\ \mbox{\hyperlink{group__core__func__trigonometric_ga3fcdcfa2d2ac38de9ba1885cd1c79414}{sin}}\ *\ mrp;}
\DoxyCodeLine{00781\ }
\DoxyCodeLine{00782\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ apply\ rotation\ to\ rot\ (rot\ =\ rot\ *\ J)}}
\DoxyCodeLine{00783\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 3;\ i++)}
\DoxyCodeLine{00784\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00785\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ btVector3\&\ \mbox{\hyperlink{group__gtc__matrix__access_ga259e5ebd0f31ec3f83440f8cae7f5dba}{row}}\ =\ rot[i];}
\DoxyCodeLine{00786\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mrp\ =\ \mbox{\hyperlink{group__gtc__matrix__access_ga259e5ebd0f31ec3f83440f8cae7f5dba}{row}}[p];}
\DoxyCodeLine{00787\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mrq\ =\ \mbox{\hyperlink{group__gtc__matrix__access_ga259e5ebd0f31ec3f83440f8cae7f5dba}{row}}[q];}
\DoxyCodeLine{00788\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__gtc__matrix__access_ga259e5ebd0f31ec3f83440f8cae7f5dba}{row}}[p]\ =\ cos\ *\ mrp\ -\/\ \mbox{\hyperlink{group__core__func__trigonometric_ga3fcdcfa2d2ac38de9ba1885cd1c79414}{sin}}\ *\ mrq;}
\DoxyCodeLine{00789\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__gtc__matrix__access_ga259e5ebd0f31ec3f83440f8cae7f5dba}{row}}[q]\ =\ cos\ *\ mrq\ +\ \mbox{\hyperlink{group__core__func__trigonometric_ga3fcdcfa2d2ac38de9ba1885cd1c79414}{sin}}\ *\ mrp;}
\DoxyCodeLine{00790\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00791\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00792\ \ \ \ \ \}}
\DoxyCodeLine{00793\ }
\DoxyCodeLine{00801\ \ \ \ \ btScalar\ cofac(\textcolor{keywordtype}{int}\ r1,\ \textcolor{keywordtype}{int}\ c1,\ \textcolor{keywordtype}{int}\ r2,\ \textcolor{keywordtype}{int}\ c2)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00802\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00803\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_el[r1][c1]\ *\ m\_el[r2][c2]\ -\/\ m\_el[r1][c2]\ *\ m\_el[r2][c1];}
\DoxyCodeLine{00804\ \ \ \ \ \}}
\DoxyCodeLine{00805\ }
\DoxyCodeLine{00806\ \ \ \ \ \textcolor{keywordtype}{void}\ serialize(\textcolor{keyword}{struct}\ btMatrix3x3Data\ \&\ dataOut)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00807\ }
\DoxyCodeLine{00808\ \ \ \ \ \textcolor{keywordtype}{void}\ serializeFloat(\textcolor{keyword}{struct}\ \mbox{\hyperlink{structbt_matrix3x3_float_data}{btMatrix3x3FloatData}}\ \&\ dataOut)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00809\ }
\DoxyCodeLine{00810\ \ \ \ \ \textcolor{keywordtype}{void}\ deSerialize(\textcolor{keyword}{const}\ \textcolor{keyword}{struct}\ btMatrix3x3Data\&\ dataIn);}
\DoxyCodeLine{00811\ }
\DoxyCodeLine{00812\ \ \ \ \ \textcolor{keywordtype}{void}\ deSerializeFloat(\textcolor{keyword}{const}\ \textcolor{keyword}{struct}\ \mbox{\hyperlink{structbt_matrix3x3_float_data}{btMatrix3x3FloatData}}\&\ dataIn);}
\DoxyCodeLine{00813\ }
\DoxyCodeLine{00814\ \ \ \ \ \textcolor{keywordtype}{void}\ deSerializeDouble(\textcolor{keyword}{const}\ \textcolor{keyword}{struct}\ \mbox{\hyperlink{structbt_matrix3x3_double_data}{btMatrix3x3DoubleData}}\&\ dataIn);}
\DoxyCodeLine{00815\ \};}
\DoxyCodeLine{00816\ }
\DoxyCodeLine{00817\ SIMD\_FORCE\_INLINE\ btMatrix3x3\&}
\DoxyCodeLine{00818\ btMatrix3x3::operator*=(\textcolor{keyword}{const}\ btMatrix3x3\&\ m)}
\DoxyCodeLine{00819\ \{}
\DoxyCodeLine{00820\ \textcolor{preprocessor}{\#if\ defined\ BT\_USE\_SIMD\_VECTOR3\ \&\&\ defined(BT\_USE\_SSE\_IN\_API)\ \&\&\ defined(BT\_USE\_SSE)}}
\DoxyCodeLine{00821\ \ \ \ \ \_\_m128\ rv00,\ rv01,\ rv02;}
\DoxyCodeLine{00822\ \ \ \ \ \_\_m128\ rv10,\ rv11,\ rv12;}
\DoxyCodeLine{00823\ \ \ \ \ \_\_m128\ rv20,\ rv21,\ rv22;}
\DoxyCodeLine{00824\ \ \ \ \ \_\_m128\ mv0,\ mv1,\ mv2;}
\DoxyCodeLine{00825\ }
\DoxyCodeLine{00826\ \ \ \ \ rv02\ =\ m\_el[0].mVec128;}
\DoxyCodeLine{00827\ \ \ \ \ rv12\ =\ m\_el[1].mVec128;}
\DoxyCodeLine{00828\ \ \ \ \ rv22\ =\ m\_el[2].mVec128;}
\DoxyCodeLine{00829\ }
\DoxyCodeLine{00830\ \ \ \ \ mv0\ =\ \_mm\_and\_ps(m[0].mVec128,\ btvFFF0fMask);}
\DoxyCodeLine{00831\ \ \ \ \ mv1\ =\ \_mm\_and\_ps(m[1].mVec128,\ btvFFF0fMask);}
\DoxyCodeLine{00832\ \ \ \ \ mv2\ =\ \_mm\_and\_ps(m[2].mVec128,\ btvFFF0fMask);}
\DoxyCodeLine{00833\ }
\DoxyCodeLine{00834\ \ \ \ \ \textcolor{comment}{//\ rv0}}
\DoxyCodeLine{00835\ \ \ \ \ rv00\ =\ bt\_splat\_ps(rv02,\ 0);}
\DoxyCodeLine{00836\ \ \ \ \ rv01\ =\ bt\_splat\_ps(rv02,\ 1);}
\DoxyCodeLine{00837\ \ \ \ \ rv02\ =\ bt\_splat\_ps(rv02,\ 2);}
\DoxyCodeLine{00838\ }
\DoxyCodeLine{00839\ \ \ \ \ rv00\ =\ \_mm\_mul\_ps(rv00,\ mv0);}
\DoxyCodeLine{00840\ \ \ \ \ rv01\ =\ \_mm\_mul\_ps(rv01,\ mv1);}
\DoxyCodeLine{00841\ \ \ \ \ rv02\ =\ \_mm\_mul\_ps(rv02,\ mv2);}
\DoxyCodeLine{00842\ }
\DoxyCodeLine{00843\ \ \ \ \ \textcolor{comment}{//\ rv1}}
\DoxyCodeLine{00844\ \ \ \ \ rv10\ =\ bt\_splat\_ps(rv12,\ 0);}
\DoxyCodeLine{00845\ \ \ \ \ rv11\ =\ bt\_splat\_ps(rv12,\ 1);}
\DoxyCodeLine{00846\ \ \ \ \ rv12\ =\ bt\_splat\_ps(rv12,\ 2);}
\DoxyCodeLine{00847\ }
\DoxyCodeLine{00848\ \ \ \ \ rv10\ =\ \_mm\_mul\_ps(rv10,\ mv0);}
\DoxyCodeLine{00849\ \ \ \ \ rv11\ =\ \_mm\_mul\_ps(rv11,\ mv1);}
\DoxyCodeLine{00850\ \ \ \ \ rv12\ =\ \_mm\_mul\_ps(rv12,\ mv2);}
\DoxyCodeLine{00851\ }
\DoxyCodeLine{00852\ \ \ \ \ \textcolor{comment}{//\ rv2}}
\DoxyCodeLine{00853\ \ \ \ \ rv20\ =\ bt\_splat\_ps(rv22,\ 0);}
\DoxyCodeLine{00854\ \ \ \ \ rv21\ =\ bt\_splat\_ps(rv22,\ 1);}
\DoxyCodeLine{00855\ \ \ \ \ rv22\ =\ bt\_splat\_ps(rv22,\ 2);}
\DoxyCodeLine{00856\ }
\DoxyCodeLine{00857\ \ \ \ \ rv20\ =\ \_mm\_mul\_ps(rv20,\ mv0);}
\DoxyCodeLine{00858\ \ \ \ \ rv21\ =\ \_mm\_mul\_ps(rv21,\ mv1);}
\DoxyCodeLine{00859\ \ \ \ \ rv22\ =\ \_mm\_mul\_ps(rv22,\ mv2);}
\DoxyCodeLine{00860\ }
\DoxyCodeLine{00861\ \ \ \ \ rv00\ =\ \_mm\_add\_ps(rv00,\ rv01);}
\DoxyCodeLine{00862\ \ \ \ \ rv10\ =\ \_mm\_add\_ps(rv10,\ rv11);}
\DoxyCodeLine{00863\ \ \ \ \ rv20\ =\ \_mm\_add\_ps(rv20,\ rv21);}
\DoxyCodeLine{00864\ }
\DoxyCodeLine{00865\ \ \ \ \ m\_el[0].mVec128\ =\ \_mm\_add\_ps(rv00,\ rv02);}
\DoxyCodeLine{00866\ \ \ \ \ m\_el[1].mVec128\ =\ \_mm\_add\_ps(rv10,\ rv12);}
\DoxyCodeLine{00867\ \ \ \ \ m\_el[2].mVec128\ =\ \_mm\_add\_ps(rv20,\ rv22);}
\DoxyCodeLine{00868\ }
\DoxyCodeLine{00869\ \textcolor{preprocessor}{\#elif\ defined(BT\_USE\_NEON)}}
\DoxyCodeLine{00870\ }
\DoxyCodeLine{00871\ \ \ \ \ float32x4\_t\ rv0,\ rv1,\ rv2;}
\DoxyCodeLine{00872\ \ \ \ \ float32x4\_t\ v0,\ v1,\ v2;}
\DoxyCodeLine{00873\ \ \ \ \ float32x4\_t\ mv0,\ mv1,\ mv2;}
\DoxyCodeLine{00874\ }
\DoxyCodeLine{00875\ \ \ \ \ v0\ =\ m\_el[0].mVec128;}
\DoxyCodeLine{00876\ \ \ \ \ v1\ =\ m\_el[1].mVec128;}
\DoxyCodeLine{00877\ \ \ \ \ v2\ =\ m\_el[2].mVec128;}
\DoxyCodeLine{00878\ }
\DoxyCodeLine{00879\ \ \ \ \ mv0\ =\ (float32x4\_t)vandq\_s32((int32x4\_t)m[0].mVec128,\ btvFFF0Mask);}
\DoxyCodeLine{00880\ \ \ \ \ mv1\ =\ (float32x4\_t)vandq\_s32((int32x4\_t)m[1].mVec128,\ btvFFF0Mask);}
\DoxyCodeLine{00881\ \ \ \ \ mv2\ =\ (float32x4\_t)vandq\_s32((int32x4\_t)m[2].mVec128,\ btvFFF0Mask);}
\DoxyCodeLine{00882\ }
\DoxyCodeLine{00883\ \ \ \ \ rv0\ =\ vmulq\_lane\_f32(mv0,\ vget\_low\_f32(v0),\ 0);}
\DoxyCodeLine{00884\ \ \ \ \ rv1\ =\ vmulq\_lane\_f32(mv0,\ vget\_low\_f32(v1),\ 0);}
\DoxyCodeLine{00885\ \ \ \ \ rv2\ =\ vmulq\_lane\_f32(mv0,\ vget\_low\_f32(v2),\ 0);}
\DoxyCodeLine{00886\ }
\DoxyCodeLine{00887\ \ \ \ \ rv0\ =\ vmlaq\_lane\_f32(rv0,\ mv1,\ vget\_low\_f32(v0),\ 1);}
\DoxyCodeLine{00888\ \ \ \ \ rv1\ =\ vmlaq\_lane\_f32(rv1,\ mv1,\ vget\_low\_f32(v1),\ 1);}
\DoxyCodeLine{00889\ \ \ \ \ rv2\ =\ vmlaq\_lane\_f32(rv2,\ mv1,\ vget\_low\_f32(v2),\ 1);}
\DoxyCodeLine{00890\ }
\DoxyCodeLine{00891\ \ \ \ \ rv0\ =\ vmlaq\_lane\_f32(rv0,\ mv2,\ vget\_high\_f32(v0),\ 0);}
\DoxyCodeLine{00892\ \ \ \ \ rv1\ =\ vmlaq\_lane\_f32(rv1,\ mv2,\ vget\_high\_f32(v1),\ 0);}
\DoxyCodeLine{00893\ \ \ \ \ rv2\ =\ vmlaq\_lane\_f32(rv2,\ mv2,\ vget\_high\_f32(v2),\ 0);}
\DoxyCodeLine{00894\ }
\DoxyCodeLine{00895\ \ \ \ \ m\_el[0].mVec128\ =\ rv0;}
\DoxyCodeLine{00896\ \ \ \ \ m\_el[1].mVec128\ =\ rv1;}
\DoxyCodeLine{00897\ \ \ \ \ m\_el[2].mVec128\ =\ rv2;}
\DoxyCodeLine{00898\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00899\ \ \ \ \ setValue(}
\DoxyCodeLine{00900\ \ \ \ \ \ \ \ \ m.tdotx(m\_el[0]),\ m.tdoty(m\_el[0]),\ m.tdotz(m\_el[0]),}
\DoxyCodeLine{00901\ \ \ \ \ \ \ \ \ m.tdotx(m\_el[1]),\ m.tdoty(m\_el[1]),\ m.tdotz(m\_el[1]),}
\DoxyCodeLine{00902\ \ \ \ \ \ \ \ \ m.tdotx(m\_el[2]),\ m.tdoty(m\_el[2]),\ m.tdotz(m\_el[2]));}
\DoxyCodeLine{00903\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00904\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00905\ \}}
\DoxyCodeLine{00906\ }
\DoxyCodeLine{00907\ SIMD\_FORCE\_INLINE\ btMatrix3x3\&}
\DoxyCodeLine{00908\ btMatrix3x3::operator+=(\textcolor{keyword}{const}\ btMatrix3x3\&\ m)}
\DoxyCodeLine{00909\ \{}
\DoxyCodeLine{00910\ \textcolor{preprocessor}{\#if\ (defined(BT\_USE\_SSE\_IN\_API)\ \&\&\ defined(BT\_USE\_SSE))\ ||\ defined(BT\_USE\_NEON)}}
\DoxyCodeLine{00911\ \ \ \ \ m\_el[0].mVec128\ =\ m\_el[0].mVec128\ +\ m.m\_el[0].mVec128;}
\DoxyCodeLine{00912\ \ \ \ \ m\_el[1].mVec128\ =\ m\_el[1].mVec128\ +\ m.m\_el[1].mVec128;}
\DoxyCodeLine{00913\ \ \ \ \ m\_el[2].mVec128\ =\ m\_el[2].mVec128\ +\ m.m\_el[2].mVec128;}
\DoxyCodeLine{00914\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00915\ \ \ \ \ setValue(}
\DoxyCodeLine{00916\ \ \ \ \ \ \ \ \ m\_el[0][0]\ +\ m.m\_el[0][0],}
\DoxyCodeLine{00917\ \ \ \ \ \ \ \ \ m\_el[0][1]\ +\ m.m\_el[0][1],}
\DoxyCodeLine{00918\ \ \ \ \ \ \ \ \ m\_el[0][2]\ +\ m.m\_el[0][2],}
\DoxyCodeLine{00919\ \ \ \ \ \ \ \ \ m\_el[1][0]\ +\ m.m\_el[1][0],}
\DoxyCodeLine{00920\ \ \ \ \ \ \ \ \ m\_el[1][1]\ +\ m.m\_el[1][1],}
\DoxyCodeLine{00921\ \ \ \ \ \ \ \ \ m\_el[1][2]\ +\ m.m\_el[1][2],}
\DoxyCodeLine{00922\ \ \ \ \ \ \ \ \ m\_el[2][0]\ +\ m.m\_el[2][0],}
\DoxyCodeLine{00923\ \ \ \ \ \ \ \ \ m\_el[2][1]\ +\ m.m\_el[2][1],}
\DoxyCodeLine{00924\ \ \ \ \ \ \ \ \ m\_el[2][2]\ +\ m.m\_el[2][2]);}
\DoxyCodeLine{00925\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00926\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00927\ \}}
\DoxyCodeLine{00928\ }
\DoxyCodeLine{00929\ SIMD\_FORCE\_INLINE\ btMatrix3x3}
\DoxyCodeLine{00930\ operator*(\textcolor{keyword}{const}\ btMatrix3x3\&\ m,\ \textcolor{keyword}{const}\ btScalar\&\ k)}
\DoxyCodeLine{00931\ \{}
\DoxyCodeLine{00932\ \textcolor{preprocessor}{\#if\ (defined(BT\_USE\_SSE\_IN\_API)\ \&\&\ defined(BT\_USE\_SSE))}}
\DoxyCodeLine{00933\ \ \ \ \ \_\_m128\ vk\ =\ bt\_splat\_ps(\_mm\_load\_ss((\textcolor{keywordtype}{float}*)\&k),\ 0x80);}
\DoxyCodeLine{00934\ \ \ \ \ \textcolor{keywordflow}{return}\ btMatrix3x3(}
\DoxyCodeLine{00935\ \ \ \ \ \ \ \ \ \_mm\_mul\_ps(m[0].mVec128,\ vk),}
\DoxyCodeLine{00936\ \ \ \ \ \ \ \ \ \_mm\_mul\_ps(m[1].mVec128,\ vk),}
\DoxyCodeLine{00937\ \ \ \ \ \ \ \ \ \_mm\_mul\_ps(m[2].mVec128,\ vk));}
\DoxyCodeLine{00938\ \textcolor{preprocessor}{\#elif\ defined(BT\_USE\_NEON)}}
\DoxyCodeLine{00939\ \ \ \ \ \textcolor{keywordflow}{return}\ btMatrix3x3(}
\DoxyCodeLine{00940\ \ \ \ \ \ \ \ \ vmulq\_n\_f32(m[0].mVec128,\ k),}
\DoxyCodeLine{00941\ \ \ \ \ \ \ \ \ vmulq\_n\_f32(m[1].mVec128,\ k),}
\DoxyCodeLine{00942\ \ \ \ \ \ \ \ \ vmulq\_n\_f32(m[2].mVec128,\ k));}
\DoxyCodeLine{00943\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00944\ \ \ \ \ \textcolor{keywordflow}{return}\ btMatrix3x3(}
\DoxyCodeLine{00945\ \ \ \ \ \ \ \ \ m[0].x()\ *\ k,\ m[0].y()\ *\ k,\ m[0].z()\ *\ k,}
\DoxyCodeLine{00946\ \ \ \ \ \ \ \ \ m[1].x()\ *\ k,\ m[1].y()\ *\ k,\ m[1].z()\ *\ k,}
\DoxyCodeLine{00947\ \ \ \ \ \ \ \ \ m[2].x()\ *\ k,\ m[2].y()\ *\ k,\ m[2].z()\ *\ k);}
\DoxyCodeLine{00948\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00949\ \}}
\DoxyCodeLine{00950\ }
\DoxyCodeLine{00951\ SIMD\_FORCE\_INLINE\ btMatrix3x3}
\DoxyCodeLine{00952\ operator+(\textcolor{keyword}{const}\ btMatrix3x3\&\ m1,\ \textcolor{keyword}{const}\ btMatrix3x3\&\ m2)}
\DoxyCodeLine{00953\ \{}
\DoxyCodeLine{00954\ \textcolor{preprocessor}{\#if\ (defined(BT\_USE\_SSE\_IN\_API)\ \&\&\ defined(BT\_USE\_SSE))\ ||\ defined(BT\_USE\_NEON)}}
\DoxyCodeLine{00955\ \ \ \ \ \textcolor{keywordflow}{return}\ btMatrix3x3(}
\DoxyCodeLine{00956\ \ \ \ \ \ \ \ \ m1[0].mVec128\ +\ m2[0].mVec128,}
\DoxyCodeLine{00957\ \ \ \ \ \ \ \ \ m1[1].mVec128\ +\ m2[1].mVec128,}
\DoxyCodeLine{00958\ \ \ \ \ \ \ \ \ m1[2].mVec128\ +\ m2[2].mVec128);}
\DoxyCodeLine{00959\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00960\ \ \ \ \ \textcolor{keywordflow}{return}\ btMatrix3x3(}
\DoxyCodeLine{00961\ \ \ \ \ \ \ \ \ m1[0][0]\ +\ m2[0][0],}
\DoxyCodeLine{00962\ \ \ \ \ \ \ \ \ m1[0][1]\ +\ m2[0][1],}
\DoxyCodeLine{00963\ \ \ \ \ \ \ \ \ m1[0][2]\ +\ m2[0][2],}
\DoxyCodeLine{00964\ }
\DoxyCodeLine{00965\ \ \ \ \ \ \ \ \ m1[1][0]\ +\ m2[1][0],}
\DoxyCodeLine{00966\ \ \ \ \ \ \ \ \ m1[1][1]\ +\ m2[1][1],}
\DoxyCodeLine{00967\ \ \ \ \ \ \ \ \ m1[1][2]\ +\ m2[1][2],}
\DoxyCodeLine{00968\ }
\DoxyCodeLine{00969\ \ \ \ \ \ \ \ \ m1[2][0]\ +\ m2[2][0],}
\DoxyCodeLine{00970\ \ \ \ \ \ \ \ \ m1[2][1]\ +\ m2[2][1],}
\DoxyCodeLine{00971\ \ \ \ \ \ \ \ \ m1[2][2]\ +\ m2[2][2]);}
\DoxyCodeLine{00972\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00973\ \}}
\DoxyCodeLine{00974\ }
\DoxyCodeLine{00975\ SIMD\_FORCE\_INLINE\ btMatrix3x3}
\DoxyCodeLine{00976\ operator-\/(\textcolor{keyword}{const}\ btMatrix3x3\&\ m1,\ \textcolor{keyword}{const}\ btMatrix3x3\&\ m2)}
\DoxyCodeLine{00977\ \{}
\DoxyCodeLine{00978\ \textcolor{preprocessor}{\#if\ (defined(BT\_USE\_SSE\_IN\_API)\ \&\&\ defined(BT\_USE\_SSE))\ ||\ defined(BT\_USE\_NEON)}}
\DoxyCodeLine{00979\ \ \ \ \ \textcolor{keywordflow}{return}\ btMatrix3x3(}
\DoxyCodeLine{00980\ \ \ \ \ \ \ \ \ m1[0].mVec128\ -\/\ m2[0].mVec128,}
\DoxyCodeLine{00981\ \ \ \ \ \ \ \ \ m1[1].mVec128\ -\/\ m2[1].mVec128,}
\DoxyCodeLine{00982\ \ \ \ \ \ \ \ \ m1[2].mVec128\ -\/\ m2[2].mVec128);}
\DoxyCodeLine{00983\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00984\ \ \ \ \ \textcolor{keywordflow}{return}\ btMatrix3x3(}
\DoxyCodeLine{00985\ \ \ \ \ \ \ \ \ m1[0][0]\ -\/\ m2[0][0],}
\DoxyCodeLine{00986\ \ \ \ \ \ \ \ \ m1[0][1]\ -\/\ m2[0][1],}
\DoxyCodeLine{00987\ \ \ \ \ \ \ \ \ m1[0][2]\ -\/\ m2[0][2],}
\DoxyCodeLine{00988\ }
\DoxyCodeLine{00989\ \ \ \ \ \ \ \ \ m1[1][0]\ -\/\ m2[1][0],}
\DoxyCodeLine{00990\ \ \ \ \ \ \ \ \ m1[1][1]\ -\/\ m2[1][1],}
\DoxyCodeLine{00991\ \ \ \ \ \ \ \ \ m1[1][2]\ -\/\ m2[1][2],}
\DoxyCodeLine{00992\ }
\DoxyCodeLine{00993\ \ \ \ \ \ \ \ \ m1[2][0]\ -\/\ m2[2][0],}
\DoxyCodeLine{00994\ \ \ \ \ \ \ \ \ m1[2][1]\ -\/\ m2[2][1],}
\DoxyCodeLine{00995\ \ \ \ \ \ \ \ \ m1[2][2]\ -\/\ m2[2][2]);}
\DoxyCodeLine{00996\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00997\ \}}
\DoxyCodeLine{00998\ }
\DoxyCodeLine{00999\ SIMD\_FORCE\_INLINE\ btMatrix3x3\&}
\DoxyCodeLine{01000\ btMatrix3x3::operator-\/=(\textcolor{keyword}{const}\ btMatrix3x3\&\ m)}
\DoxyCodeLine{01001\ \{}
\DoxyCodeLine{01002\ \textcolor{preprocessor}{\#if\ (defined(BT\_USE\_SSE\_IN\_API)\ \&\&\ defined(BT\_USE\_SSE))\ ||\ defined(BT\_USE\_NEON)}}
\DoxyCodeLine{01003\ \ \ \ \ m\_el[0].mVec128\ =\ m\_el[0].mVec128\ -\/\ m.m\_el[0].mVec128;}
\DoxyCodeLine{01004\ \ \ \ \ m\_el[1].mVec128\ =\ m\_el[1].mVec128\ -\/\ m.m\_el[1].mVec128;}
\DoxyCodeLine{01005\ \ \ \ \ m\_el[2].mVec128\ =\ m\_el[2].mVec128\ -\/\ m.m\_el[2].mVec128;}
\DoxyCodeLine{01006\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01007\ \ \ \ \ setValue(}
\DoxyCodeLine{01008\ \ \ \ \ \ \ \ \ m\_el[0][0]\ -\/\ m.m\_el[0][0],}
\DoxyCodeLine{01009\ \ \ \ \ \ \ \ \ m\_el[0][1]\ -\/\ m.m\_el[0][1],}
\DoxyCodeLine{01010\ \ \ \ \ \ \ \ \ m\_el[0][2]\ -\/\ m.m\_el[0][2],}
\DoxyCodeLine{01011\ \ \ \ \ \ \ \ \ m\_el[1][0]\ -\/\ m.m\_el[1][0],}
\DoxyCodeLine{01012\ \ \ \ \ \ \ \ \ m\_el[1][1]\ -\/\ m.m\_el[1][1],}
\DoxyCodeLine{01013\ \ \ \ \ \ \ \ \ m\_el[1][2]\ -\/\ m.m\_el[1][2],}
\DoxyCodeLine{01014\ \ \ \ \ \ \ \ \ m\_el[2][0]\ -\/\ m.m\_el[2][0],}
\DoxyCodeLine{01015\ \ \ \ \ \ \ \ \ m\_el[2][1]\ -\/\ m.m\_el[2][1],}
\DoxyCodeLine{01016\ \ \ \ \ \ \ \ \ m\_el[2][2]\ -\/\ m.m\_el[2][2]);}
\DoxyCodeLine{01017\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01018\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{01019\ \}}
\DoxyCodeLine{01020\ }
\DoxyCodeLine{01021\ SIMD\_FORCE\_INLINE\ btScalar}
\DoxyCodeLine{01022\ btMatrix3x3::determinant()\textcolor{keyword}{\ const}}
\DoxyCodeLine{01023\ \textcolor{keyword}{}\{}
\DoxyCodeLine{01024\ \ \ \ \ \textcolor{keywordflow}{return}\ btTriple((*\textcolor{keyword}{this})[0],\ (*\textcolor{keyword}{this})[1],\ (*\textcolor{keyword}{this})[2]);}
\DoxyCodeLine{01025\ \}}
\DoxyCodeLine{01026\ }
\DoxyCodeLine{01027\ SIMD\_FORCE\_INLINE\ btMatrix3x3}
\DoxyCodeLine{01028\ btMatrix3x3::absolute()\textcolor{keyword}{\ const}}
\DoxyCodeLine{01029\ \textcolor{keyword}{}\{}
\DoxyCodeLine{01030\ \textcolor{preprocessor}{\#if\ defined\ BT\_USE\_SIMD\_VECTOR3\ \&\&\ (defined(BT\_USE\_SSE\_IN\_API)\ \&\&\ defined(BT\_USE\_SSE))}}
\DoxyCodeLine{01031\ \ \ \ \ \textcolor{keywordflow}{return}\ btMatrix3x3(}
\DoxyCodeLine{01032\ \ \ \ \ \ \ \ \ \_mm\_and\_ps(m\_el[0].mVec128,\ btvAbsfMask),}
\DoxyCodeLine{01033\ \ \ \ \ \ \ \ \ \_mm\_and\_ps(m\_el[1].mVec128,\ btvAbsfMask),}
\DoxyCodeLine{01034\ \ \ \ \ \ \ \ \ \_mm\_and\_ps(m\_el[2].mVec128,\ btvAbsfMask));}
\DoxyCodeLine{01035\ \textcolor{preprocessor}{\#elif\ defined(BT\_USE\_NEON)}}
\DoxyCodeLine{01036\ \ \ \ \ \textcolor{keywordflow}{return}\ btMatrix3x3(}
\DoxyCodeLine{01037\ \ \ \ \ \ \ \ \ (float32x4\_t)vandq\_s32((int32x4\_t)m\_el[0].mVec128,\ btv3AbsMask),}
\DoxyCodeLine{01038\ \ \ \ \ \ \ \ \ (float32x4\_t)vandq\_s32((int32x4\_t)m\_el[1].mVec128,\ btv3AbsMask),}
\DoxyCodeLine{01039\ \ \ \ \ \ \ \ \ (float32x4\_t)vandq\_s32((int32x4\_t)m\_el[2].mVec128,\ btv3AbsMask));}
\DoxyCodeLine{01040\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01041\ \ \ \ \ \textcolor{keywordflow}{return}\ btMatrix3x3(}
\DoxyCodeLine{01042\ \ \ \ \ \ \ \ \ btFabs(m\_el[0].x()),\ btFabs(m\_el[0].y()),\ btFabs(m\_el[0].z()),}
\DoxyCodeLine{01043\ \ \ \ \ \ \ \ \ btFabs(m\_el[1].x()),\ btFabs(m\_el[1].y()),\ btFabs(m\_el[1].z()),}
\DoxyCodeLine{01044\ \ \ \ \ \ \ \ \ btFabs(m\_el[2].x()),\ btFabs(m\_el[2].y()),\ btFabs(m\_el[2].z()));}
\DoxyCodeLine{01045\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01046\ \}}
\DoxyCodeLine{01047\ }
\DoxyCodeLine{01048\ SIMD\_FORCE\_INLINE\ btMatrix3x3}
\DoxyCodeLine{01049\ btMatrix3x3::transpose()\textcolor{keyword}{\ const}}
\DoxyCodeLine{01050\ \textcolor{keyword}{}\{}
\DoxyCodeLine{01051\ \textcolor{preprocessor}{\#if\ defined\ BT\_USE\_SIMD\_VECTOR3\ \&\&\ (defined(BT\_USE\_SSE\_IN\_API)\ \&\&\ defined(BT\_USE\_SSE))}}
\DoxyCodeLine{01052\ \ \ \ \ \_\_m128\ v0\ =\ m\_el[0].mVec128;}
\DoxyCodeLine{01053\ \ \ \ \ \_\_m128\ v1\ =\ m\_el[1].mVec128;}
\DoxyCodeLine{01054\ \ \ \ \ \_\_m128\ v2\ =\ m\_el[2].mVec128;\ \ \textcolor{comment}{//\ \ x2\ y2\ z2\ w2}}
\DoxyCodeLine{01055\ \ \ \ \ \_\_m128\ vT;}
\DoxyCodeLine{01056\ }
\DoxyCodeLine{01057\ \ \ \ \ v2\ =\ \_mm\_and\_ps(v2,\ btvFFF0fMask);\ \ \textcolor{comment}{//\ \ x2\ y2\ z2\ 0}}
\DoxyCodeLine{01058\ }
\DoxyCodeLine{01059\ \ \ \ \ vT\ =\ \_mm\_unpackhi\_ps(v0,\ v1);\ \ \textcolor{comment}{//\ \ \ z0\ z1\ *\ *}}
\DoxyCodeLine{01060\ \ \ \ \ v0\ =\ \_mm\_unpacklo\_ps(v0,\ v1);\ \ \textcolor{comment}{//\ \ \ x0\ x1\ y0\ y1}}
\DoxyCodeLine{01061\ }
\DoxyCodeLine{01062\ \ \ \ \ v1\ =\ \_mm\_shuffle\_ps(v0,\ v2,\ BT\_SHUFFLE(2,\ 3,\ 1,\ 3));\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ y0\ y1\ y2\ 0}}
\DoxyCodeLine{01063\ \ \ \ \ v0\ =\ \_mm\_shuffle\_ps(v0,\ v2,\ BT\_SHUFFLE(0,\ 1,\ 0,\ 3));\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ x0\ x1\ x2\ 0}}
\DoxyCodeLine{01064\ \ \ \ \ v2\ =\ btCastdTo128f(\_mm\_move\_sd(btCastfTo128d(v2),\ btCastfTo128d(vT)));\ \ \textcolor{comment}{//\ z0\ z1\ z2\ 0}}
\DoxyCodeLine{01065\ }
\DoxyCodeLine{01066\ \ \ \ \ \textcolor{keywordflow}{return}\ btMatrix3x3(v0,\ v1,\ v2);}
\DoxyCodeLine{01067\ \textcolor{preprocessor}{\#elif\ defined(BT\_USE\_NEON)}}
\DoxyCodeLine{01068\ \ \ \ \ \textcolor{comment}{//\ note:\ zeros\ the\ w\ channel.\ We\ can\ preserve\ it\ at\ the\ cost\ of\ two\ more\ vtrn\ instructions.}}
\DoxyCodeLine{01069\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ uint32x2\_t\ zMask\ =\ (\textcolor{keyword}{const}\ uint32x2\_t)\{\textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(-\/1),\ 0\};}
\DoxyCodeLine{01070\ \ \ \ \ float32x4x2\_t\ top\ =\ vtrnq\_f32(m\_el[0].mVec128,\ m\_el[1].mVec128);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \{x0\ x1\ z0\ z1\},\ \{y0\ y1\ w0\ w1\}}}
\DoxyCodeLine{01071\ \ \ \ \ float32x2x2\_t\ bl\ =\ vtrn\_f32(vget\_low\_f32(m\_el[2].mVec128),\ vdup\_n\_f32(0.0f));\ \ \textcolor{comment}{//\ \{x2\ \ 0\ \},\ \{y2\ 0\}}}
\DoxyCodeLine{01072\ \ \ \ \ float32x4\_t\ v0\ =\ vcombine\_f32(vget\_low\_f32(top.val[0]),\ bl.val[0]);}
\DoxyCodeLine{01073\ \ \ \ \ float32x4\_t\ v1\ =\ vcombine\_f32(vget\_low\_f32(top.val[1]),\ bl.val[1]);}
\DoxyCodeLine{01074\ \ \ \ \ float32x2\_t\ q\ =\ (float32x2\_t)vand\_u32((uint32x2\_t)vget\_high\_f32(m\_el[2].mVec128),\ zMask);}
\DoxyCodeLine{01075\ \ \ \ \ float32x4\_t\ v2\ =\ vcombine\_f32(vget\_high\_f32(top.val[0]),\ q);\ \ \textcolor{comment}{//\ z0\ z1\ z2\ \ 0}}
\DoxyCodeLine{01076\ \ \ \ \ \textcolor{keywordflow}{return}\ btMatrix3x3(v0,\ v1,\ v2);}
\DoxyCodeLine{01077\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01078\ \ \ \ \ \textcolor{keywordflow}{return}\ btMatrix3x3(m\_el[0].x(),\ m\_el[1].x(),\ m\_el[2].x(),}
\DoxyCodeLine{01079\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m\_el[0].y(),\ m\_el[1].y(),\ m\_el[2].y(),}
\DoxyCodeLine{01080\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m\_el[0].z(),\ m\_el[1].z(),\ m\_el[2].z());}
\DoxyCodeLine{01081\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01082\ \}}
\DoxyCodeLine{01083\ }
\DoxyCodeLine{01084\ SIMD\_FORCE\_INLINE\ btMatrix3x3}
\DoxyCodeLine{01085\ btMatrix3x3::adjoint()\textcolor{keyword}{\ const}}
\DoxyCodeLine{01086\ \textcolor{keyword}{}\{}
\DoxyCodeLine{01087\ \ \ \ \ \textcolor{keywordflow}{return}\ btMatrix3x3(cofac(1,\ 1,\ 2,\ 2),\ cofac(0,\ 2,\ 2,\ 1),\ cofac(0,\ 1,\ 1,\ 2),}
\DoxyCodeLine{01088\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cofac(1,\ 2,\ 2,\ 0),\ cofac(0,\ 0,\ 2,\ 2),\ cofac(0,\ 2,\ 1,\ 0),}
\DoxyCodeLine{01089\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cofac(1,\ 0,\ 2,\ 1),\ cofac(0,\ 1,\ 2,\ 0),\ cofac(0,\ 0,\ 1,\ 1));}
\DoxyCodeLine{01090\ \}}
\DoxyCodeLine{01091\ }
\DoxyCodeLine{01092\ SIMD\_FORCE\_INLINE\ btMatrix3x3}
\DoxyCodeLine{01093\ btMatrix3x3::inverse()\textcolor{keyword}{\ const}}
\DoxyCodeLine{01094\ \textcolor{keyword}{}\{}
\DoxyCodeLine{01095\ \ \ \ \ btVector3\ co(cofac(1,\ 1,\ 2,\ 2),\ cofac(1,\ 2,\ 2,\ 0),\ cofac(1,\ 0,\ 2,\ 1));}
\DoxyCodeLine{01096\ \ \ \ \ btScalar\ det\ =\ (*this)[0].dot(co);}
\DoxyCodeLine{01097\ \ \ \ \ \textcolor{comment}{//btFullAssert(det\ !=\ btScalar(0.0));}}
\DoxyCodeLine{01098\ \ \ \ \ btAssert(det\ !=\ btScalar(0.0));}
\DoxyCodeLine{01099\ \ \ \ \ btScalar\ s\ =\ btScalar(1.0)\ /\ det;}
\DoxyCodeLine{01100\ \ \ \ \ \textcolor{keywordflow}{return}\ btMatrix3x3(co.x()\ *\ s,\ cofac(0,\ 2,\ 2,\ 1)\ *\ s,\ cofac(0,\ 1,\ 1,\ 2)\ *\ s,}
\DoxyCodeLine{01101\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ co.y()\ *\ s,\ cofac(0,\ 0,\ 2,\ 2)\ *\ s,\ cofac(0,\ 2,\ 1,\ 0)\ *\ s,}
\DoxyCodeLine{01102\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ co.z()\ *\ s,\ cofac(0,\ 1,\ 2,\ 0)\ *\ s,\ cofac(0,\ 0,\ 1,\ 1)\ *\ s);}
\DoxyCodeLine{01103\ \}}
\DoxyCodeLine{01104\ }
\DoxyCodeLine{01105\ SIMD\_FORCE\_INLINE\ btMatrix3x3}
\DoxyCodeLine{01106\ btMatrix3x3::transposeTimes(\textcolor{keyword}{const}\ btMatrix3x3\&\ m)\textcolor{keyword}{\ const}}
\DoxyCodeLine{01107\ \textcolor{keyword}{}\{}
\DoxyCodeLine{01108\ \textcolor{preprocessor}{\#if\ defined\ BT\_USE\_SIMD\_VECTOR3\ \&\&\ (defined(BT\_USE\_SSE\_IN\_API)\ \&\&\ defined(BT\_USE\_SSE))}}
\DoxyCodeLine{01109\ \ \ \ \ \textcolor{comment}{//\ zeros\ w}}
\DoxyCodeLine{01110\ \ \ \ \ \textcolor{comment}{//\ \ \ \ static\ const\ \_\_m128i\ xyzMask\ =\ (const\ \_\_m128i)\{\ -\/1ULL,\ 0xffffffffULL\ \};}}
\DoxyCodeLine{01111\ \ \ \ \ \_\_m128\ \mbox{\hyperlink{group__gtc__matrix__access_ga259e5ebd0f31ec3f83440f8cae7f5dba}{row}}\ =\ m\_el[0].mVec128;}
\DoxyCodeLine{01112\ \ \ \ \ \_\_m128\ m0\ =\ \_mm\_and\_ps(m.getRow(0).mVec128,\ btvFFF0fMask);}
\DoxyCodeLine{01113\ \ \ \ \ \_\_m128\ m1\ =\ \_mm\_and\_ps(m.getRow(1).mVec128,\ btvFFF0fMask);}
\DoxyCodeLine{01114\ \ \ \ \ \_\_m128\ m2\ =\ \_mm\_and\_ps(m.getRow(2).mVec128,\ btvFFF0fMask);}
\DoxyCodeLine{01115\ \ \ \ \ \_\_m128\ r0\ =\ \_mm\_mul\_ps(m0,\ \_mm\_shuffle\_ps(row,\ row,\ 0));}
\DoxyCodeLine{01116\ \ \ \ \ \_\_m128\ r1\ =\ \_mm\_mul\_ps(m0,\ \_mm\_shuffle\_ps(row,\ row,\ 0x55));}
\DoxyCodeLine{01117\ \ \ \ \ \_\_m128\ r2\ =\ \_mm\_mul\_ps(m0,\ \_mm\_shuffle\_ps(row,\ row,\ 0xaa));}
\DoxyCodeLine{01118\ \ \ \ \ \mbox{\hyperlink{group__gtc__matrix__access_ga259e5ebd0f31ec3f83440f8cae7f5dba}{row}}\ =\ m\_el[1].mVec128;}
\DoxyCodeLine{01119\ \ \ \ \ r0\ =\ \_mm\_add\_ps(r0,\ \_mm\_mul\_ps(m1,\ \_mm\_shuffle\_ps(row,\ row,\ 0)));}
\DoxyCodeLine{01120\ \ \ \ \ r1\ =\ \_mm\_add\_ps(r1,\ \_mm\_mul\_ps(m1,\ \_mm\_shuffle\_ps(row,\ row,\ 0x55)));}
\DoxyCodeLine{01121\ \ \ \ \ r2\ =\ \_mm\_add\_ps(r2,\ \_mm\_mul\_ps(m1,\ \_mm\_shuffle\_ps(row,\ row,\ 0xaa)));}
\DoxyCodeLine{01122\ \ \ \ \ \mbox{\hyperlink{group__gtc__matrix__access_ga259e5ebd0f31ec3f83440f8cae7f5dba}{row}}\ =\ m\_el[2].mVec128;}
\DoxyCodeLine{01123\ \ \ \ \ r0\ =\ \_mm\_add\_ps(r0,\ \_mm\_mul\_ps(m2,\ \_mm\_shuffle\_ps(row,\ row,\ 0)));}
\DoxyCodeLine{01124\ \ \ \ \ r1\ =\ \_mm\_add\_ps(r1,\ \_mm\_mul\_ps(m2,\ \_mm\_shuffle\_ps(row,\ row,\ 0x55)));}
\DoxyCodeLine{01125\ \ \ \ \ r2\ =\ \_mm\_add\_ps(r2,\ \_mm\_mul\_ps(m2,\ \_mm\_shuffle\_ps(row,\ row,\ 0xaa)));}
\DoxyCodeLine{01126\ \ \ \ \ \textcolor{keywordflow}{return}\ btMatrix3x3(r0,\ r1,\ r2);}
\DoxyCodeLine{01127\ }
\DoxyCodeLine{01128\ \textcolor{preprocessor}{\#elif\ defined\ BT\_USE\_NEON}}
\DoxyCodeLine{01129\ \ \ \ \ \textcolor{comment}{//\ zeros\ w}}
\DoxyCodeLine{01130\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ uint32x4\_t\ xyzMask\ =\ (\textcolor{keyword}{const}\ uint32x4\_t)\{\textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(-\/1),\ \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(-\/1),\ \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(-\/1),\ 0\};}
\DoxyCodeLine{01131\ \ \ \ \ float32x4\_t\ m0\ =\ (float32x4\_t)vandq\_u32((uint32x4\_t)m.getRow(0).mVec128,\ xyzMask);}
\DoxyCodeLine{01132\ \ \ \ \ float32x4\_t\ m1\ =\ (float32x4\_t)vandq\_u32((uint32x4\_t)m.getRow(1).mVec128,\ xyzMask);}
\DoxyCodeLine{01133\ \ \ \ \ float32x4\_t\ m2\ =\ (float32x4\_t)vandq\_u32((uint32x4\_t)m.getRow(2).mVec128,\ xyzMask);}
\DoxyCodeLine{01134\ \ \ \ \ float32x4\_t\ \mbox{\hyperlink{group__gtc__matrix__access_ga259e5ebd0f31ec3f83440f8cae7f5dba}{row}}\ =\ m\_el[0].mVec128;}
\DoxyCodeLine{01135\ \ \ \ \ float32x4\_t\ r0\ =\ vmulq\_lane\_f32(m0,\ vget\_low\_f32(row),\ 0);}
\DoxyCodeLine{01136\ \ \ \ \ float32x4\_t\ r1\ =\ vmulq\_lane\_f32(m0,\ vget\_low\_f32(row),\ 1);}
\DoxyCodeLine{01137\ \ \ \ \ float32x4\_t\ r2\ =\ vmulq\_lane\_f32(m0,\ vget\_high\_f32(row),\ 0);}
\DoxyCodeLine{01138\ \ \ \ \ \mbox{\hyperlink{group__gtc__matrix__access_ga259e5ebd0f31ec3f83440f8cae7f5dba}{row}}\ =\ m\_el[1].mVec128;}
\DoxyCodeLine{01139\ \ \ \ \ r0\ =\ vmlaq\_lane\_f32(r0,\ m1,\ vget\_low\_f32(row),\ 0);}
\DoxyCodeLine{01140\ \ \ \ \ r1\ =\ vmlaq\_lane\_f32(r1,\ m1,\ vget\_low\_f32(row),\ 1);}
\DoxyCodeLine{01141\ \ \ \ \ r2\ =\ vmlaq\_lane\_f32(r2,\ m1,\ vget\_high\_f32(row),\ 0);}
\DoxyCodeLine{01142\ \ \ \ \ \mbox{\hyperlink{group__gtc__matrix__access_ga259e5ebd0f31ec3f83440f8cae7f5dba}{row}}\ =\ m\_el[2].mVec128;}
\DoxyCodeLine{01143\ \ \ \ \ r0\ =\ vmlaq\_lane\_f32(r0,\ m2,\ vget\_low\_f32(row),\ 0);}
\DoxyCodeLine{01144\ \ \ \ \ r1\ =\ vmlaq\_lane\_f32(r1,\ m2,\ vget\_low\_f32(row),\ 1);}
\DoxyCodeLine{01145\ \ \ \ \ r2\ =\ vmlaq\_lane\_f32(r2,\ m2,\ vget\_high\_f32(row),\ 0);}
\DoxyCodeLine{01146\ \ \ \ \ \textcolor{keywordflow}{return}\ btMatrix3x3(r0,\ r1,\ r2);}
\DoxyCodeLine{01147\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01148\ \ \ \ \ \textcolor{keywordflow}{return}\ btMatrix3x3(}
\DoxyCodeLine{01149\ \ \ \ \ \ \ \ \ m\_el[0].x()\ *\ m[0].x()\ +\ m\_el[1].x()\ *\ m[1].x()\ +\ m\_el[2].x()\ *\ m[2].x(),}
\DoxyCodeLine{01150\ \ \ \ \ \ \ \ \ m\_el[0].x()\ *\ m[0].y()\ +\ m\_el[1].x()\ *\ m[1].y()\ +\ m\_el[2].x()\ *\ m[2].y(),}
\DoxyCodeLine{01151\ \ \ \ \ \ \ \ \ m\_el[0].x()\ *\ m[0].z()\ +\ m\_el[1].x()\ *\ m[1].z()\ +\ m\_el[2].x()\ *\ m[2].z(),}
\DoxyCodeLine{01152\ \ \ \ \ \ \ \ \ m\_el[0].y()\ *\ m[0].x()\ +\ m\_el[1].y()\ *\ m[1].x()\ +\ m\_el[2].y()\ *\ m[2].x(),}
\DoxyCodeLine{01153\ \ \ \ \ \ \ \ \ m\_el[0].y()\ *\ m[0].y()\ +\ m\_el[1].y()\ *\ m[1].y()\ +\ m\_el[2].y()\ *\ m[2].y(),}
\DoxyCodeLine{01154\ \ \ \ \ \ \ \ \ m\_el[0].y()\ *\ m[0].z()\ +\ m\_el[1].y()\ *\ m[1].z()\ +\ m\_el[2].y()\ *\ m[2].z(),}
\DoxyCodeLine{01155\ \ \ \ \ \ \ \ \ m\_el[0].z()\ *\ m[0].x()\ +\ m\_el[1].z()\ *\ m[1].x()\ +\ m\_el[2].z()\ *\ m[2].x(),}
\DoxyCodeLine{01156\ \ \ \ \ \ \ \ \ m\_el[0].z()\ *\ m[0].y()\ +\ m\_el[1].z()\ *\ m[1].y()\ +\ m\_el[2].z()\ *\ m[2].y(),}
\DoxyCodeLine{01157\ \ \ \ \ \ \ \ \ m\_el[0].z()\ *\ m[0].z()\ +\ m\_el[1].z()\ *\ m[1].z()\ +\ m\_el[2].z()\ *\ m[2].z());}
\DoxyCodeLine{01158\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01159\ \}}
\DoxyCodeLine{01160\ }
\DoxyCodeLine{01161\ SIMD\_FORCE\_INLINE\ btMatrix3x3}
\DoxyCodeLine{01162\ btMatrix3x3::timesTranspose(\textcolor{keyword}{const}\ btMatrix3x3\&\ m)\textcolor{keyword}{\ const}}
\DoxyCodeLine{01163\ \textcolor{keyword}{}\{}
\DoxyCodeLine{01164\ \textcolor{preprocessor}{\#if\ (defined(BT\_USE\_SSE\_IN\_API)\ \&\&\ defined(BT\_USE\_SSE))}}
\DoxyCodeLine{01165\ \ \ \ \ \_\_m128\ a0\ =\ m\_el[0].mVec128;}
\DoxyCodeLine{01166\ \ \ \ \ \_\_m128\ a1\ =\ m\_el[1].mVec128;}
\DoxyCodeLine{01167\ \ \ \ \ \_\_m128\ a2\ =\ m\_el[2].mVec128;}
\DoxyCodeLine{01168\ }
\DoxyCodeLine{01169\ \ \ \ \ btMatrix3x3\ mT\ =\ m.transpose();\ \ \textcolor{comment}{//\ we\ rely\ on\ transpose()\ zeroing\ w\ channel\ so\ that\ we\ don't\ have\ to\ do\ it\ here}}
\DoxyCodeLine{01170\ \ \ \ \ \_\_m128\ mx\ =\ mT[0].mVec128;}
\DoxyCodeLine{01171\ \ \ \ \ \_\_m128\ my\ =\ mT[1].mVec128;}
\DoxyCodeLine{01172\ \ \ \ \ \_\_m128\ mz\ =\ mT[2].mVec128;}
\DoxyCodeLine{01173\ }
\DoxyCodeLine{01174\ \ \ \ \ \_\_m128\ r0\ =\ \_mm\_mul\_ps(mx,\ \_mm\_shuffle\_ps(a0,\ a0,\ 0x00));}
\DoxyCodeLine{01175\ \ \ \ \ \_\_m128\ r1\ =\ \_mm\_mul\_ps(mx,\ \_mm\_shuffle\_ps(a1,\ a1,\ 0x00));}
\DoxyCodeLine{01176\ \ \ \ \ \_\_m128\ r2\ =\ \_mm\_mul\_ps(mx,\ \_mm\_shuffle\_ps(a2,\ a2,\ 0x00));}
\DoxyCodeLine{01177\ \ \ \ \ r0\ =\ \_mm\_add\_ps(r0,\ \_mm\_mul\_ps(my,\ \_mm\_shuffle\_ps(a0,\ a0,\ 0x55)));}
\DoxyCodeLine{01178\ \ \ \ \ r1\ =\ \_mm\_add\_ps(r1,\ \_mm\_mul\_ps(my,\ \_mm\_shuffle\_ps(a1,\ a1,\ 0x55)));}
\DoxyCodeLine{01179\ \ \ \ \ r2\ =\ \_mm\_add\_ps(r2,\ \_mm\_mul\_ps(my,\ \_mm\_shuffle\_ps(a2,\ a2,\ 0x55)));}
\DoxyCodeLine{01180\ \ \ \ \ r0\ =\ \_mm\_add\_ps(r0,\ \_mm\_mul\_ps(mz,\ \_mm\_shuffle\_ps(a0,\ a0,\ 0xaa)));}
\DoxyCodeLine{01181\ \ \ \ \ r1\ =\ \_mm\_add\_ps(r1,\ \_mm\_mul\_ps(mz,\ \_mm\_shuffle\_ps(a1,\ a1,\ 0xaa)));}
\DoxyCodeLine{01182\ \ \ \ \ r2\ =\ \_mm\_add\_ps(r2,\ \_mm\_mul\_ps(mz,\ \_mm\_shuffle\_ps(a2,\ a2,\ 0xaa)));}
\DoxyCodeLine{01183\ \ \ \ \ \textcolor{keywordflow}{return}\ btMatrix3x3(r0,\ r1,\ r2);}
\DoxyCodeLine{01184\ }
\DoxyCodeLine{01185\ \textcolor{preprocessor}{\#elif\ defined\ BT\_USE\_NEON}}
\DoxyCodeLine{01186\ \ \ \ \ float32x4\_t\ a0\ =\ m\_el[0].mVec128;}
\DoxyCodeLine{01187\ \ \ \ \ float32x4\_t\ a1\ =\ m\_el[1].mVec128;}
\DoxyCodeLine{01188\ \ \ \ \ float32x4\_t\ a2\ =\ m\_el[2].mVec128;}
\DoxyCodeLine{01189\ }
\DoxyCodeLine{01190\ \ \ \ \ btMatrix3x3\ mT\ =\ m.transpose();\ \ \textcolor{comment}{//\ we\ rely\ on\ transpose()\ zeroing\ w\ channel\ so\ that\ we\ don't\ have\ to\ do\ it\ here}}
\DoxyCodeLine{01191\ \ \ \ \ float32x4\_t\ mx\ =\ mT[0].mVec128;}
\DoxyCodeLine{01192\ \ \ \ \ float32x4\_t\ my\ =\ mT[1].mVec128;}
\DoxyCodeLine{01193\ \ \ \ \ float32x4\_t\ mz\ =\ mT[2].mVec128;}
\DoxyCodeLine{01194\ }
\DoxyCodeLine{01195\ \ \ \ \ float32x4\_t\ r0\ =\ vmulq\_lane\_f32(mx,\ vget\_low\_f32(a0),\ 0);}
\DoxyCodeLine{01196\ \ \ \ \ float32x4\_t\ r1\ =\ vmulq\_lane\_f32(mx,\ vget\_low\_f32(a1),\ 0);}
\DoxyCodeLine{01197\ \ \ \ \ float32x4\_t\ r2\ =\ vmulq\_lane\_f32(mx,\ vget\_low\_f32(a2),\ 0);}
\DoxyCodeLine{01198\ \ \ \ \ r0\ =\ vmlaq\_lane\_f32(r0,\ my,\ vget\_low\_f32(a0),\ 1);}
\DoxyCodeLine{01199\ \ \ \ \ r1\ =\ vmlaq\_lane\_f32(r1,\ my,\ vget\_low\_f32(a1),\ 1);}
\DoxyCodeLine{01200\ \ \ \ \ r2\ =\ vmlaq\_lane\_f32(r2,\ my,\ vget\_low\_f32(a2),\ 1);}
\DoxyCodeLine{01201\ \ \ \ \ r0\ =\ vmlaq\_lane\_f32(r0,\ mz,\ vget\_high\_f32(a0),\ 0);}
\DoxyCodeLine{01202\ \ \ \ \ r1\ =\ vmlaq\_lane\_f32(r1,\ mz,\ vget\_high\_f32(a1),\ 0);}
\DoxyCodeLine{01203\ \ \ \ \ r2\ =\ vmlaq\_lane\_f32(r2,\ mz,\ vget\_high\_f32(a2),\ 0);}
\DoxyCodeLine{01204\ \ \ \ \ \textcolor{keywordflow}{return}\ btMatrix3x3(r0,\ r1,\ r2);}
\DoxyCodeLine{01205\ }
\DoxyCodeLine{01206\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01207\ \ \ \ \ \textcolor{keywordflow}{return}\ btMatrix3x3(}
\DoxyCodeLine{01208\ \ \ \ \ \ \ \ \ m\_el[0].dot(m[0]),\ m\_el[0].dot(m[1]),\ m\_el[0].dot(m[2]),}
\DoxyCodeLine{01209\ \ \ \ \ \ \ \ \ m\_el[1].dot(m[0]),\ m\_el[1].dot(m[1]),\ m\_el[1].dot(m[2]),}
\DoxyCodeLine{01210\ \ \ \ \ \ \ \ \ m\_el[2].dot(m[0]),\ m\_el[2].dot(m[1]),\ m\_el[2].dot(m[2]));}
\DoxyCodeLine{01211\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01212\ \}}
\DoxyCodeLine{01213\ }
\DoxyCodeLine{01214\ SIMD\_FORCE\_INLINE\ btVector3}
\DoxyCodeLine{01215\ operator*(\textcolor{keyword}{const}\ btMatrix3x3\&\ m,\ \textcolor{keyword}{const}\ btVector3\&\ v)}
\DoxyCodeLine{01216\ \{}
\DoxyCodeLine{01217\ \textcolor{preprocessor}{\#if\ (defined(BT\_USE\_SSE\_IN\_API)\ \&\&\ defined(BT\_USE\_SSE))\ ||\ defined(BT\_USE\_NEON)}}
\DoxyCodeLine{01218\ \ \ \ \ \textcolor{keywordflow}{return}\ v.dot3(m[0],\ m[1],\ m[2]);}
\DoxyCodeLine{01219\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01220\ \ \ \ \ \textcolor{keywordflow}{return}\ btVector3(m[0].dot(v),\ m[1].dot(v),\ m[2].dot(v));}
\DoxyCodeLine{01221\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01222\ \}}
\DoxyCodeLine{01223\ }
\DoxyCodeLine{01224\ SIMD\_FORCE\_INLINE\ btVector3}
\DoxyCodeLine{01225\ operator*(\textcolor{keyword}{const}\ btVector3\&\ v,\ \textcolor{keyword}{const}\ btMatrix3x3\&\ m)}
\DoxyCodeLine{01226\ \{}
\DoxyCodeLine{01227\ \textcolor{preprocessor}{\#if\ defined\ BT\_USE\_SIMD\_VECTOR3\ \&\&\ (defined(BT\_USE\_SSE\_IN\_API)\ \&\&\ defined(BT\_USE\_SSE))}}
\DoxyCodeLine{01228\ }
\DoxyCodeLine{01229\ \ \ \ \ \textcolor{keyword}{const}\ \_\_m128\ vv\ =\ v.mVec128;}
\DoxyCodeLine{01230\ }
\DoxyCodeLine{01231\ \ \ \ \ \_\_m128\ c0\ =\ bt\_splat\_ps(vv,\ 0);}
\DoxyCodeLine{01232\ \ \ \ \ \_\_m128\ c1\ =\ bt\_splat\_ps(vv,\ 1);}
\DoxyCodeLine{01233\ \ \ \ \ \_\_m128\ c2\ =\ bt\_splat\_ps(vv,\ 2);}
\DoxyCodeLine{01234\ }
\DoxyCodeLine{01235\ \ \ \ \ c0\ =\ \_mm\_mul\_ps(c0,\ \_mm\_and\_ps(m[0].mVec128,\ btvFFF0fMask));}
\DoxyCodeLine{01236\ \ \ \ \ c1\ =\ \_mm\_mul\_ps(c1,\ \_mm\_and\_ps(m[1].mVec128,\ btvFFF0fMask));}
\DoxyCodeLine{01237\ \ \ \ \ c0\ =\ \_mm\_add\_ps(c0,\ c1);}
\DoxyCodeLine{01238\ \ \ \ \ c2\ =\ \_mm\_mul\_ps(c2,\ \_mm\_and\_ps(m[2].mVec128,\ btvFFF0fMask));}
\DoxyCodeLine{01239\ }
\DoxyCodeLine{01240\ \ \ \ \ \textcolor{keywordflow}{return}\ btVector3(\_mm\_add\_ps(c0,\ c2));}
\DoxyCodeLine{01241\ \textcolor{preprocessor}{\#elif\ defined(BT\_USE\_NEON)}}
\DoxyCodeLine{01242\ \ \ \ \ \textcolor{keyword}{const}\ float32x4\_t\ vv\ =\ v.mVec128;}
\DoxyCodeLine{01243\ \ \ \ \ \textcolor{keyword}{const}\ float32x2\_t\ vlo\ =\ vget\_low\_f32(vv);}
\DoxyCodeLine{01244\ \ \ \ \ \textcolor{keyword}{const}\ float32x2\_t\ vhi\ =\ vget\_high\_f32(vv);}
\DoxyCodeLine{01245\ }
\DoxyCodeLine{01246\ \ \ \ \ float32x4\_t\ c0,\ c1,\ c2;}
\DoxyCodeLine{01247\ }
\DoxyCodeLine{01248\ \ \ \ \ c0\ =\ (float32x4\_t)vandq\_s32((int32x4\_t)m[0].mVec128,\ btvFFF0Mask);}
\DoxyCodeLine{01249\ \ \ \ \ c1\ =\ (float32x4\_t)vandq\_s32((int32x4\_t)m[1].mVec128,\ btvFFF0Mask);}
\DoxyCodeLine{01250\ \ \ \ \ c2\ =\ (float32x4\_t)vandq\_s32((int32x4\_t)m[2].mVec128,\ btvFFF0Mask);}
\DoxyCodeLine{01251\ }
\DoxyCodeLine{01252\ \ \ \ \ c0\ =\ vmulq\_lane\_f32(c0,\ vlo,\ 0);}
\DoxyCodeLine{01253\ \ \ \ \ c1\ =\ vmulq\_lane\_f32(c1,\ vlo,\ 1);}
\DoxyCodeLine{01254\ \ \ \ \ c2\ =\ vmulq\_lane\_f32(c2,\ vhi,\ 0);}
\DoxyCodeLine{01255\ \ \ \ \ c0\ =\ vaddq\_f32(c0,\ c1);}
\DoxyCodeLine{01256\ \ \ \ \ c0\ =\ vaddq\_f32(c0,\ c2);}
\DoxyCodeLine{01257\ }
\DoxyCodeLine{01258\ \ \ \ \ \textcolor{keywordflow}{return}\ btVector3(c0);}
\DoxyCodeLine{01259\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01260\ \ \ \ \ \textcolor{keywordflow}{return}\ btVector3(m.tdotx(v),\ m.tdoty(v),\ m.tdotz(v));}
\DoxyCodeLine{01261\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01262\ \}}
\DoxyCodeLine{01263\ }
\DoxyCodeLine{01264\ SIMD\_FORCE\_INLINE\ btMatrix3x3}
\DoxyCodeLine{01265\ operator*(\textcolor{keyword}{const}\ btMatrix3x3\&\ m1,\ \textcolor{keyword}{const}\ btMatrix3x3\&\ m2)}
\DoxyCodeLine{01266\ \{}
\DoxyCodeLine{01267\ \textcolor{preprocessor}{\#if\ defined\ BT\_USE\_SIMD\_VECTOR3\ \&\&\ (defined(BT\_USE\_SSE\_IN\_API)\ \&\&\ defined(BT\_USE\_SSE))}}
\DoxyCodeLine{01268\ }
\DoxyCodeLine{01269\ \ \ \ \ \_\_m128\ m10\ =\ m1[0].mVec128;}
\DoxyCodeLine{01270\ \ \ \ \ \_\_m128\ m11\ =\ m1[1].mVec128;}
\DoxyCodeLine{01271\ \ \ \ \ \_\_m128\ m12\ =\ m1[2].mVec128;}
\DoxyCodeLine{01272\ }
\DoxyCodeLine{01273\ \ \ \ \ \_\_m128\ m2v\ =\ \_mm\_and\_ps(m2[0].mVec128,\ btvFFF0fMask);}
\DoxyCodeLine{01274\ }
\DoxyCodeLine{01275\ \ \ \ \ \_\_m128\ c0\ =\ bt\_splat\_ps(m10,\ 0);}
\DoxyCodeLine{01276\ \ \ \ \ \_\_m128\ c1\ =\ bt\_splat\_ps(m11,\ 0);}
\DoxyCodeLine{01277\ \ \ \ \ \_\_m128\ c2\ =\ bt\_splat\_ps(m12,\ 0);}
\DoxyCodeLine{01278\ }
\DoxyCodeLine{01279\ \ \ \ \ c0\ =\ \_mm\_mul\_ps(c0,\ m2v);}
\DoxyCodeLine{01280\ \ \ \ \ c1\ =\ \_mm\_mul\_ps(c1,\ m2v);}
\DoxyCodeLine{01281\ \ \ \ \ c2\ =\ \_mm\_mul\_ps(c2,\ m2v);}
\DoxyCodeLine{01282\ }
\DoxyCodeLine{01283\ \ \ \ \ m2v\ =\ \_mm\_and\_ps(m2[1].mVec128,\ btvFFF0fMask);}
\DoxyCodeLine{01284\ }
\DoxyCodeLine{01285\ \ \ \ \ \_\_m128\ c0\_1\ =\ bt\_splat\_ps(m10,\ 1);}
\DoxyCodeLine{01286\ \ \ \ \ \_\_m128\ c1\_1\ =\ bt\_splat\_ps(m11,\ 1);}
\DoxyCodeLine{01287\ \ \ \ \ \_\_m128\ c2\_1\ =\ bt\_splat\_ps(m12,\ 1);}
\DoxyCodeLine{01288\ }
\DoxyCodeLine{01289\ \ \ \ \ c0\_1\ =\ \_mm\_mul\_ps(c0\_1,\ m2v);}
\DoxyCodeLine{01290\ \ \ \ \ c1\_1\ =\ \_mm\_mul\_ps(c1\_1,\ m2v);}
\DoxyCodeLine{01291\ \ \ \ \ c2\_1\ =\ \_mm\_mul\_ps(c2\_1,\ m2v);}
\DoxyCodeLine{01292\ }
\DoxyCodeLine{01293\ \ \ \ \ m2v\ =\ \_mm\_and\_ps(m2[2].mVec128,\ btvFFF0fMask);}
\DoxyCodeLine{01294\ }
\DoxyCodeLine{01295\ \ \ \ \ c0\ =\ \_mm\_add\_ps(c0,\ c0\_1);}
\DoxyCodeLine{01296\ \ \ \ \ c1\ =\ \_mm\_add\_ps(c1,\ c1\_1);}
\DoxyCodeLine{01297\ \ \ \ \ c2\ =\ \_mm\_add\_ps(c2,\ c2\_1);}
\DoxyCodeLine{01298\ }
\DoxyCodeLine{01299\ \ \ \ \ m10\ =\ bt\_splat\_ps(m10,\ 2);}
\DoxyCodeLine{01300\ \ \ \ \ m11\ =\ bt\_splat\_ps(m11,\ 2);}
\DoxyCodeLine{01301\ \ \ \ \ m12\ =\ bt\_splat\_ps(m12,\ 2);}
\DoxyCodeLine{01302\ }
\DoxyCodeLine{01303\ \ \ \ \ m10\ =\ \_mm\_mul\_ps(m10,\ m2v);}
\DoxyCodeLine{01304\ \ \ \ \ m11\ =\ \_mm\_mul\_ps(m11,\ m2v);}
\DoxyCodeLine{01305\ \ \ \ \ m12\ =\ \_mm\_mul\_ps(m12,\ m2v);}
\DoxyCodeLine{01306\ }
\DoxyCodeLine{01307\ \ \ \ \ c0\ =\ \_mm\_add\_ps(c0,\ m10);}
\DoxyCodeLine{01308\ \ \ \ \ c1\ =\ \_mm\_add\_ps(c1,\ m11);}
\DoxyCodeLine{01309\ \ \ \ \ c2\ =\ \_mm\_add\_ps(c2,\ m12);}
\DoxyCodeLine{01310\ }
\DoxyCodeLine{01311\ \ \ \ \ \textcolor{keywordflow}{return}\ btMatrix3x3(c0,\ c1,\ c2);}
\DoxyCodeLine{01312\ }
\DoxyCodeLine{01313\ \textcolor{preprocessor}{\#elif\ defined(BT\_USE\_NEON)}}
\DoxyCodeLine{01314\ }
\DoxyCodeLine{01315\ \ \ \ \ float32x4\_t\ rv0,\ rv1,\ rv2;}
\DoxyCodeLine{01316\ \ \ \ \ float32x4\_t\ v0,\ v1,\ v2;}
\DoxyCodeLine{01317\ \ \ \ \ float32x4\_t\ mv0,\ mv1,\ mv2;}
\DoxyCodeLine{01318\ }
\DoxyCodeLine{01319\ \ \ \ \ v0\ =\ m1[0].mVec128;}
\DoxyCodeLine{01320\ \ \ \ \ v1\ =\ m1[1].mVec128;}
\DoxyCodeLine{01321\ \ \ \ \ v2\ =\ m1[2].mVec128;}
\DoxyCodeLine{01322\ }
\DoxyCodeLine{01323\ \ \ \ \ mv0\ =\ (float32x4\_t)vandq\_s32((int32x4\_t)m2[0].mVec128,\ btvFFF0Mask);}
\DoxyCodeLine{01324\ \ \ \ \ mv1\ =\ (float32x4\_t)vandq\_s32((int32x4\_t)m2[1].mVec128,\ btvFFF0Mask);}
\DoxyCodeLine{01325\ \ \ \ \ mv2\ =\ (float32x4\_t)vandq\_s32((int32x4\_t)m2[2].mVec128,\ btvFFF0Mask);}
\DoxyCodeLine{01326\ }
\DoxyCodeLine{01327\ \ \ \ \ rv0\ =\ vmulq\_lane\_f32(mv0,\ vget\_low\_f32(v0),\ 0);}
\DoxyCodeLine{01328\ \ \ \ \ rv1\ =\ vmulq\_lane\_f32(mv0,\ vget\_low\_f32(v1),\ 0);}
\DoxyCodeLine{01329\ \ \ \ \ rv2\ =\ vmulq\_lane\_f32(mv0,\ vget\_low\_f32(v2),\ 0);}
\DoxyCodeLine{01330\ }
\DoxyCodeLine{01331\ \ \ \ \ rv0\ =\ vmlaq\_lane\_f32(rv0,\ mv1,\ vget\_low\_f32(v0),\ 1);}
\DoxyCodeLine{01332\ \ \ \ \ rv1\ =\ vmlaq\_lane\_f32(rv1,\ mv1,\ vget\_low\_f32(v1),\ 1);}
\DoxyCodeLine{01333\ \ \ \ \ rv2\ =\ vmlaq\_lane\_f32(rv2,\ mv1,\ vget\_low\_f32(v2),\ 1);}
\DoxyCodeLine{01334\ }
\DoxyCodeLine{01335\ \ \ \ \ rv0\ =\ vmlaq\_lane\_f32(rv0,\ mv2,\ vget\_high\_f32(v0),\ 0);}
\DoxyCodeLine{01336\ \ \ \ \ rv1\ =\ vmlaq\_lane\_f32(rv1,\ mv2,\ vget\_high\_f32(v1),\ 0);}
\DoxyCodeLine{01337\ \ \ \ \ rv2\ =\ vmlaq\_lane\_f32(rv2,\ mv2,\ vget\_high\_f32(v2),\ 0);}
\DoxyCodeLine{01338\ }
\DoxyCodeLine{01339\ \ \ \ \ \textcolor{keywordflow}{return}\ btMatrix3x3(rv0,\ rv1,\ rv2);}
\DoxyCodeLine{01340\ }
\DoxyCodeLine{01341\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01342\ \ \ \ \ \textcolor{keywordflow}{return}\ btMatrix3x3(}
\DoxyCodeLine{01343\ \ \ \ \ \ \ \ \ m2.tdotx(m1[0]),\ m2.tdoty(m1[0]),\ m2.tdotz(m1[0]),}
\DoxyCodeLine{01344\ \ \ \ \ \ \ \ \ m2.tdotx(m1[1]),\ m2.tdoty(m1[1]),\ m2.tdotz(m1[1]),}
\DoxyCodeLine{01345\ \ \ \ \ \ \ \ \ m2.tdotx(m1[2]),\ m2.tdoty(m1[2]),\ m2.tdotz(m1[2]));}
\DoxyCodeLine{01346\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01347\ \}}
\DoxyCodeLine{01348\ }
\DoxyCodeLine{01349\ \textcolor{comment}{/*}}
\DoxyCodeLine{01350\ \textcolor{comment}{SIMD\_FORCE\_INLINE\ btMatrix3x3\ btMultTransposeLeft(const\ btMatrix3x3\&\ m1,\ const\ btMatrix3x3\&\ m2)\ \{}}
\DoxyCodeLine{01351\ \textcolor{comment}{return\ btMatrix3x3(}}
\DoxyCodeLine{01352\ \textcolor{comment}{m1[0][0]\ *\ m2[0][0]\ +\ m1[1][0]\ *\ m2[1][0]\ +\ m1[2][0]\ *\ m2[2][0],}}
\DoxyCodeLine{01353\ \textcolor{comment}{m1[0][0]\ *\ m2[0][1]\ +\ m1[1][0]\ *\ m2[1][1]\ +\ m1[2][0]\ *\ m2[2][1],}}
\DoxyCodeLine{01354\ \textcolor{comment}{m1[0][0]\ *\ m2[0][2]\ +\ m1[1][0]\ *\ m2[1][2]\ +\ m1[2][0]\ *\ m2[2][2],}}
\DoxyCodeLine{01355\ \textcolor{comment}{m1[0][1]\ *\ m2[0][0]\ +\ m1[1][1]\ *\ m2[1][0]\ +\ m1[2][1]\ *\ m2[2][0],}}
\DoxyCodeLine{01356\ \textcolor{comment}{m1[0][1]\ *\ m2[0][1]\ +\ m1[1][1]\ *\ m2[1][1]\ +\ m1[2][1]\ *\ m2[2][1],}}
\DoxyCodeLine{01357\ \textcolor{comment}{m1[0][1]\ *\ m2[0][2]\ +\ m1[1][1]\ *\ m2[1][2]\ +\ m1[2][1]\ *\ m2[2][2],}}
\DoxyCodeLine{01358\ \textcolor{comment}{m1[0][2]\ *\ m2[0][0]\ +\ m1[1][2]\ *\ m2[1][0]\ +\ m1[2][2]\ *\ m2[2][0],}}
\DoxyCodeLine{01359\ \textcolor{comment}{m1[0][2]\ *\ m2[0][1]\ +\ m1[1][2]\ *\ m2[1][1]\ +\ m1[2][2]\ *\ m2[2][1],}}
\DoxyCodeLine{01360\ \textcolor{comment}{m1[0][2]\ *\ m2[0][2]\ +\ m1[1][2]\ *\ m2[1][2]\ +\ m1[2][2]\ *\ m2[2][2]);}}
\DoxyCodeLine{01361\ \textcolor{comment}{\}}}
\DoxyCodeLine{01362\ \textcolor{comment}{*/}}
\DoxyCodeLine{01363\ }
\DoxyCodeLine{01366\ SIMD\_FORCE\_INLINE\ \textcolor{keywordtype}{bool}\ operator==(\textcolor{keyword}{const}\ btMatrix3x3\&\ m1,\ \textcolor{keyword}{const}\ btMatrix3x3\&\ m2)}
\DoxyCodeLine{01367\ \{}
\DoxyCodeLine{01368\ \textcolor{preprocessor}{\#if\ (defined(BT\_USE\_SSE\_IN\_API)\ \&\&\ defined(BT\_USE\_SSE))}}
\DoxyCodeLine{01369\ }
\DoxyCodeLine{01370\ \ \ \ \ \_\_m128\ c0,\ c1,\ c2;}
\DoxyCodeLine{01371\ }
\DoxyCodeLine{01372\ \ \ \ \ c0\ =\ \_mm\_cmpeq\_ps(m1[0].mVec128,\ m2[0].mVec128);}
\DoxyCodeLine{01373\ \ \ \ \ c1\ =\ \_mm\_cmpeq\_ps(m1[1].mVec128,\ m2[1].mVec128);}
\DoxyCodeLine{01374\ \ \ \ \ c2\ =\ \_mm\_cmpeq\_ps(m1[2].mVec128,\ m2[2].mVec128);}
\DoxyCodeLine{01375\ }
\DoxyCodeLine{01376\ \ \ \ \ c0\ =\ \_mm\_and\_ps(c0,\ c1);}
\DoxyCodeLine{01377\ \ \ \ \ c0\ =\ \_mm\_and\_ps(c0,\ c2);}
\DoxyCodeLine{01378\ }
\DoxyCodeLine{01379\ \ \ \ \ \textcolor{keywordtype}{int}\ m\ =\ \_mm\_movemask\_ps((\_\_m128)c0);}
\DoxyCodeLine{01380\ \ \ \ \ \textcolor{keywordflow}{return}\ (0x7\ ==\ (m\ \&\ 0x7));}
\DoxyCodeLine{01381\ }
\DoxyCodeLine{01382\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01383\ \ \ \ \ \textcolor{keywordflow}{return}\ (m1[0][0]\ ==\ m2[0][0]\ \&\&\ m1[1][0]\ ==\ m2[1][0]\ \&\&\ m1[2][0]\ ==\ m2[2][0]\ \&\&}
\DoxyCodeLine{01384\ \ \ \ \ \ \ \ \ \ \ \ \ m1[0][1]\ ==\ m2[0][1]\ \&\&\ m1[1][1]\ ==\ m2[1][1]\ \&\&\ m1[2][1]\ ==\ m2[2][1]\ \&\&}
\DoxyCodeLine{01385\ \ \ \ \ \ \ \ \ \ \ \ \ m1[0][2]\ ==\ m2[0][2]\ \&\&\ m1[1][2]\ ==\ m2[1][2]\ \&\&\ m1[2][2]\ ==\ m2[2][2]);}
\DoxyCodeLine{01386\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01387\ \}}
\DoxyCodeLine{01388\ }
\DoxyCodeLine{01390\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structbt_matrix3x3_float_data}{btMatrix3x3FloatData}}}
\DoxyCodeLine{01391\ \{}
\DoxyCodeLine{01392\ \ \ \ \ \mbox{\hyperlink{structbt_vector3_float_data}{btVector3FloatData}}\ m\_el[3];}
\DoxyCodeLine{01393\ \};}
\DoxyCodeLine{01394\ }
\DoxyCodeLine{01396\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structbt_matrix3x3_double_data}{btMatrix3x3DoubleData}}}
\DoxyCodeLine{01397\ \{}
\DoxyCodeLine{01398\ \ \ \ \ \mbox{\hyperlink{structbt_vector3_double_data}{btVector3DoubleData}}\ m\_el[3];}
\DoxyCodeLine{01399\ \};}
\DoxyCodeLine{01400\ }
\DoxyCodeLine{01401\ SIMD\_FORCE\_INLINE\ \textcolor{keywordtype}{void}\ btMatrix3x3::serialize(\textcolor{keyword}{struct}\ btMatrix3x3Data\&\ dataOut)\textcolor{keyword}{\ const}}
\DoxyCodeLine{01402\ \textcolor{keyword}{}\{}
\DoxyCodeLine{01403\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 3;\ i++)}
\DoxyCodeLine{01404\ \ \ \ \ \ \ \ \ m\_el[i].serialize(dataOut.m\_el[i]);}
\DoxyCodeLine{01405\ \}}
\DoxyCodeLine{01406\ }
\DoxyCodeLine{01407\ SIMD\_FORCE\_INLINE\ \textcolor{keywordtype}{void}\ btMatrix3x3::serializeFloat(\textcolor{keyword}{struct}\ \mbox{\hyperlink{structbt_matrix3x3_float_data}{btMatrix3x3FloatData}}\&\ dataOut)\textcolor{keyword}{\ const}}
\DoxyCodeLine{01408\ \textcolor{keyword}{}\{}
\DoxyCodeLine{01409\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 3;\ i++)}
\DoxyCodeLine{01410\ \ \ \ \ \ \ \ \ m\_el[i].serializeFloat(dataOut.m\_el[i]);}
\DoxyCodeLine{01411\ \}}
\DoxyCodeLine{01412\ }
\DoxyCodeLine{01413\ SIMD\_FORCE\_INLINE\ \textcolor{keywordtype}{void}\ btMatrix3x3::deSerialize(\textcolor{keyword}{const}\ \textcolor{keyword}{struct}\ btMatrix3x3Data\&\ dataIn)}
\DoxyCodeLine{01414\ \{}
\DoxyCodeLine{01415\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 3;\ i++)}
\DoxyCodeLine{01416\ \ \ \ \ \ \ \ \ m\_el[i].deSerialize(dataIn.m\_el[i]);}
\DoxyCodeLine{01417\ \}}
\DoxyCodeLine{01418\ }
\DoxyCodeLine{01419\ SIMD\_FORCE\_INLINE\ \textcolor{keywordtype}{void}\ btMatrix3x3::deSerializeFloat(\textcolor{keyword}{const}\ \textcolor{keyword}{struct}\ \mbox{\hyperlink{structbt_matrix3x3_float_data}{btMatrix3x3FloatData}}\&\ dataIn)}
\DoxyCodeLine{01420\ \{}
\DoxyCodeLine{01421\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 3;\ i++)}
\DoxyCodeLine{01422\ \ \ \ \ \ \ \ \ m\_el[i].deSerializeFloat(dataIn.m\_el[i]);}
\DoxyCodeLine{01423\ \}}
\DoxyCodeLine{01424\ }
\DoxyCodeLine{01425\ SIMD\_FORCE\_INLINE\ \textcolor{keywordtype}{void}\ btMatrix3x3::deSerializeDouble(\textcolor{keyword}{const}\ \textcolor{keyword}{struct}\ \mbox{\hyperlink{structbt_matrix3x3_double_data}{btMatrix3x3DoubleData}}\&\ dataIn)}
\DoxyCodeLine{01426\ \{}
\DoxyCodeLine{01427\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 3;\ i++)}
\DoxyCodeLine{01428\ \ \ \ \ \ \ \ \ m\_el[i].deSerializeDouble(dataIn.m\_el[i]);}
\DoxyCodeLine{01429\ \}}
\DoxyCodeLine{01430\ }
\DoxyCodeLine{01431\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//BT\_MATRIX3x3\_H}}

\end{DoxyCode}
